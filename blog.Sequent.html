<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="english" xml:lang="english">
<head>
<!-- 2024-09-21 Sat 18:45 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Γ ⊢ formal logic and type systems</title>
<meta name="author" content="Justin Veilleux" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="Agda.css" />
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href=""> UP </a>
 |
 <a accesskey="H" href="/"> HOME </a>
</div><div id="content" class="content">
<h1 class="title">Γ ⊢ formal logic and type systems</h1>
<blockquote>
<p>
Note: This post is quite long, it is not finished and I might end up splitting
it into multiple parts in the end. A lot of thing I want are already there, but
some, like normalization proofs and human-usable variable references are
missing.
</p>

<p>
&#x2014; Justin
</p>
</blockquote>


<p>
If like me, you are interested in programming language theory, you have probably
encountered the following notation and were at first confused by it:
</p>


<div id="org84f2bf2" class="figure">
<p><img src="assets/sequent.svg" alt="sequent.svg" class="org-svg" />
</p>
</div>

<p>
This notation was invented to serve as a meta language in which to talk about
new formal systems. Here, we use it to define a language's \( \times \)-intro rule,
which tells us that:
</p>

<blockquote>
<p>
If in a context with variables \( \Gamma \), the term \( a \) has type \( A \) and
the term \( b \) has type \( B \), then in the same context, the term \( \langle a, b
\rangle \) has type \( A \times B \).
</p>
</blockquote>

<p>
Operationalizing this deduction rule into a type checker would give you
something like
</p>

<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #8f0075;">typeCheck</span> <span style="color: #3548cf;">::</span> <span style="color: #531ab6; font-weight: bold;">Ctx</span> <span style="color: #3548cf;">-&gt;</span> <span style="color: #531ab6; font-weight: bold;">Term</span> <span style="color: #3548cf;">-&gt;</span> <span style="color: #531ab6; font-weight: bold;">Type</span> <span style="color: #3548cf;">-&gt;</span> <span style="color: #531ab6; font-weight: bold;">Bool</span>
<span style="color: #8f0075;">typeCheck</span> <span style="color: #531ab6; font-weight: bold;">&#915;</span> &#10216; a , b &#10217; (tA <span style="color: #3548cf;">&#215;</span> tB) <span style="color: #3548cf;">=</span> typeCheck <span style="color: #531ab6; font-weight: bold;">&#915;</span> a tA <span style="color: #3548cf;">&amp;&amp;</span>
                                  typeCheck <span style="color: #531ab6; font-weight: bold;">&#915;</span> b tB
</pre>
</div>

<p>
Usually, proving a result about our object is done by chaining together the
correct deduction rules until we get the result we want on the bottom line. For
instance, it is possible to use the \( \times \)-intro rule multiple time to create a
nested tuple like this:
</p>


<div id="orgd62c8b9" class="figure">
<p><img src="assets/many-sequent.svg" alt="many-sequent.svg" class="org-svg" />
</p>
</div>

<p>
In this post, I will show you how to describe your own object logic system using
Agda as a metalanguage to write formally verified proofs about it.
</p>

<div id="outline-container-org59baef6" class="outline-2">
<h2 id="org59baef6"><span class="section-number-2">1.</span> About Agda</h2>
<div class="outline-text-2" id="text-1">
<p>
Agda is a dependently typed purely functional programming language. Those
properties mean it looks and feels a lot like Haskell, but the dependent type
system means you can also use it as a proof assistant to formalise some
mathematics.
</p>

<p>
Agda has <a href="https://agda.readthedocs.io/en/v2.7.0.1/language/index.html">A lot</a> of very interesting features, but one of them I will use a lot in
this post is its "mixfix syntax". Agda doesn't have the concept of operators.
Identifiers can contain every character that isn't a space or a parenthesis.
This means that you must put spaces everywhere, but this system lets the user
define operators that take any form. For instance, if you give a function the
name of <code>_+_</code>, then <code>_+_ x y</code> is the same as <code>x + y</code>. If you give a function the name
<code>if_then_else_</code>, then <code>if_then_else_ something yes no</code> is the same as <code>if something
then yes else no</code>. I will use this feature so that the syntax of judgments is
similar to what you would read in the literature (the \( \Gamma \vdash P \) syntax).
</p>
</div>
</div>

<div id="outline-container-org5fcd58b" class="outline-2">
<h2 id="org5fcd58b"><span class="section-number-2">2.</span> Propositional logic</h2>
<div class="outline-text-2" id="text-2">
<p>
We know that the language of propositions contains (at least) two propositions
\( \top \) and \( \bot \), two connectives \( \vee \) and \( \wedge \) and the negation
\( \neg \).
</p>

<pre class="Agda">
  <a id="3992" class="Keyword">data</a> <a id="PropositionalLogic.Prop"></a><a id="3997" href="blog.Sequent.html#3997" class="Datatype">Prop</a> <a id="4002" class="Symbol">:</a> <a id="4004" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="4008" class="Keyword">where</a>
    <a id="PropositionalLogic.Prop.⊤"></a><a id="4018" href="blog.Sequent.html#4018" class="InductiveConstructor">⊤</a> <a id="4020" class="Symbol">:</a> <a id="4022" href="blog.Sequent.html#3997" class="Datatype">Prop</a>
    <a id="PropositionalLogic.Prop.⊥"></a><a id="4031" href="blog.Sequent.html#4031" class="InductiveConstructor">⊥</a> <a id="4033" class="Symbol">:</a> <a id="4035" href="blog.Sequent.html#3997" class="Datatype">Prop</a>
    <a id="PropositionalLogic.Prop._∧_"></a><a id="4044" href="blog.Sequent.html#4044" class="InductiveConstructor Operator">_∧_</a> <a id="4048" class="Symbol">:</a> <a id="4050" href="blog.Sequent.html#3997" class="Datatype">Prop</a> <a id="4055" class="Symbol">-&gt;</a> <a id="4058" href="blog.Sequent.html#3997" class="Datatype">Prop</a> <a id="4063" class="Symbol">-&gt;</a> <a id="4066" href="blog.Sequent.html#3997" class="Datatype">Prop</a>
    <a id="PropositionalLogic.Prop._∨_"></a><a id="4075" href="blog.Sequent.html#4075" class="InductiveConstructor Operator">_∨_</a> <a id="4079" class="Symbol">:</a> <a id="4081" href="blog.Sequent.html#3997" class="Datatype">Prop</a> <a id="4086" class="Symbol">-&gt;</a> <a id="4089" href="blog.Sequent.html#3997" class="Datatype">Prop</a> <a id="4094" class="Symbol">-&gt;</a> <a id="4097" href="blog.Sequent.html#3997" class="Datatype">Prop</a>
    <a id="PropositionalLogic.Prop.¬_"></a><a id="4106" href="blog.Sequent.html#4106" class="InductiveConstructor Operator">¬_</a> <a id="4109" class="Symbol">:</a> <a id="4111" href="blog.Sequent.html#3997" class="Datatype">Prop</a> <a id="4116" class="Symbol">-&gt;</a> <a id="4119" href="blog.Sequent.html#3997" class="Datatype">Prop</a>
  
  <a id="4129" class="Keyword">infixl</a> <a id="4136" class="Number">6</a> <a id="4138" href="blog.Sequent.html#4044" class="InductiveConstructor Operator">_∧_</a>
  <a id="4144" class="Keyword">infixl</a> <a id="4151" class="Number">5</a> <a id="4153" href="blog.Sequent.html#4075" class="InductiveConstructor Operator">_∨_</a>
  <a id="4159" class="Keyword">infix</a> <a id="4165" class="Number">7</a> <a id="4167" href="blog.Sequent.html#4106" class="InductiveConstructor Operator">¬_</a>
</pre>

<p>
With this definition, we can give concrete examples of propositions
</p>

<pre class="Agda">
  <a id="PropositionalLogic.some-prop"></a><a id="4270" href="blog.Sequent.html#4270" class="Function">some-prop</a> <a id="4280" class="Symbol">:</a> <a id="4282" href="blog.Sequent.html#3997" class="Datatype">Prop</a>
  <a id="4289" href="blog.Sequent.html#4270" class="Function">some-prop</a> <a id="4299" class="Symbol">=</a> <a id="4301" href="blog.Sequent.html#4018" class="InductiveConstructor">⊤</a> <a id="4303" href="blog.Sequent.html#4044" class="InductiveConstructor Operator">∧</a> <a id="4305" href="blog.Sequent.html#4106" class="InductiveConstructor Operator">¬</a> <a id="4307" href="blog.Sequent.html#4031" class="InductiveConstructor">⊥</a>
</pre>


<p>
Now that we have defined the language of propositions, we need to define the language of contexts
</p>
</div>

<div id="outline-container-org790cc39" class="outline-3">
<h3 id="org790cc39"><span class="section-number-3">2.1.</span> Contexts</h3>
<div class="outline-text-3" id="text-2-1">
<p>
In logic, it is very important to be able to talk about "hypotheses" that one
can use to prove some proposition. It is common to represent the set of
hypotheses as a "context" which is pretty much just a list of all the
propositions we assume to be true.
</p>

<pre class="Agda">
  <a id="4709" class="Keyword">data</a> <a id="PropositionalLogic.Ctx"></a><a id="4714" href="blog.Sequent.html#4714" class="Datatype">Ctx</a> <a id="4718" class="Symbol">:</a> <a id="4720" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="4724" class="Keyword">where</a>
    <a id="4734" class="Comment">-- The empty context</a>
    <a id="PropositionalLogic.Ctx.·"></a><a id="4759" href="blog.Sequent.html#4759" class="InductiveConstructor">·</a> <a id="4761" class="Symbol">:</a> <a id="4763" href="blog.Sequent.html#4714" class="Datatype">Ctx</a>
    <a id="4771" class="Comment">-- A context with at least one hypothesis</a>
    <a id="PropositionalLogic.Ctx._,_"></a><a id="4817" href="blog.Sequent.html#4817" class="InductiveConstructor Operator">_,_</a> <a id="4821" class="Symbol">:</a> <a id="4823" href="blog.Sequent.html#4714" class="Datatype">Ctx</a> <a id="4827" class="Symbol">-&gt;</a> <a id="4830" href="blog.Sequent.html#3997" class="Datatype">Prop</a> <a id="4835" class="Symbol">-&gt;</a> <a id="4838" href="blog.Sequent.html#4714" class="Datatype">Ctx</a>
  
  <a id="4847" class="Keyword">infixl</a> <a id="4854" class="Number">4</a> <a id="4856" href="blog.Sequent.html#4817" class="InductiveConstructor Operator">_,_</a>
</pre>

<p>
We will also need some way to represent the fact that our context contains some
hypothesis.
</p>

<pre class="Agda">
  <a id="4984" class="Keyword">infix</a> <a id="4990" class="Number">3</a> <a id="4992" href="blog.Sequent.html#5006" class="Datatype Operator">_∋_</a>
  
  <a id="5001" class="Keyword">data</a> <a id="PropositionalLogic._∋_"></a><a id="5006" href="blog.Sequent.html#5006" class="Datatype Operator">_∋_</a> <a id="5010" class="Symbol">:</a> <a id="5012" href="blog.Sequent.html#4714" class="Datatype">Ctx</a> <a id="5016" class="Symbol">-&gt;</a> <a id="5019" href="blog.Sequent.html#3997" class="Datatype">Prop</a> <a id="5024" class="Symbol">-&gt;</a> <a id="5027" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="5031" class="Keyword">where</a>
    <a id="5041" class="Comment">-- it&#39;s the rightmost hypothesis</a>
    <a id="PropositionalLogic._∋_.here"></a><a id="5078" href="blog.Sequent.html#5078" class="InductiveConstructor">here</a> <a id="5083" class="Symbol">:</a> <a id="5085" class="Symbol">∀{</a><a id="5087" href="blog.Sequent.html#5087" class="Bound">Γ</a> <a id="5089" href="blog.Sequent.html#5089" class="Bound">P</a><a id="5090" class="Symbol">}</a> <a id="5092" class="Symbol">-&gt;</a> <a id="5095" href="blog.Sequent.html#5087" class="Bound">Γ</a> <a id="5097" href="blog.Sequent.html#4817" class="InductiveConstructor Operator">,</a> <a id="5099" href="blog.Sequent.html#5089" class="Bound">P</a> <a id="5101" href="blog.Sequent.html#5006" class="Datatype Operator">∋</a> <a id="5103" href="blog.Sequent.html#5089" class="Bound">P</a>
    <a id="5109" class="Comment">-- it&#39;s further left</a>
    <a id="PropositionalLogic._∋_.there"></a><a id="5134" href="blog.Sequent.html#5134" class="InductiveConstructor">there</a> <a id="5140" class="Symbol">:</a> <a id="5142" class="Symbol">∀{</a><a id="5144" href="blog.Sequent.html#5144" class="Bound">Γ</a> <a id="5146" href="blog.Sequent.html#5146" class="Bound">P</a> <a id="5148" href="blog.Sequent.html#5148" class="Bound">Q</a><a id="5149" class="Symbol">}</a> <a id="5151" class="Symbol">-&gt;</a> <a id="5154" href="blog.Sequent.html#5144" class="Bound">Γ</a> <a id="5156" href="blog.Sequent.html#5006" class="Datatype Operator">∋</a> <a id="5158" href="blog.Sequent.html#5146" class="Bound">P</a> <a id="5160" class="Symbol">-&gt;</a> <a id="5163" href="blog.Sequent.html#5144" class="Bound">Γ</a> <a id="5165" href="blog.Sequent.html#4817" class="InductiveConstructor Operator">,</a> <a id="5167" href="blog.Sequent.html#5148" class="Bound">Q</a> <a id="5169" href="blog.Sequent.html#5006" class="Datatype Operator">∋</a> <a id="5171" href="blog.Sequent.html#5146" class="Bound">P</a>
  
  <a id="5178" class="Comment">-- An example of referring to the P proposition in · , P , Q , R</a>
  <a id="5245" href="blog.Sequent.html#5245" class="Function">_</a> <a id="5247" class="Symbol">:</a> <a id="5249" class="Symbol">∀{</a><a id="5251" href="blog.Sequent.html#5251" class="Bound">P</a> <a id="5253" href="blog.Sequent.html#5253" class="Bound">Q</a> <a id="5255" href="blog.Sequent.html#5255" class="Bound">R</a><a id="5256" class="Symbol">}</a> <a id="5258" class="Symbol">-&gt;</a> <a id="5261" href="blog.Sequent.html#4759" class="InductiveConstructor">·</a> <a id="5263" href="blog.Sequent.html#4817" class="InductiveConstructor Operator">,</a> <a id="5265" href="blog.Sequent.html#5251" class="Bound">P</a> <a id="5267" href="blog.Sequent.html#4817" class="InductiveConstructor Operator">,</a> <a id="5269" href="blog.Sequent.html#5253" class="Bound">Q</a> <a id="5271" href="blog.Sequent.html#4817" class="InductiveConstructor Operator">,</a> <a id="5273" href="blog.Sequent.html#5255" class="Bound">R</a> <a id="5275" href="blog.Sequent.html#5006" class="Datatype Operator">∋</a> <a id="5277" href="blog.Sequent.html#5251" class="Bound">P</a>
  <a id="5281" class="Symbol">_</a> <a id="5283" class="Symbol">=</a> <a id="5285" href="blog.Sequent.html#5134" class="InductiveConstructor">there</a> <a id="5291" class="Symbol">(</a><a id="5292" href="blog.Sequent.html#5134" class="InductiveConstructor">there</a> <a id="5298" href="blog.Sequent.html#5078" class="InductiveConstructor">here</a><a id="5302" class="Symbol">)</a>
</pre>
</div>
</div>

<div id="outline-container-org61a0ee2" class="outline-3">
<h3 id="org61a0ee2"><span class="section-number-3">2.2.</span> Judgments</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Finally, we have everything necessary to define the derivation rules of classical
logic.
</p>

<p>
Usually, rules can be put into either of two categories: structural rules, or
logical rules. Logical rules are the ones which describe how certain constructs
interact, whereas structural rules describe how the context can be manipulated.
In the case of classical logic, we will have only one such structural rule, <code>hypo</code>
(which let us use a hypothesis), which will be sufficient for all of our
context-manipulation needs. Logics which have more restrictions in the way in
which the context is manipulated are usually called <a href="https://en.wikipedia.org/wiki/Substructural_logic">substructural logics</a> and
they instead use weaker, but more numerous structural rules.
</p>

<p>
Each construct in a logical system is usually associated with three logical
rules:
</p>

<ol class="org-ol">
<li>A <b>formation</b> rule which asserts the existence of your construct.</li>
<li>An <b>introduction</b> rule which gives you a way to create a proof of the
construct.</li>
<li>An <b>elimination</b> rule which lets you use the proof.</li>
</ol>

<p>
Since we have defined all of our constructs in the <code>Prop</code> type, we won't be
writing down formation rules, but introduction and elimination rules will still
be there. Note that eliminators usually follow a certain pattern: the subject
(the thing to eliminate) is the first argument and the different branches (think
of \( \vee \)) follow.
</p>

<pre class="Agda">
  <a id="6740" class="Keyword">infix</a> <a id="6746" class="Number">3</a> <a id="6748" href="blog.Sequent.html#6762" class="Datatype Operator">_⊢_</a>
  
  <a id="6757" class="Keyword">data</a> <a id="PropositionalLogic._⊢_"></a><a id="6762" href="blog.Sequent.html#6762" class="Datatype Operator">_⊢_</a> <a id="6766" class="Symbol">:</a> <a id="6768" href="blog.Sequent.html#4714" class="Datatype">Ctx</a> <a id="6772" class="Symbol">-&gt;</a> <a id="6775" href="blog.Sequent.html#3997" class="Datatype">Prop</a> <a id="6780" class="Symbol">-&gt;</a> <a id="6783" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="6787" class="Keyword">where</a>
    <a id="PropositionalLogic._⊢_.hypo"></a><a id="6797" href="blog.Sequent.html#6797" class="InductiveConstructor">hypo</a> <a id="6802" class="Symbol">:</a> <a id="6804" class="Symbol">∀{</a><a id="6806" href="blog.Sequent.html#6806" class="Bound">Γ</a> <a id="6808" href="blog.Sequent.html#6808" class="Bound">P</a><a id="6809" class="Symbol">}</a> <a id="6811" class="Symbol">-&gt;</a> <a id="6814" href="blog.Sequent.html#6806" class="Bound">Γ</a> <a id="6816" href="blog.Sequent.html#5006" class="Datatype Operator">∋</a> <a id="6818" href="blog.Sequent.html#6808" class="Bound">P</a> <a id="6820" class="Symbol">-&gt;</a> <a id="6823" href="blog.Sequent.html#6806" class="Bound">Γ</a> <a id="6825" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="6827" href="blog.Sequent.html#6808" class="Bound">P</a>
</pre>


<div id="org53de23c" class="figure">
<p><img src="assets/hypo.svg" alt="hypo.svg" class="org-svg" />
</p>
</div>

<pre class="Agda">
    <a id="7081" class="Comment">-- ⊤ is true in every context</a>
    <a id="PropositionalLogic._⊢_.⊤-intro"></a><a id="7115" href="blog.Sequent.html#7115" class="InductiveConstructor">⊤-intro</a> <a id="7123" class="Symbol">:</a> <a id="7125" class="Symbol">∀{</a><a id="7127" href="blog.Sequent.html#7127" class="Bound">Γ</a><a id="7128" class="Symbol">}</a> <a id="7130" class="Symbol">-&gt;</a> <a id="7133" href="blog.Sequent.html#7127" class="Bound">Γ</a> <a id="7135" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="7137" href="blog.Sequent.html#4018" class="InductiveConstructor">⊤</a>
</pre>


<div id="org5c43368" class="figure">
<p><img src="assets/top-intro.svg" alt="top-intro.svg" class="org-svg" />
</p>
</div>

<pre class="Agda">
    <a id="PropositionalLogic._⊢_.⊤-elim"></a><a id="7382" href="blog.Sequent.html#7382" class="InductiveConstructor">⊤-elim</a> <a id="7389" class="Symbol">:</a> <a id="7391" class="Symbol">∀{</a><a id="7393" href="blog.Sequent.html#7393" class="Bound">Γ</a> <a id="7395" href="blog.Sequent.html#7395" class="Bound">P</a><a id="7396" class="Symbol">}</a> <a id="7398" class="Symbol">-&gt;</a> <a id="7401" href="blog.Sequent.html#7393" class="Bound">Γ</a> <a id="7403" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="7405" href="blog.Sequent.html#4018" class="InductiveConstructor">⊤</a> <a id="7407" class="Symbol">-&gt;</a> <a id="7410" href="blog.Sequent.html#7393" class="Bound">Γ</a> <a id="7412" href="blog.Sequent.html#4817" class="InductiveConstructor Operator">,</a> <a id="7414" href="blog.Sequent.html#4018" class="InductiveConstructor">⊤</a> <a id="7416" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="7418" href="blog.Sequent.html#7395" class="Bound">P</a> <a id="7420" class="Symbol">-&gt;</a> <a id="7423" href="blog.Sequent.html#7393" class="Bound">Γ</a> <a id="7425" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="7427" href="blog.Sequent.html#7395" class="Bound">P</a>
  
    <a id="7436" class="Comment">-- ⊥ has no introduction rule as it is the false proposition</a>
  
    <a id="7504" class="Comment">-- ex falso quodlibet</a>
    <a id="PropositionalLogic._⊢_.⊥-elim"></a><a id="7530" href="blog.Sequent.html#7530" class="InductiveConstructor">⊥-elim</a> <a id="7537" class="Symbol">:</a> <a id="7539" class="Symbol">∀{</a><a id="7541" href="blog.Sequent.html#7541" class="Bound">Γ</a> <a id="7543" href="blog.Sequent.html#7543" class="Bound">P</a><a id="7544" class="Symbol">}</a> <a id="7546" class="Symbol">-&gt;</a> <a id="7549" href="blog.Sequent.html#7541" class="Bound">Γ</a> <a id="7551" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="7553" href="blog.Sequent.html#4031" class="InductiveConstructor">⊥</a> <a id="7555" class="Symbol">-&gt;</a> <a id="7558" href="blog.Sequent.html#7541" class="Bound">Γ</a> <a id="7560" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="7562" href="blog.Sequent.html#7543" class="Bound">P</a>
</pre>


<div id="org71c487d" class="figure">
<p><img src="assets/bot-elim.svg" alt="bot-elim.svg" class="org-svg" />
</p>
</div>

<pre class="Agda">
    <a id="7835" class="Comment">-- To prove P ∨ Q, it suffices to prove either P or Q</a>
    <a id="PropositionalLogic._⊢_.∨-intro-left"></a><a id="7893" href="blog.Sequent.html#7893" class="InductiveConstructor">∨-intro-left</a> <a id="7906" class="Symbol">:</a> <a id="7908" class="Symbol">∀{</a><a id="7910" href="blog.Sequent.html#7910" class="Bound">Γ</a><a id="7911" class="Symbol">}</a> <a id="7913" class="Symbol">{</a><a id="7914" href="blog.Sequent.html#7914" class="Bound">P</a> <a id="7916" href="blog.Sequent.html#7916" class="Bound">Q</a> <a id="7918" class="Symbol">:</a> <a id="7920" href="blog.Sequent.html#3997" class="Datatype">Prop</a><a id="7924" class="Symbol">}</a> <a id="7926" class="Symbol">-&gt;</a> <a id="7929" href="blog.Sequent.html#7910" class="Bound">Γ</a> <a id="7931" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="7933" href="blog.Sequent.html#7914" class="Bound">P</a> <a id="7935" class="Symbol">-&gt;</a> <a id="7938" href="blog.Sequent.html#7910" class="Bound">Γ</a> <a id="7940" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="7942" href="blog.Sequent.html#7914" class="Bound">P</a> <a id="7944" href="blog.Sequent.html#4075" class="InductiveConstructor Operator">∨</a> <a id="7946" href="blog.Sequent.html#7916" class="Bound">Q</a>
    <a id="PropositionalLogic._⊢_.∨-intro-right"></a><a id="7952" href="blog.Sequent.html#7952" class="InductiveConstructor">∨-intro-right</a> <a id="7966" class="Symbol">:</a> <a id="7968" class="Symbol">∀{</a><a id="7970" href="blog.Sequent.html#7970" class="Bound">Γ</a><a id="7971" class="Symbol">}</a> <a id="7973" class="Symbol">{</a><a id="7974" href="blog.Sequent.html#7974" class="Bound">P</a> <a id="7976" href="blog.Sequent.html#7976" class="Bound">Q</a> <a id="7978" class="Symbol">:</a> <a id="7980" href="blog.Sequent.html#3997" class="Datatype">Prop</a><a id="7984" class="Symbol">}</a> <a id="7986" class="Symbol">-&gt;</a> <a id="7989" href="blog.Sequent.html#7970" class="Bound">Γ</a> <a id="7991" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="7993" href="blog.Sequent.html#7976" class="Bound">Q</a> <a id="7995" class="Symbol">-&gt;</a> <a id="7998" href="blog.Sequent.html#7970" class="Bound">Γ</a> <a id="8000" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="8002" href="blog.Sequent.html#7974" class="Bound">P</a> <a id="8004" href="blog.Sequent.html#4075" class="InductiveConstructor Operator">∨</a> <a id="8006" href="blog.Sequent.html#7976" class="Bound">Q</a>
    <a id="8012" class="Comment">-- To use P ∨ Q, it suffices to be able to use both P and Q</a>
    <a id="PropositionalLogic._⊢_.∨-elim"></a><a id="8076" href="blog.Sequent.html#8076" class="InductiveConstructor">∨-elim</a> <a id="8083" class="Symbol">:</a> <a id="8085" class="Symbol">∀{</a><a id="8087" href="blog.Sequent.html#8087" class="Bound">Γ</a> <a id="8089" href="blog.Sequent.html#8089" class="Bound">P</a> <a id="8091" href="blog.Sequent.html#8091" class="Bound">Q</a> <a id="8093" href="blog.Sequent.html#8093" class="Bound">R</a><a id="8094" class="Symbol">}</a> <a id="8096" class="Symbol">-&gt;</a> <a id="8099" href="blog.Sequent.html#8087" class="Bound">Γ</a> <a id="8101" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="8103" href="blog.Sequent.html#8089" class="Bound">P</a> <a id="8105" href="blog.Sequent.html#4075" class="InductiveConstructor Operator">∨</a> <a id="8107" href="blog.Sequent.html#8091" class="Bound">Q</a> <a id="8109" class="Symbol">-&gt;</a> <a id="8112" href="blog.Sequent.html#8087" class="Bound">Γ</a> <a id="8114" href="blog.Sequent.html#4817" class="InductiveConstructor Operator">,</a> <a id="8116" href="blog.Sequent.html#8089" class="Bound">P</a> <a id="8118" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="8120" href="blog.Sequent.html#8093" class="Bound">R</a> <a id="8122" class="Symbol">-&gt;</a> <a id="8125" href="blog.Sequent.html#8087" class="Bound">Γ</a> <a id="8127" href="blog.Sequent.html#4817" class="InductiveConstructor Operator">,</a> <a id="8129" href="blog.Sequent.html#8091" class="Bound">Q</a> <a id="8131" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="8133" href="blog.Sequent.html#8093" class="Bound">R</a> <a id="8135" class="Symbol">-&gt;</a> <a id="8138" href="blog.Sequent.html#8087" class="Bound">Γ</a> <a id="8140" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="8142" href="blog.Sequent.html#8093" class="Bound">R</a>
</pre>


<div id="org5703e51" class="figure">
<p><img src="assets/vee-rules.svg" alt="vee-rules.svg" class="org-svg" />
</p>
</div>

<pre class="Agda">
    <a id="8654" class="Comment">-- To prove P ∧ Q, you must prove both P and Q</a>
    <a id="PropositionalLogic._⊢_.∧-intro"></a><a id="8705" href="blog.Sequent.html#8705" class="InductiveConstructor">∧-intro</a> <a id="8713" class="Symbol">:</a> <a id="8715" class="Symbol">∀{</a><a id="8717" href="blog.Sequent.html#8717" class="Bound">Γ</a> <a id="8719" href="blog.Sequent.html#8719" class="Bound">P</a> <a id="8721" href="blog.Sequent.html#8721" class="Bound">Q</a><a id="8722" class="Symbol">}</a> <a id="8724" class="Symbol">-&gt;</a> <a id="8727" href="blog.Sequent.html#8717" class="Bound">Γ</a> <a id="8729" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="8731" href="blog.Sequent.html#8719" class="Bound">P</a> <a id="8733" class="Symbol">-&gt;</a> <a id="8736" href="blog.Sequent.html#8717" class="Bound">Γ</a> <a id="8738" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="8740" href="blog.Sequent.html#8721" class="Bound">Q</a> <a id="8742" class="Symbol">-&gt;</a> <a id="8745" href="blog.Sequent.html#8717" class="Bound">Γ</a> <a id="8747" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="8749" href="blog.Sequent.html#8719" class="Bound">P</a> <a id="8751" href="blog.Sequent.html#4044" class="InductiveConstructor Operator">∧</a> <a id="8753" href="blog.Sequent.html#8721" class="Bound">Q</a>
    <a id="PropositionalLogic._⊢_.∧-elim"></a><a id="8759" href="blog.Sequent.html#8759" class="InductiveConstructor">∧-elim</a> <a id="8766" class="Symbol">:</a> <a id="8768" class="Symbol">∀{</a><a id="8770" href="blog.Sequent.html#8770" class="Bound">Γ</a> <a id="8772" href="blog.Sequent.html#8772" class="Bound">P</a> <a id="8774" href="blog.Sequent.html#8774" class="Bound">Q</a> <a id="8776" href="blog.Sequent.html#8776" class="Bound">R</a><a id="8777" class="Symbol">}</a> <a id="8779" class="Symbol">-&gt;</a> <a id="8782" href="blog.Sequent.html#8770" class="Bound">Γ</a> <a id="8784" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="8786" href="blog.Sequent.html#8772" class="Bound">P</a> <a id="8788" href="blog.Sequent.html#4044" class="InductiveConstructor Operator">∧</a> <a id="8790" href="blog.Sequent.html#8774" class="Bound">Q</a> <a id="8792" class="Symbol">-&gt;</a> <a id="8795" href="blog.Sequent.html#8770" class="Bound">Γ</a> <a id="8797" href="blog.Sequent.html#4817" class="InductiveConstructor Operator">,</a> <a id="8799" href="blog.Sequent.html#8772" class="Bound">P</a> <a id="8801" href="blog.Sequent.html#4817" class="InductiveConstructor Operator">,</a> <a id="8803" href="blog.Sequent.html#8774" class="Bound">Q</a> <a id="8805" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="8807" href="blog.Sequent.html#8776" class="Bound">R</a> <a id="8809" class="Symbol">-&gt;</a> <a id="8812" href="blog.Sequent.html#8770" class="Bound">Γ</a> <a id="8814" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="8816" href="blog.Sequent.html#8776" class="Bound">R</a>
</pre>


<div id="org6721998" class="figure">
<p><img src="assets/wedge-rules.svg" alt="wedge-rules.svg" class="org-svg" />
</p>
</div>


<pre class="Agda">
    <a id="PropositionalLogic._⊢_.explosion"></a><a id="9223" href="blog.Sequent.html#9223" class="InductiveConstructor">explosion</a> <a id="9233" class="Symbol">:</a> <a id="9235" class="Symbol">∀{</a><a id="9237" href="blog.Sequent.html#9237" class="Bound">Γ</a> <a id="9239" href="blog.Sequent.html#9239" class="Bound">P</a><a id="9240" class="Symbol">}</a> <a id="9242" class="Symbol">-&gt;</a> <a id="9245" href="blog.Sequent.html#9237" class="Bound">Γ</a> <a id="9247" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="9249" href="blog.Sequent.html#9239" class="Bound">P</a> <a id="9251" class="Symbol">-&gt;</a> <a id="9254" href="blog.Sequent.html#9237" class="Bound">Γ</a> <a id="9256" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="9258" href="blog.Sequent.html#4106" class="InductiveConstructor Operator">¬</a> <a id="9260" href="blog.Sequent.html#9239" class="Bound">P</a> <a id="9262" class="Symbol">-&gt;</a> <a id="9265" href="blog.Sequent.html#9237" class="Bound">Γ</a> <a id="9267" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="9269" href="blog.Sequent.html#4031" class="InductiveConstructor">⊥</a>
</pre>


<div id="org060ad30" class="figure">
<p><img src="assets/explosion.svg" alt="explosion.svg" class="org-svg" />
</p>
</div>


<pre class="Agda">
    <a id="PropositionalLogic._⊢_.excluded-middle"></a><a id="9527" href="blog.Sequent.html#9527" class="InductiveConstructor">excluded-middle</a> <a id="9543" class="Symbol">:</a> <a id="9545" class="Symbol">∀{</a><a id="9547" href="blog.Sequent.html#9547" class="Bound">Γ</a> <a id="9549" href="blog.Sequent.html#9549" class="Bound">P</a><a id="9550" class="Symbol">}</a> <a id="9552" class="Symbol">-&gt;</a> <a id="9555" href="blog.Sequent.html#9547" class="Bound">Γ</a> <a id="9557" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="9559" href="blog.Sequent.html#9549" class="Bound">P</a> <a id="9561" href="blog.Sequent.html#4075" class="InductiveConstructor Operator">∨</a> <a id="9563" href="blog.Sequent.html#4106" class="InductiveConstructor Operator">¬</a> <a id="9565" href="blog.Sequent.html#9549" class="Bound">P</a>
</pre>


<div id="orgd62cdb9" class="figure">
<p><img src="assets/excluded-middle.svg" alt="excluded-middle.svg" class="org-svg" />
</p>
</div>
</div>
</div>

<div id="outline-container-org27e0ff1" class="outline-3">
<h3 id="org27e0ff1"><span class="section-number-3">2.3.</span> Context manipulations and renaming</h3>
<div class="outline-text-3" id="text-2-3">
<p>
Earlier, I said that the <code>hypo</code> deduction rule is sufficient to do any context
manipulation we might want, let's study what that means. Concretely, we want to
verify that renaming or introducing new hypotheses won't change the truth value
of some proposition.
</p>

<p>
First, let's define what a "renaming" is
</p>

<pre class="Agda">
  <a id="PropositionalLogic.Renaming"></a><a id="10138" href="blog.Sequent.html#10138" class="Function">Renaming</a> <a id="10147" class="Symbol">:</a> <a id="10149" href="blog.Sequent.html#4714" class="Datatype">Ctx</a> <a id="10153" class="Symbol">-&gt;</a> <a id="10156" href="blog.Sequent.html#4714" class="Datatype">Ctx</a> <a id="10160" class="Symbol">-&gt;</a> <a id="10163" href="Agda.Primitive.html#388" class="Primitive">Set</a>
  <a id="10169" href="blog.Sequent.html#10138" class="Function">Renaming</a> <a id="10178" href="blog.Sequent.html#10178" class="Bound">Γ</a> <a id="10180" href="blog.Sequent.html#10180" class="Bound">Δ</a> <a id="10182" class="Symbol">=</a> <a id="10184" class="Symbol">∀{</a><a id="10186" href="blog.Sequent.html#10186" class="Bound">P</a><a id="10187" class="Symbol">}</a> <a id="10189" class="Symbol">-&gt;</a> <a id="10192" href="blog.Sequent.html#10178" class="Bound">Γ</a> <a id="10194" href="blog.Sequent.html#5006" class="Datatype Operator">∋</a> <a id="10196" href="blog.Sequent.html#10186" class="Bound">P</a> <a id="10198" class="Symbol">-&gt;</a> <a id="10201" href="blog.Sequent.html#10180" class="Bound">Δ</a> <a id="10203" href="blog.Sequent.html#5006" class="Datatype Operator">∋</a> <a id="10205" href="blog.Sequent.html#10186" class="Bound">P</a>
</pre>

<p>
It is a procedure that, for any proposition present in the old context, tells
you where to find it in the new context. If you think about it, you will notice
that such a renaming:
</p>

<ol class="org-ol">
<li>Can introduce new hypotheses.</li>
<li>Can merge identical hypotheses.</li>
<li>Cannot eliminate hypotheses.</li>
</ol>

<p>
It has exactly the behaviour we would expect from a renaming procedure. Let's
see what we can do to a renaming procedure:
</p>

<pre class="Agda">
  <a id="PropositionalLogic.extend"></a><a id="10643" href="blog.Sequent.html#10643" class="Function">extend</a> <a id="10650" class="Symbol">:</a> <a id="10652" class="Symbol">∀{</a><a id="10654" href="blog.Sequent.html#10654" class="Bound">Γ</a> <a id="10656" href="blog.Sequent.html#10656" class="Bound">Δ</a> <a id="10658" href="blog.Sequent.html#10658" class="Bound">P</a><a id="10659" class="Symbol">}</a> <a id="10661" class="Symbol">-&gt;</a> <a id="10664" href="blog.Sequent.html#10138" class="Function">Renaming</a> <a id="10673" href="blog.Sequent.html#10654" class="Bound">Γ</a> <a id="10675" href="blog.Sequent.html#10656" class="Bound">Δ</a> <a id="10677" class="Symbol">-&gt;</a> <a id="10680" href="blog.Sequent.html#10138" class="Function">Renaming</a> <a id="10689" class="Symbol">(</a><a id="10690" href="blog.Sequent.html#10654" class="Bound">Γ</a> <a id="10692" href="blog.Sequent.html#4817" class="InductiveConstructor Operator">,</a> <a id="10694" href="blog.Sequent.html#10658" class="Bound">P</a><a id="10695" class="Symbol">)</a> <a id="10697" class="Symbol">(</a><a id="10698" href="blog.Sequent.html#10656" class="Bound">Δ</a> <a id="10700" href="blog.Sequent.html#4817" class="InductiveConstructor Operator">,</a> <a id="10702" href="blog.Sequent.html#10658" class="Bound">P</a><a id="10703" class="Symbol">)</a>
  <a id="10707" href="blog.Sequent.html#10643" class="Function">extend</a> <a id="10714" href="blog.Sequent.html#10714" class="Bound">σ</a> <a id="10716" href="blog.Sequent.html#5078" class="InductiveConstructor">here</a> <a id="10721" class="Symbol">=</a> <a id="10723" href="blog.Sequent.html#5078" class="InductiveConstructor">here</a>
  <a id="10730" href="blog.Sequent.html#10643" class="Function">extend</a> <a id="10737" href="blog.Sequent.html#10737" class="Bound">σ</a> <a id="10739" class="Symbol">(</a><a id="10740" href="blog.Sequent.html#5134" class="InductiveConstructor">there</a> <a id="10746" href="blog.Sequent.html#10746" class="Bound">n</a><a id="10747" class="Symbol">)</a> <a id="10749" class="Symbol">=</a> <a id="10751" href="blog.Sequent.html#5134" class="InductiveConstructor">there</a> <a id="10757" class="Symbol">(</a><a id="10758" href="blog.Sequent.html#10737" class="Bound">σ</a> <a id="10760" href="blog.Sequent.html#10746" class="Bound">n</a><a id="10761" class="Symbol">)</a>
</pre>

<p>
This means that when we can rename \( \Gamma \) into \( \Delta \), we can extend this
renaming so that it considers one more hypothesis, but doesn't do anything to
it.
</p>

<p>
Let's see how we can use a renaming procedure
</p>

<pre class="Agda">
  <a id="PropositionalLogic.rename"></a><a id="11010" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11017" class="Symbol">:</a> <a id="11019" class="Symbol">∀{</a><a id="11021" href="blog.Sequent.html#11021" class="Bound">Γ</a> <a id="11023" href="blog.Sequent.html#11023" class="Bound">Δ</a> <a id="11025" href="blog.Sequent.html#11025" class="Bound">P</a><a id="11026" class="Symbol">}</a> <a id="11028" class="Symbol">-&gt;</a> <a id="11031" href="blog.Sequent.html#10138" class="Function">Renaming</a> <a id="11040" href="blog.Sequent.html#11021" class="Bound">Γ</a> <a id="11042" href="blog.Sequent.html#11023" class="Bound">Δ</a> <a id="11044" class="Symbol">-&gt;</a> <a id="11047" href="blog.Sequent.html#11021" class="Bound">Γ</a> <a id="11049" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="11051" href="blog.Sequent.html#11025" class="Bound">P</a> <a id="11053" class="Symbol">-&gt;</a> <a id="11056" href="blog.Sequent.html#11023" class="Bound">Δ</a> <a id="11058" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="11060" href="blog.Sequent.html#11025" class="Bound">P</a>
  <a id="11064" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11071" href="blog.Sequent.html#11071" class="Bound">σ</a> <a id="11073" class="Symbol">(</a><a id="11074" href="blog.Sequent.html#6797" class="InductiveConstructor">hypo</a> <a id="11079" href="blog.Sequent.html#11079" class="Bound">x</a><a id="11080" class="Symbol">)</a> <a id="11082" class="Symbol">=</a> <a id="11084" href="blog.Sequent.html#6797" class="InductiveConstructor">hypo</a> <a id="11089" class="Symbol">(</a><a id="11090" href="blog.Sequent.html#11071" class="Bound">σ</a> <a id="11092" href="blog.Sequent.html#11079" class="Bound">x</a><a id="11093" class="Symbol">)</a>
  <a id="11097" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11104" href="blog.Sequent.html#11104" class="Bound">σ</a> <a id="11106" href="blog.Sequent.html#7115" class="InductiveConstructor">⊤-intro</a> <a id="11114" class="Symbol">=</a> <a id="11116" href="blog.Sequent.html#7115" class="InductiveConstructor">⊤-intro</a>
  <a id="11126" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11133" href="blog.Sequent.html#11133" class="Bound">σ</a> <a id="11135" class="Symbol">(</a><a id="11136" href="blog.Sequent.html#7382" class="InductiveConstructor">⊤-elim</a> <a id="11143" href="blog.Sequent.html#11143" class="Bound">p</a> <a id="11145" href="blog.Sequent.html#11145" class="Bound">q</a><a id="11146" class="Symbol">)</a> <a id="11148" class="Symbol">=</a> <a id="11150" href="blog.Sequent.html#7382" class="InductiveConstructor">⊤-elim</a> <a id="11157" class="Symbol">(</a><a id="11158" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11165" href="blog.Sequent.html#11133" class="Bound">σ</a> <a id="11167" href="blog.Sequent.html#11143" class="Bound">p</a><a id="11168" class="Symbol">)</a> <a id="11170" class="Symbol">(</a><a id="11171" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11178" class="Symbol">(</a><a id="11179" href="blog.Sequent.html#10643" class="Function">extend</a> <a id="11186" href="blog.Sequent.html#11133" class="Bound">σ</a><a id="11187" class="Symbol">)</a> <a id="11189" href="blog.Sequent.html#11145" class="Bound">q</a><a id="11190" class="Symbol">)</a>
  <a id="11194" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11201" href="blog.Sequent.html#11201" class="Bound">σ</a> <a id="11203" class="Symbol">(</a><a id="11204" href="blog.Sequent.html#7530" class="InductiveConstructor">⊥-elim</a> <a id="11211" href="blog.Sequent.html#11211" class="Bound">p</a><a id="11212" class="Symbol">)</a> <a id="11214" class="Symbol">=</a> <a id="11216" href="blog.Sequent.html#7530" class="InductiveConstructor">⊥-elim</a> <a id="11223" class="Symbol">(</a><a id="11224" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11231" href="blog.Sequent.html#11201" class="Bound">σ</a> <a id="11233" href="blog.Sequent.html#11211" class="Bound">p</a><a id="11234" class="Symbol">)</a>
  <a id="11238" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11245" href="blog.Sequent.html#11245" class="Bound">σ</a> <a id="11247" class="Symbol">(</a><a id="11248" href="blog.Sequent.html#7893" class="InductiveConstructor">∨-intro-left</a> <a id="11261" href="blog.Sequent.html#11261" class="Bound">p</a><a id="11262" class="Symbol">)</a> <a id="11264" class="Symbol">=</a> <a id="11266" href="blog.Sequent.html#7893" class="InductiveConstructor">∨-intro-left</a> <a id="11279" class="Symbol">(</a><a id="11280" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11287" href="blog.Sequent.html#11245" class="Bound">σ</a> <a id="11289" href="blog.Sequent.html#11261" class="Bound">p</a><a id="11290" class="Symbol">)</a>
  <a id="11294" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11301" href="blog.Sequent.html#11301" class="Bound">σ</a> <a id="11303" class="Symbol">(</a><a id="11304" href="blog.Sequent.html#7952" class="InductiveConstructor">∨-intro-right</a> <a id="11318" href="blog.Sequent.html#11318" class="Bound">p</a><a id="11319" class="Symbol">)</a> <a id="11321" class="Symbol">=</a> <a id="11323" href="blog.Sequent.html#7952" class="InductiveConstructor">∨-intro-right</a> <a id="11337" class="Symbol">(</a><a id="11338" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11345" href="blog.Sequent.html#11301" class="Bound">σ</a> <a id="11347" href="blog.Sequent.html#11318" class="Bound">p</a><a id="11348" class="Symbol">)</a>
  <a id="11352" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11359" href="blog.Sequent.html#11359" class="Bound">σ</a> <a id="11361" class="Symbol">(</a><a id="11362" href="blog.Sequent.html#8076" class="InductiveConstructor">∨-elim</a> <a id="11369" href="blog.Sequent.html#11369" class="Bound">s</a> <a id="11371" href="blog.Sequent.html#11371" class="Bound">p</a> <a id="11373" href="blog.Sequent.html#11373" class="Bound">q</a><a id="11374" class="Symbol">)</a> <a id="11376" class="Symbol">=</a> <a id="11378" href="blog.Sequent.html#8076" class="InductiveConstructor">∨-elim</a> <a id="11385" class="Symbol">(</a><a id="11386" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11393" href="blog.Sequent.html#11359" class="Bound">σ</a> <a id="11395" href="blog.Sequent.html#11369" class="Bound">s</a><a id="11396" class="Symbol">)</a> <a id="11398" class="Symbol">(</a><a id="11399" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11406" class="Symbol">(</a><a id="11407" href="blog.Sequent.html#10643" class="Function">extend</a> <a id="11414" href="blog.Sequent.html#11359" class="Bound">σ</a><a id="11415" class="Symbol">)</a> <a id="11417" href="blog.Sequent.html#11371" class="Bound">p</a><a id="11418" class="Symbol">)</a> <a id="11420" class="Symbol">(</a><a id="11421" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11428" class="Symbol">(</a><a id="11429" href="blog.Sequent.html#10643" class="Function">extend</a> <a id="11436" href="blog.Sequent.html#11359" class="Bound">σ</a><a id="11437" class="Symbol">)</a> <a id="11439" href="blog.Sequent.html#11373" class="Bound">q</a><a id="11440" class="Symbol">)</a>
  <a id="11444" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11451" href="blog.Sequent.html#11451" class="Bound">σ</a> <a id="11453" class="Symbol">(</a><a id="11454" href="blog.Sequent.html#8705" class="InductiveConstructor">∧-intro</a> <a id="11462" href="blog.Sequent.html#11462" class="Bound">p</a> <a id="11464" href="blog.Sequent.html#11464" class="Bound">q</a><a id="11465" class="Symbol">)</a> <a id="11467" class="Symbol">=</a> <a id="11469" href="blog.Sequent.html#8705" class="InductiveConstructor">∧-intro</a> <a id="11477" class="Symbol">(</a><a id="11478" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11485" href="blog.Sequent.html#11451" class="Bound">σ</a> <a id="11487" href="blog.Sequent.html#11462" class="Bound">p</a><a id="11488" class="Symbol">)</a> <a id="11490" class="Symbol">(</a><a id="11491" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11498" href="blog.Sequent.html#11451" class="Bound">σ</a> <a id="11500" href="blog.Sequent.html#11464" class="Bound">q</a><a id="11501" class="Symbol">)</a>
  <a id="11505" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11512" href="blog.Sequent.html#11512" class="Bound">σ</a> <a id="11514" class="Symbol">(</a><a id="11515" href="blog.Sequent.html#8759" class="InductiveConstructor">∧-elim</a> <a id="11522" href="blog.Sequent.html#11522" class="Bound">s</a> <a id="11524" href="blog.Sequent.html#11524" class="Bound">p</a><a id="11525" class="Symbol">)</a> <a id="11527" class="Symbol">=</a> <a id="11529" href="blog.Sequent.html#8759" class="InductiveConstructor">∧-elim</a> <a id="11536" class="Symbol">(</a><a id="11537" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11544" href="blog.Sequent.html#11512" class="Bound">σ</a> <a id="11546" href="blog.Sequent.html#11522" class="Bound">s</a><a id="11547" class="Symbol">)</a> <a id="11549" class="Symbol">(</a><a id="11550" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11557" class="Symbol">(</a><a id="11558" href="blog.Sequent.html#10643" class="Function">extend</a> <a id="11565" class="Symbol">(</a><a id="11566" href="blog.Sequent.html#10643" class="Function">extend</a> <a id="11573" href="blog.Sequent.html#11512" class="Bound">σ</a><a id="11574" class="Symbol">))</a> <a id="11577" href="blog.Sequent.html#11524" class="Bound">p</a><a id="11578" class="Symbol">)</a>
  <a id="11582" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11589" href="blog.Sequent.html#11589" class="Bound">σ</a> <a id="11591" class="Symbol">(</a><a id="11592" href="blog.Sequent.html#9223" class="InductiveConstructor">explosion</a> <a id="11602" href="blog.Sequent.html#11602" class="Bound">p</a> <a id="11604" href="blog.Sequent.html#11604" class="Bound">¬p</a><a id="11606" class="Symbol">)</a> <a id="11608" class="Symbol">=</a> <a id="11610" href="blog.Sequent.html#9223" class="InductiveConstructor">explosion</a> <a id="11620" class="Symbol">(</a><a id="11621" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11628" href="blog.Sequent.html#11589" class="Bound">σ</a> <a id="11630" href="blog.Sequent.html#11602" class="Bound">p</a><a id="11631" class="Symbol">)</a> <a id="11633" class="Symbol">(</a><a id="11634" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11641" href="blog.Sequent.html#11589" class="Bound">σ</a> <a id="11643" href="blog.Sequent.html#11604" class="Bound">¬p</a><a id="11645" class="Symbol">)</a>
  <a id="11649" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="11656" href="blog.Sequent.html#11656" class="Bound">σ</a> <a id="11658" href="blog.Sequent.html#9527" class="InductiveConstructor">excluded-middle</a> <a id="11674" class="Symbol">=</a> <a id="11676" href="blog.Sequent.html#9527" class="InductiveConstructor">excluded-middle</a>
</pre>

<p>
Now that we know how to manipulate contexts, we can use that to define (strictly
in terms of our already-existing connectives) an implication operator.
</p>
</div>
</div>

<div id="outline-container-org5ac88b5" class="outline-3">
<h3 id="org5ac88b5"><span class="section-number-3">2.4.</span> Defining \( \Rightarrow \)</h3>
<div class="outline-text-3" id="text-2-4">
<pre class="Agda">
  <a id="PropositionalLogic._=&gt;_"></a><a id="11907" href="blog.Sequent.html#11907" class="Function Operator">_=&gt;_</a> <a id="11912" class="Symbol">:</a> <a id="11914" href="blog.Sequent.html#3997" class="Datatype">Prop</a> <a id="11919" class="Symbol">-&gt;</a> <a id="11922" href="blog.Sequent.html#3997" class="Datatype">Prop</a> <a id="11927" class="Symbol">-&gt;</a> <a id="11930" href="blog.Sequent.html#3997" class="Datatype">Prop</a>
  <a id="11937" href="blog.Sequent.html#11937" class="Bound">P</a> <a id="11939" href="blog.Sequent.html#11907" class="Function Operator">=&gt;</a> <a id="11942" href="blog.Sequent.html#11942" class="Bound">Q</a> <a id="11944" class="Symbol">=</a> <a id="11946" href="blog.Sequent.html#4106" class="InductiveConstructor Operator">¬</a> <a id="11948" href="blog.Sequent.html#11937" class="Bound">P</a> <a id="11950" href="blog.Sequent.html#4075" class="InductiveConstructor Operator">∨</a> <a id="11952" href="blog.Sequent.html#11942" class="Bound">Q</a>
</pre>

<p>
and show that it behaves as expected
</p>

<pre class="Agda">
  <a id="PropositionalLogic.=&gt;-intro"></a><a id="12023" href="blog.Sequent.html#12023" class="Function">=&gt;-intro</a> <a id="12032" class="Symbol">:</a> <a id="12034" class="Symbol">∀{</a><a id="12036" href="blog.Sequent.html#12036" class="Bound">Γ</a> <a id="12038" href="blog.Sequent.html#12038" class="Bound">P</a> <a id="12040" href="blog.Sequent.html#12040" class="Bound">Q</a><a id="12041" class="Symbol">}</a> <a id="12043" class="Symbol">-&gt;</a> <a id="12046" href="blog.Sequent.html#12036" class="Bound">Γ</a> <a id="12048" href="blog.Sequent.html#4817" class="InductiveConstructor Operator">,</a> <a id="12050" href="blog.Sequent.html#12038" class="Bound">P</a> <a id="12052" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="12054" href="blog.Sequent.html#12040" class="Bound">Q</a> <a id="12056" class="Symbol">-&gt;</a> <a id="12059" href="blog.Sequent.html#12036" class="Bound">Γ</a> <a id="12061" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="12063" class="Symbol">(</a><a id="12064" href="blog.Sequent.html#12038" class="Bound">P</a> <a id="12066" href="blog.Sequent.html#11907" class="Function Operator">=&gt;</a> <a id="12069" href="blog.Sequent.html#12040" class="Bound">Q</a><a id="12070" class="Symbol">)</a>
  <a id="12074" href="blog.Sequent.html#12023" class="Function">=&gt;-intro</a> <a id="12083" class="Symbol">{</a><a id="12084" class="Argument">P</a> <a id="12086" class="Symbol">=</a> <a id="12088" href="blog.Sequent.html#12088" class="Bound">P</a><a id="12089" class="Symbol">}</a> <a id="12091" href="blog.Sequent.html#12091" class="Bound">t</a> <a id="12093" class="Symbol">=</a> <a id="12095" href="blog.Sequent.html#8076" class="InductiveConstructor">∨-elim</a> <a id="12102" class="Symbol">(</a><a id="12103" href="blog.Sequent.html#9527" class="InductiveConstructor">excluded-middle</a> <a id="12119" class="Symbol">{</a><a id="12120" class="Argument">P</a> <a id="12122" class="Symbol">=</a> <a id="12124" href="blog.Sequent.html#12088" class="Bound">P</a><a id="12125" class="Symbol">})</a> <a id="12128" class="Symbol">(</a><a id="12129" href="blog.Sequent.html#7952" class="InductiveConstructor">∨-intro-right</a> <a id="12143" href="blog.Sequent.html#12091" class="Bound">t</a><a id="12144" class="Symbol">)</a> <a id="12146" class="Symbol">(</a><a id="12147" href="blog.Sequent.html#7893" class="InductiveConstructor">∨-intro-left</a> <a id="12160" class="Symbol">(</a><a id="12161" href="blog.Sequent.html#6797" class="InductiveConstructor">hypo</a> <a id="12166" href="blog.Sequent.html#5078" class="InductiveConstructor">here</a><a id="12170" class="Symbol">))</a>
</pre>


<div id="orgf7d5750" class="figure">
<p><img src="assets/impl-intro.svg" alt="impl-intro.svg" class="org-svg" />
</p>
</div>


<pre class="Agda">
  <a id="PropositionalLogic.=&gt;-elim"></a><a id="12676" href="blog.Sequent.html#12676" class="Function">=&gt;-elim</a> <a id="12684" class="Symbol">:</a> <a id="12686" class="Symbol">∀{</a><a id="12688" href="blog.Sequent.html#12688" class="Bound">Γ</a> <a id="12690" href="blog.Sequent.html#12690" class="Bound">P</a> <a id="12692" href="blog.Sequent.html#12692" class="Bound">Q</a><a id="12693" class="Symbol">}</a> <a id="12695" class="Symbol">-&gt;</a> <a id="12698" href="blog.Sequent.html#12688" class="Bound">Γ</a> <a id="12700" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="12702" class="Symbol">(</a><a id="12703" href="blog.Sequent.html#12690" class="Bound">P</a> <a id="12705" href="blog.Sequent.html#11907" class="Function Operator">=&gt;</a> <a id="12708" href="blog.Sequent.html#12692" class="Bound">Q</a><a id="12709" class="Symbol">)</a> <a id="12711" class="Symbol">-&gt;</a> <a id="12714" href="blog.Sequent.html#12688" class="Bound">Γ</a> <a id="12716" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="12718" href="blog.Sequent.html#12690" class="Bound">P</a> <a id="12720" class="Symbol">-&gt;</a> <a id="12723" href="blog.Sequent.html#12688" class="Bound">Γ</a> <a id="12725" href="blog.Sequent.html#6762" class="Datatype Operator">⊢</a> <a id="12727" href="blog.Sequent.html#12692" class="Bound">Q</a>
  <a id="12731" href="blog.Sequent.html#12676" class="Function">=&gt;-elim</a> <a id="12739" href="blog.Sequent.html#12739" class="Bound">P=&gt;Q</a> <a id="12744" href="blog.Sequent.html#12744" class="Bound">P</a> <a id="12746" class="Symbol">=</a>
    <a id="12752" href="blog.Sequent.html#8076" class="InductiveConstructor">∨-elim</a> <a id="12759" href="blog.Sequent.html#12739" class="Bound">P=&gt;Q</a>
           <a id="12775" class="Symbol">(</a><a id="12776" href="blog.Sequent.html#7530" class="InductiveConstructor">⊥-elim</a> <a id="12783" class="Symbol">(</a><a id="12784" href="blog.Sequent.html#9223" class="InductiveConstructor">explosion</a> <a id="12794" class="Symbol">(</a><a id="12795" href="blog.Sequent.html#11010" class="Function">rename</a> <a id="12802" href="blog.Sequent.html#5134" class="InductiveConstructor">there</a> <a id="12808" href="blog.Sequent.html#12744" class="Bound">P</a><a id="12809" class="Symbol">)</a> <a id="12811" class="Symbol">(</a><a id="12812" href="blog.Sequent.html#6797" class="InductiveConstructor">hypo</a> <a id="12817" href="blog.Sequent.html#5078" class="InductiveConstructor">here</a><a id="12821" class="Symbol">)))</a>
           <a id="12836" class="Symbol">(</a><a id="12837" href="blog.Sequent.html#6797" class="InductiveConstructor">hypo</a> <a id="12842" href="blog.Sequent.html#5078" class="InductiveConstructor">here</a><a id="12846" class="Symbol">)</a>
</pre>


<div id="orgb0acc25" class="figure">
<p><img src="assets/impl-elim.svg" alt="impl-elim.svg" class="org-svg" />
</p>
</div>

<p>
Such rules that can be derived without adding new ones are called admissible.
</p>

<p>
Notice that the Agda version of the proofs are quite hard to read, especially
because unlike me, you don't have access to the <a href="https://agda.readthedocs.io/en/v2.7.0.1/language/lexical-structure.html#holes">holes</a> and intermediate proof
states. However, the sequent calculus versions are more visual and give you
every intermediate proof state.
</p>
</div>
</div>
</div>

<div id="outline-container-org24fddb7" class="outline-2">
<h2 id="org24fddb7"><span class="section-number-2">3.</span> Simply typed lambda calculus</h2>
<div class="outline-text-2" id="text-3">
<pre class="Agda">
<a id="13803" class="Keyword">module</a> <a id="STLC"></a><a id="13810" href="blog.Sequent.html#13810" class="Module">STLC</a> <a id="13815" class="Keyword">where</a>
  <a id="13823" class="Keyword">open</a> <a id="13828" class="Keyword">import</a> <a id="13835" href="Terra.Data.Sigma.html" class="Module">Terra.Data.Sigma</a>
    <a id="13856" class="Keyword">renaming</a> <a id="13865" class="Symbol">(</a><a id="13866" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="13870" class="Symbol">to</a> <a id="13873" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="13878" class="Symbol">)</a>
  <a id="13882" class="Keyword">open</a> <a id="13887" class="Keyword">import</a> <a id="13894" href="Terra.Data.Sigma.Syntax.html" class="Module">Terra.Data.Sigma.Syntax</a>
  <a id="13920" class="Keyword">open</a> <a id="13925" class="Keyword">import</a> <a id="13932" href="Terra.Data.Negation.html" class="Module">Terra.Data.Negation</a>

  <a id="13955" class="Keyword">infixr</a> <a id="13962" class="Number">4</a> <a id="13964" href="blog.Sequent.html#15403" class="InductiveConstructor Operator">_=&gt;_</a>
  <a id="13971" class="Keyword">infixl</a> <a id="13978" class="Number">6</a> <a id="13980" href="blog.Sequent.html#15665" class="InductiveConstructor Operator">_×_</a>
  <a id="13986" class="Keyword">infixl</a> <a id="13993" class="Number">5</a> <a id="13995" href="blog.Sequent.html#15838" class="InductiveConstructor Operator">_+_</a>
  <a id="14001" class="Keyword">infixl</a> <a id="14008" class="Number">4</a> <a id="14010" href="blog.Sequent.html#16410" class="InductiveConstructor Operator">_,_</a>
  <a id="14016" class="Keyword">infix</a> <a id="14022" class="Number">3</a> <a id="14024" href="blog.Sequent.html#16443" class="Datatype Operator">_∋_</a> <a id="14028" href="blog.Sequent.html#16779" class="Datatype Operator">_⊢_</a>
</pre>

<p>
You might know about a thing called the <a href="https://en.wikipedia.org/wiki/Curry%E2%80%93Howard_correspondence">Curry Howard correspondance</a>. It is name
given to the observation that type systems are like logics and that programs are
like proofs. Under this interpretation, the type system of a (purely functional)
programming language could be described as some kind of logic in which we give a
reduction semantics to the proofs, making them programs.
</p>

<p>
When we apply this translation to propositional logic, what we get is a very
simple programming language we call the simply typed lambda calculus.
</p>

<p>
Let's quickly define the language of types (very similar to propositions in the
propositional logic we defined earlier). Everything is pretty much the same.
</p>
</div>

<div id="outline-container-org859c649" class="outline-3">
<h3 id="org859c649"><span class="section-number-3">3.1.</span> Types</h3>
<div class="outline-text-3" id="text-3-1">
<p>
Let's define the language of types in the STLC note that a lot of those will
look like propositions or connectives from propositional logic.
</p>

<pre class="Agda">
  <a id="14973" class="Keyword">data</a> <a id="STLC.Type"></a><a id="14978" href="blog.Sequent.html#14978" class="Datatype">Type</a> <a id="14983" class="Symbol">:</a> <a id="14985" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="14989" class="Keyword">where</a>
</pre>

<p>
The unit type is like \( \top \).
</p>

<pre class="Agda">
    <a id="STLC.Type.Unit"></a><a id="15063" href="blog.Sequent.html#15063" class="InductiveConstructor">Unit</a> <a id="15068" class="Symbol">:</a> <a id="15070" href="blog.Sequent.html#14978" class="Datatype">Type</a>
</pre>

<p>
The empty type is like \( \bot \).
</p>

<pre class="Agda">
    <a id="STLC.Type.Empty"></a><a id="15144" href="blog.Sequent.html#15144" class="InductiveConstructor">Empty</a> <a id="15150" class="Symbol">:</a> <a id="15152" href="blog.Sequent.html#14978" class="Datatype">Type</a>
</pre>

<p>
The arrow type creates functions. In propositional logic, you could define it
with \( A \Rightarrow B = \neg A \vee B \), but since we do not have a negation type constructor
in STLC, it needs to be a primitive.
</p>

<pre class="Agda">
    <a id="STLC.Type._=&gt;_"></a><a id="15403" href="blog.Sequent.html#15403" class="InductiveConstructor Operator">_=&gt;_</a> <a id="15408" class="Symbol">:</a> <a id="15410" href="blog.Sequent.html#14978" class="Datatype">Type</a> <a id="15415" class="Symbol">-&gt;</a> <a id="15418" href="blog.Sequent.html#14978" class="Datatype">Type</a> <a id="15423" class="Symbol">-&gt;</a> <a id="15426" href="blog.Sequent.html#14978" class="Datatype">Type</a>
</pre>

<p>
The \( A \times B \) type is like the proposition \( P \wedge Q \) and gives you pairs.
If you iterate (\( A \times B \times C \times \dots \)) them, you get something that looks a lot
like a struct.
</p>

<pre class="Agda">
    <a id="STLC.Type._×_"></a><a id="15665" href="blog.Sequent.html#15665" class="InductiveConstructor Operator">_×_</a> <a id="15669" class="Symbol">:</a> <a id="15671" href="blog.Sequent.html#14978" class="Datatype">Type</a> <a id="15676" class="Symbol">-&gt;</a> <a id="15679" href="blog.Sequent.html#14978" class="Datatype">Type</a> <a id="15684" class="Symbol">-&gt;</a> <a id="15687" href="blog.Sequent.html#14978" class="Datatype">Type</a>
</pre>

<p>
A \( A + B \) type is like \( P \vee Q \) and a term is either a term of type \( A
\) or a term of type \( B \)
</p>

<pre class="Agda">
    <a id="STLC.Type._+_"></a><a id="15838" href="blog.Sequent.html#15838" class="InductiveConstructor Operator">_+_</a> <a id="15842" class="Symbol">:</a> <a id="15844" href="blog.Sequent.html#14978" class="Datatype">Type</a> <a id="15849" class="Symbol">-&gt;</a> <a id="15852" href="blog.Sequent.html#14978" class="Datatype">Type</a> <a id="15857" class="Symbol">-&gt;</a> <a id="15860" href="blog.Sequent.html#14978" class="Datatype">Type</a>
</pre>

<p>
This is the natural number type. This is the first real type that doesn't make
sense as a proposition, because in propositional logic, we don't really care
about computing stuff or differentiating multiple proofs of the same
proposition. This type is also useful, because it will help me explain how to
design elimination rules for types that are recursive (as you will see when I
define the constructors).
</p>

<pre class="Agda">
    <a id="STLC.Type.ℕ"></a><a id="16306" href="blog.Sequent.html#16306" class="InductiveConstructor">ℕ</a> <a id="16308" class="Symbol">:</a> <a id="16310" href="blog.Sequent.html#14978" class="Datatype">Type</a>
</pre>
</div>
</div>

<div id="outline-container-orgeee8b0c" class="outline-3">
<h3 id="orgeee8b0c"><span class="section-number-3">3.2.</span> Context and references</h3>
<div class="outline-text-3" id="text-3-2">
<pre class="Agda">
  <a id="16373" class="Keyword">data</a> <a id="STLC.Ctx"></a><a id="16378" href="blog.Sequent.html#16378" class="Datatype">Ctx</a> <a id="16382" class="Symbol">:</a> <a id="16384" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="16388" class="Keyword">where</a>
    <a id="STLC.Ctx.·"></a><a id="16398" href="blog.Sequent.html#16398" class="InductiveConstructor">·</a> <a id="16400" class="Symbol">:</a> <a id="16402" href="blog.Sequent.html#16378" class="Datatype">Ctx</a>
    <a id="STLC.Ctx._,_"></a><a id="16410" href="blog.Sequent.html#16410" class="InductiveConstructor Operator">_,_</a> <a id="16414" class="Symbol">:</a> <a id="16416" href="blog.Sequent.html#16378" class="Datatype">Ctx</a> <a id="16420" class="Symbol">-&gt;</a> <a id="16423" href="blog.Sequent.html#14978" class="Datatype">Type</a> <a id="16428" class="Symbol">-&gt;</a> <a id="16431" href="blog.Sequent.html#16378" class="Datatype">Ctx</a>

  <a id="16438" class="Keyword">data</a> <a id="STLC._∋_"></a><a id="16443" href="blog.Sequent.html#16443" class="Datatype Operator">_∋_</a> <a id="16447" class="Symbol">:</a> <a id="16449" href="blog.Sequent.html#16378" class="Datatype">Ctx</a> <a id="16453" class="Symbol">-&gt;</a> <a id="16456" href="blog.Sequent.html#14978" class="Datatype">Type</a> <a id="16461" class="Symbol">-&gt;</a> <a id="16464" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="16468" class="Keyword">where</a>
    <a id="STLC._∋_.here"></a><a id="16478" href="blog.Sequent.html#16478" class="InductiveConstructor">here</a> <a id="16483" class="Symbol">:</a> <a id="16485" class="Symbol">∀{</a><a id="16487" href="blog.Sequent.html#16487" class="Bound">Γ</a> <a id="16489" href="blog.Sequent.html#16489" class="Bound">T</a><a id="16490" class="Symbol">}</a> <a id="16492" class="Symbol">-&gt;</a> <a id="16495" href="blog.Sequent.html#16487" class="Bound">Γ</a> <a id="16497" href="blog.Sequent.html#16410" class="InductiveConstructor Operator">,</a> <a id="16499" href="blog.Sequent.html#16489" class="Bound">T</a> <a id="16501" href="blog.Sequent.html#16443" class="Datatype Operator">∋</a> <a id="16503" href="blog.Sequent.html#16489" class="Bound">T</a>
    <a id="STLC._∋_.there"></a><a id="16509" href="blog.Sequent.html#16509" class="InductiveConstructor">there</a> <a id="16515" class="Symbol">:</a> <a id="16517" class="Symbol">∀{</a><a id="16519" href="blog.Sequent.html#16519" class="Bound">Γ</a> <a id="16521" href="blog.Sequent.html#16521" class="Bound">S</a> <a id="16523" href="blog.Sequent.html#16523" class="Bound">T</a><a id="16524" class="Symbol">}</a> <a id="16526" class="Symbol">-&gt;</a> <a id="16529" href="blog.Sequent.html#16519" class="Bound">Γ</a> <a id="16531" href="blog.Sequent.html#16443" class="Datatype Operator">∋</a> <a id="16533" href="blog.Sequent.html#16523" class="Bound">T</a> <a id="16535" class="Symbol">-&gt;</a> <a id="16538" href="blog.Sequent.html#16519" class="Bound">Γ</a> <a id="16540" href="blog.Sequent.html#16410" class="InductiveConstructor Operator">,</a> <a id="16542" href="blog.Sequent.html#16521" class="Bound">S</a> <a id="16544" href="blog.Sequent.html#16443" class="Datatype Operator">∋</a> <a id="16546" href="blog.Sequent.html#16523" class="Bound">T</a>
</pre>
</div>
</div>

<div id="outline-container-org876f8bb" class="outline-3">
<h3 id="org876f8bb"><span class="section-number-3">3.3.</span> Terms</h3>
<div class="outline-text-3" id="text-3-3">
<p>
Most types that already existed in propositional logic will have a
straightforward (and almost identical) eliminator (think elimination rule) and
constructor (thing introduction rule)
</p>

<pre class="Agda">
  <a id="16774" class="Keyword">data</a> <a id="STLC._⊢_"></a><a id="16779" href="blog.Sequent.html#16779" class="Datatype Operator">_⊢_</a> <a id="16783" class="Symbol">:</a> <a id="16785" href="blog.Sequent.html#16378" class="Datatype">Ctx</a> <a id="16789" class="Symbol">-&gt;</a> <a id="16792" href="blog.Sequent.html#14978" class="Datatype">Type</a> <a id="16797" class="Symbol">-&gt;</a> <a id="16800" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="16804" class="Keyword">where</a>
    <a id="STLC._⊢_.var"></a><a id="16814" href="blog.Sequent.html#16814" class="InductiveConstructor">var</a> <a id="16818" class="Symbol">:</a> <a id="16820" class="Symbol">∀{</a><a id="16822" href="blog.Sequent.html#16822" class="Bound">Γ</a> <a id="16824" href="blog.Sequent.html#16824" class="Bound">T</a><a id="16825" class="Symbol">}</a> <a id="16827" class="Symbol">-&gt;</a> <a id="16830" href="blog.Sequent.html#16822" class="Bound">Γ</a> <a id="16832" href="blog.Sequent.html#16443" class="Datatype Operator">∋</a> <a id="16834" href="blog.Sequent.html#16824" class="Bound">T</a> <a id="16836" class="Symbol">-&gt;</a> <a id="16839" href="blog.Sequent.html#16822" class="Bound">Γ</a> <a id="16841" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="16843" href="blog.Sequent.html#16824" class="Bound">T</a>
    <a id="STLC._⊢_.unit-intro"></a><a id="16849" href="blog.Sequent.html#16849" class="InductiveConstructor">unit-intro</a> <a id="16860" class="Symbol">:</a> <a id="16862" class="Symbol">∀{</a><a id="16864" href="blog.Sequent.html#16864" class="Bound">Γ</a><a id="16865" class="Symbol">}</a> <a id="16867" class="Symbol">-&gt;</a> <a id="16870" href="blog.Sequent.html#16864" class="Bound">Γ</a> <a id="16872" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="16874" href="blog.Sequent.html#15063" class="InductiveConstructor">Unit</a>
    <a id="STLC._⊢_.empty-elim"></a><a id="16883" href="blog.Sequent.html#16883" class="InductiveConstructor">empty-elim</a> <a id="16894" class="Symbol">:</a> <a id="16896" class="Symbol">∀{</a><a id="16898" href="blog.Sequent.html#16898" class="Bound">Γ</a> <a id="16900" href="blog.Sequent.html#16900" class="Bound">T</a><a id="16901" class="Symbol">}</a> <a id="16903" class="Symbol">-&gt;</a> <a id="16906" href="blog.Sequent.html#16898" class="Bound">Γ</a> <a id="16908" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="16910" href="blog.Sequent.html#15144" class="InductiveConstructor">Empty</a> <a id="16916" class="Symbol">-&gt;</a> <a id="16919" href="blog.Sequent.html#16898" class="Bound">Γ</a> <a id="16921" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="16923" href="blog.Sequent.html#16900" class="Bound">T</a>

    <a id="16930" class="Comment">-- also known as =&gt;-intro or even λ</a>
    <a id="STLC._⊢_.abs"></a><a id="16970" href="blog.Sequent.html#16970" class="InductiveConstructor">abs</a> <a id="16974" class="Symbol">:</a> <a id="16976" class="Symbol">∀{</a><a id="16978" href="blog.Sequent.html#16978" class="Bound">Γ</a> <a id="16980" href="blog.Sequent.html#16980" class="Bound">S</a> <a id="16982" href="blog.Sequent.html#16982" class="Bound">T</a><a id="16983" class="Symbol">}</a> <a id="16985" class="Symbol">-&gt;</a> <a id="16988" href="blog.Sequent.html#16978" class="Bound">Γ</a> <a id="16990" href="blog.Sequent.html#16410" class="InductiveConstructor Operator">,</a> <a id="16992" href="blog.Sequent.html#16980" class="Bound">S</a> <a id="16994" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="16996" href="blog.Sequent.html#16982" class="Bound">T</a> <a id="16998" class="Symbol">-&gt;</a> <a id="17001" href="blog.Sequent.html#16978" class="Bound">Γ</a> <a id="17003" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17005" class="Symbol">(</a><a id="17006" href="blog.Sequent.html#16980" class="Bound">S</a> <a id="17008" href="blog.Sequent.html#15403" class="InductiveConstructor Operator">=&gt;</a> <a id="17011" href="blog.Sequent.html#16982" class="Bound">T</a><a id="17012" class="Symbol">)</a>
    <a id="17018" class="Comment">-- also known as =&gt;-elim</a>
    <a id="STLC._⊢_.app"></a><a id="17047" href="blog.Sequent.html#17047" class="InductiveConstructor">app</a> <a id="17051" class="Symbol">:</a> <a id="17053" class="Symbol">∀{</a><a id="17055" href="blog.Sequent.html#17055" class="Bound">Γ</a> <a id="17057" href="blog.Sequent.html#17057" class="Bound">S</a> <a id="17059" href="blog.Sequent.html#17059" class="Bound">T</a><a id="17060" class="Symbol">}</a> <a id="17062" class="Symbol">-&gt;</a> <a id="17065" href="blog.Sequent.html#17055" class="Bound">Γ</a> <a id="17067" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17069" class="Symbol">(</a><a id="17070" href="blog.Sequent.html#17057" class="Bound">S</a> <a id="17072" href="blog.Sequent.html#15403" class="InductiveConstructor Operator">=&gt;</a> <a id="17075" href="blog.Sequent.html#17059" class="Bound">T</a><a id="17076" class="Symbol">)</a> <a id="17078" class="Symbol">-&gt;</a> <a id="17081" href="blog.Sequent.html#17055" class="Bound">Γ</a> <a id="17083" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17085" href="blog.Sequent.html#17057" class="Bound">S</a> <a id="17087" class="Symbol">-&gt;</a> <a id="17090" href="blog.Sequent.html#17055" class="Bound">Γ</a> <a id="17092" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17094" href="blog.Sequent.html#17059" class="Bound">T</a>

    <a id="STLC._⊢_.×-intro"></a><a id="17101" href="blog.Sequent.html#17101" class="InductiveConstructor">×-intro</a> <a id="17109" class="Symbol">:</a> <a id="17111" class="Symbol">∀{</a><a id="17113" href="blog.Sequent.html#17113" class="Bound">Γ</a> <a id="17115" href="blog.Sequent.html#17115" class="Bound">S</a> <a id="17117" href="blog.Sequent.html#17117" class="Bound">T</a><a id="17118" class="Symbol">}</a> <a id="17120" class="Symbol">-&gt;</a> <a id="17123" href="blog.Sequent.html#17113" class="Bound">Γ</a> <a id="17125" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17127" href="blog.Sequent.html#17115" class="Bound">S</a> <a id="17129" class="Symbol">-&gt;</a> <a id="17132" href="blog.Sequent.html#17113" class="Bound">Γ</a> <a id="17134" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17136" href="blog.Sequent.html#17117" class="Bound">T</a> <a id="17138" class="Symbol">-&gt;</a> <a id="17141" href="blog.Sequent.html#17113" class="Bound">Γ</a> <a id="17143" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17145" href="blog.Sequent.html#17115" class="Bound">S</a> <a id="17147" href="blog.Sequent.html#15665" class="InductiveConstructor Operator">×</a> <a id="17149" href="blog.Sequent.html#17117" class="Bound">T</a>
    <a id="STLC._⊢_.×-elim"></a><a id="17155" href="blog.Sequent.html#17155" class="InductiveConstructor">×-elim</a> <a id="17162" class="Symbol">:</a> <a id="17164" class="Symbol">∀{</a><a id="17166" href="blog.Sequent.html#17166" class="Bound">Γ</a> <a id="17168" href="blog.Sequent.html#17168" class="Bound">S</a> <a id="17170" href="blog.Sequent.html#17170" class="Bound">T</a> <a id="17172" href="blog.Sequent.html#17172" class="Bound">U</a><a id="17173" class="Symbol">}</a> <a id="17175" class="Symbol">-&gt;</a> <a id="17178" href="blog.Sequent.html#17166" class="Bound">Γ</a> <a id="17180" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17182" href="blog.Sequent.html#17168" class="Bound">S</a> <a id="17184" href="blog.Sequent.html#15665" class="InductiveConstructor Operator">×</a> <a id="17186" href="blog.Sequent.html#17170" class="Bound">T</a> <a id="17188" class="Symbol">-&gt;</a> <a id="17191" href="blog.Sequent.html#17166" class="Bound">Γ</a> <a id="17193" href="blog.Sequent.html#16410" class="InductiveConstructor Operator">,</a> <a id="17195" href="blog.Sequent.html#17168" class="Bound">S</a> <a id="17197" href="blog.Sequent.html#16410" class="InductiveConstructor Operator">,</a> <a id="17199" href="blog.Sequent.html#17170" class="Bound">T</a> <a id="17201" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17203" href="blog.Sequent.html#17172" class="Bound">U</a> <a id="17205" class="Symbol">-&gt;</a> <a id="17208" href="blog.Sequent.html#17166" class="Bound">Γ</a> <a id="17210" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17212" href="blog.Sequent.html#17172" class="Bound">U</a>

    <a id="STLC._⊢_.+-intro-left"></a><a id="17219" href="blog.Sequent.html#17219" class="InductiveConstructor">+-intro-left</a> <a id="17232" class="Symbol">:</a> <a id="17234" class="Symbol">∀{</a><a id="17236" href="blog.Sequent.html#17236" class="Bound">Γ</a> <a id="17238" href="blog.Sequent.html#17238" class="Bound">S</a> <a id="17240" href="blog.Sequent.html#17240" class="Bound">T</a><a id="17241" class="Symbol">}</a> <a id="17243" class="Symbol">-&gt;</a> <a id="17246" href="blog.Sequent.html#17236" class="Bound">Γ</a> <a id="17248" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17250" href="blog.Sequent.html#17238" class="Bound">S</a> <a id="17252" class="Symbol">-&gt;</a> <a id="17255" href="blog.Sequent.html#17236" class="Bound">Γ</a> <a id="17257" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17259" href="blog.Sequent.html#17238" class="Bound">S</a> <a id="17261" href="blog.Sequent.html#15838" class="InductiveConstructor Operator">+</a> <a id="17263" href="blog.Sequent.html#17240" class="Bound">T</a>
    <a id="STLC._⊢_.+-intro-right"></a><a id="17269" href="blog.Sequent.html#17269" class="InductiveConstructor">+-intro-right</a> <a id="17283" class="Symbol">:</a> <a id="17285" class="Symbol">∀{</a><a id="17287" href="blog.Sequent.html#17287" class="Bound">Γ</a> <a id="17289" href="blog.Sequent.html#17289" class="Bound">S</a> <a id="17291" href="blog.Sequent.html#17291" class="Bound">T</a><a id="17292" class="Symbol">}</a> <a id="17294" class="Symbol">-&gt;</a> <a id="17297" href="blog.Sequent.html#17287" class="Bound">Γ</a> <a id="17299" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17301" href="blog.Sequent.html#17291" class="Bound">T</a> <a id="17303" class="Symbol">-&gt;</a> <a id="17306" href="blog.Sequent.html#17287" class="Bound">Γ</a> <a id="17308" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17310" href="blog.Sequent.html#17289" class="Bound">S</a> <a id="17312" href="blog.Sequent.html#15838" class="InductiveConstructor Operator">+</a> <a id="17314" href="blog.Sequent.html#17291" class="Bound">T</a>
    <a id="STLC._⊢_.+-elim"></a><a id="17320" href="blog.Sequent.html#17320" class="InductiveConstructor">+-elim</a> <a id="17327" class="Symbol">:</a> <a id="17329" class="Symbol">∀{</a><a id="17331" href="blog.Sequent.html#17331" class="Bound">Γ</a> <a id="17333" href="blog.Sequent.html#17333" class="Bound">S</a> <a id="17335" href="blog.Sequent.html#17335" class="Bound">T</a> <a id="17337" href="blog.Sequent.html#17337" class="Bound">U</a><a id="17338" class="Symbol">}</a> <a id="17340" class="Symbol">-&gt;</a> <a id="17343" href="blog.Sequent.html#17331" class="Bound">Γ</a> <a id="17345" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17347" class="Symbol">(</a><a id="17348" href="blog.Sequent.html#17333" class="Bound">S</a> <a id="17350" href="blog.Sequent.html#15838" class="InductiveConstructor Operator">+</a> <a id="17352" href="blog.Sequent.html#17335" class="Bound">T</a><a id="17353" class="Symbol">)</a> <a id="17355" class="Symbol">-&gt;</a> <a id="17358" href="blog.Sequent.html#17331" class="Bound">Γ</a> <a id="17360" href="blog.Sequent.html#16410" class="InductiveConstructor Operator">,</a> <a id="17362" href="blog.Sequent.html#17333" class="Bound">S</a> <a id="17364" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17366" href="blog.Sequent.html#17337" class="Bound">U</a> <a id="17368" class="Symbol">-&gt;</a> <a id="17371" href="blog.Sequent.html#17331" class="Bound">Γ</a> <a id="17373" href="blog.Sequent.html#16410" class="InductiveConstructor Operator">,</a> <a id="17375" href="blog.Sequent.html#17335" class="Bound">T</a> <a id="17377" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17379" href="blog.Sequent.html#17337" class="Bound">U</a> <a id="17381" class="Symbol">-&gt;</a> <a id="17384" href="blog.Sequent.html#17331" class="Bound">Γ</a> <a id="17386" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17388" href="blog.Sequent.html#17337" class="Bound">U</a>
</pre>


<p>
The most interesting is the constructors and eliminators for the natural numbers
type. We define a natural number as either:
</p>

<ol class="org-ol">
<li>Being zero, or</li>
<li>the successor (\( 1 + \)) of an other natural number.</li>
</ol>

<pre class="Agda">
    <a id="STLC._⊢_.ℕ-intro-zero"></a><a id="17626" href="blog.Sequent.html#17626" class="InductiveConstructor">ℕ-intro-zero</a> <a id="17639" class="Symbol">:</a> <a id="17641" class="Symbol">∀{</a><a id="17643" href="blog.Sequent.html#17643" class="Bound">Γ</a><a id="17644" class="Symbol">}</a> <a id="17646" class="Symbol">-&gt;</a> <a id="17649" href="blog.Sequent.html#17643" class="Bound">Γ</a> <a id="17651" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17653" href="blog.Sequent.html#16306" class="InductiveConstructor">ℕ</a>
    <a id="STLC._⊢_.ℕ-intro-suc"></a><a id="17659" href="blog.Sequent.html#17659" class="InductiveConstructor">ℕ-intro-suc</a> <a id="17671" class="Symbol">:</a> <a id="17673" class="Symbol">∀{</a><a id="17675" href="blog.Sequent.html#17675" class="Bound">Γ</a><a id="17676" class="Symbol">}</a>
      <a id="17684" class="Symbol">-&gt;</a> <a id="17687" href="blog.Sequent.html#17675" class="Bound">Γ</a> <a id="17689" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17691" href="blog.Sequent.html#16306" class="InductiveConstructor">ℕ</a>
      <a id="17699" class="Symbol">-&gt;</a> <a id="17702" href="blog.Sequent.html#17675" class="Bound">Γ</a> <a id="17704" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17706" href="blog.Sequent.html#16306" class="InductiveConstructor">ℕ</a>
</pre>

<p>
And the standard eliminator for the natural numbers is the principle of induction
</p>

<pre class="Agda">
    <a id="STLC._⊢_.ℕ-elim"></a><a id="17824" href="blog.Sequent.html#17824" class="InductiveConstructor">ℕ-elim</a> <a id="17831" class="Symbol">:</a> <a id="17833" class="Symbol">∀{</a><a id="17835" href="blog.Sequent.html#17835" class="Bound">Γ</a> <a id="17837" href="blog.Sequent.html#17837" class="Bound">T</a><a id="17838" class="Symbol">}</a>
      <a id="17846" class="Symbol">-&gt;</a> <a id="17849" href="blog.Sequent.html#17835" class="Bound">Γ</a> <a id="17851" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17853" href="blog.Sequent.html#16306" class="InductiveConstructor">ℕ</a>
      <a id="17861" class="Symbol">-&gt;</a> <a id="17864" href="blog.Sequent.html#17835" class="Bound">Γ</a> <a id="17866" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17868" href="blog.Sequent.html#17837" class="Bound">T</a>
      <a id="17876" class="Symbol">-&gt;</a> <a id="17879" href="blog.Sequent.html#17835" class="Bound">Γ</a> <a id="17881" href="blog.Sequent.html#16410" class="InductiveConstructor Operator">,</a> <a id="17883" href="blog.Sequent.html#17837" class="Bound">T</a> <a id="17885" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17887" href="blog.Sequent.html#17837" class="Bound">T</a>
      <a id="17895" class="Symbol">-&gt;</a> <a id="17898" href="blog.Sequent.html#17835" class="Bound">Γ</a> <a id="17900" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="17902" href="blog.Sequent.html#17837" class="Bound">T</a>
</pre>
</div>
</div>

<div id="outline-container-org08600c1" class="outline-3">
<h3 id="org08600c1"><span class="section-number-3">3.4.</span> Renaming</h3>
<div class="outline-text-3" id="text-3-4">
<p>
Once again, we can apply renaming procedures to terms in contexts.
</p>

<pre class="Agda">
  <a id="STLC.Renaming"></a><a id="18016" href="blog.Sequent.html#18016" class="Function">Renaming</a> <a id="18025" class="Symbol">:</a> <a id="18027" href="blog.Sequent.html#16378" class="Datatype">Ctx</a> <a id="18031" class="Symbol">-&gt;</a> <a id="18034" href="blog.Sequent.html#16378" class="Datatype">Ctx</a> <a id="18038" class="Symbol">-&gt;</a> <a id="18041" href="Agda.Primitive.html#388" class="Primitive">Set</a>
  <a id="18047" href="blog.Sequent.html#18016" class="Function">Renaming</a> <a id="18056" href="blog.Sequent.html#18056" class="Bound">Γ</a> <a id="18058" href="blog.Sequent.html#18058" class="Bound">Δ</a> <a id="18060" class="Symbol">=</a> <a id="18062" class="Symbol">∀{</a><a id="18064" href="blog.Sequent.html#18064" class="Bound">T</a><a id="18065" class="Symbol">}</a> <a id="18067" class="Symbol">-&gt;</a> <a id="18070" href="blog.Sequent.html#18056" class="Bound">Γ</a> <a id="18072" href="blog.Sequent.html#16443" class="Datatype Operator">∋</a> <a id="18074" href="blog.Sequent.html#18064" class="Bound">T</a> <a id="18076" class="Symbol">-&gt;</a> <a id="18079" href="blog.Sequent.html#18058" class="Bound">Δ</a> <a id="18081" href="blog.Sequent.html#16443" class="Datatype Operator">∋</a> <a id="18083" href="blog.Sequent.html#18064" class="Bound">T</a>

  <a id="STLC.extend"></a><a id="18088" href="blog.Sequent.html#18088" class="Function">extend</a> <a id="18095" class="Symbol">:</a> <a id="18097" class="Symbol">∀{</a><a id="18099" href="blog.Sequent.html#18099" class="Bound">Γ</a> <a id="18101" href="blog.Sequent.html#18101" class="Bound">Δ</a> <a id="18103" href="blog.Sequent.html#18103" class="Bound">T</a><a id="18104" class="Symbol">}</a> <a id="18106" class="Symbol">-&gt;</a> <a id="18109" href="blog.Sequent.html#18016" class="Function">Renaming</a> <a id="18118" href="blog.Sequent.html#18099" class="Bound">Γ</a> <a id="18120" href="blog.Sequent.html#18101" class="Bound">Δ</a> <a id="18122" class="Symbol">-&gt;</a> <a id="18125" href="blog.Sequent.html#18016" class="Function">Renaming</a> <a id="18134" class="Symbol">(</a><a id="18135" href="blog.Sequent.html#18099" class="Bound">Γ</a> <a id="18137" href="blog.Sequent.html#16410" class="InductiveConstructor Operator">,</a> <a id="18139" href="blog.Sequent.html#18103" class="Bound">T</a><a id="18140" class="Symbol">)</a> <a id="18142" class="Symbol">(</a><a id="18143" href="blog.Sequent.html#18101" class="Bound">Δ</a> <a id="18145" href="blog.Sequent.html#16410" class="InductiveConstructor Operator">,</a> <a id="18147" href="blog.Sequent.html#18103" class="Bound">T</a><a id="18148" class="Symbol">)</a>
  <a id="18152" href="blog.Sequent.html#18088" class="Function">extend</a> <a id="18159" href="blog.Sequent.html#18159" class="Bound">r</a> <a id="18161" href="blog.Sequent.html#16478" class="InductiveConstructor">here</a> <a id="18166" class="Symbol">=</a> <a id="18168" href="blog.Sequent.html#16478" class="InductiveConstructor">here</a>
  <a id="18175" href="blog.Sequent.html#18088" class="Function">extend</a> <a id="18182" href="blog.Sequent.html#18182" class="Bound">r</a> <a id="18184" class="Symbol">(</a><a id="18185" href="blog.Sequent.html#16509" class="InductiveConstructor">there</a> <a id="18191" href="blog.Sequent.html#18191" class="Bound">ref</a><a id="18194" class="Symbol">)</a> <a id="18196" class="Symbol">=</a> <a id="18198" href="blog.Sequent.html#16509" class="InductiveConstructor">there</a> <a id="18204" class="Symbol">(</a><a id="18205" href="blog.Sequent.html#18182" class="Bound">r</a> <a id="18207" href="blog.Sequent.html#18191" class="Bound">ref</a><a id="18210" class="Symbol">)</a>

  <a id="STLC.rename"></a><a id="18215" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18222" class="Symbol">:</a> <a id="18224" class="Symbol">∀{</a><a id="18226" href="blog.Sequent.html#18226" class="Bound">Γ</a> <a id="18228" href="blog.Sequent.html#18228" class="Bound">Δ</a> <a id="18230" href="blog.Sequent.html#18230" class="Bound">T</a><a id="18231" class="Symbol">}</a> <a id="18233" class="Symbol">-&gt;</a> <a id="18236" href="blog.Sequent.html#18016" class="Function">Renaming</a> <a id="18245" href="blog.Sequent.html#18226" class="Bound">Γ</a> <a id="18247" href="blog.Sequent.html#18228" class="Bound">Δ</a> <a id="18249" class="Symbol">-&gt;</a> <a id="18252" href="blog.Sequent.html#18226" class="Bound">Γ</a> <a id="18254" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="18256" href="blog.Sequent.html#18230" class="Bound">T</a> <a id="18258" class="Symbol">-&gt;</a> <a id="18261" href="blog.Sequent.html#18228" class="Bound">Δ</a> <a id="18263" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="18265" href="blog.Sequent.html#18230" class="Bound">T</a>
  <a id="18269" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18276" href="blog.Sequent.html#18276" class="Bound">r</a> <a id="18278" class="Symbol">(</a><a id="18279" href="blog.Sequent.html#16814" class="InductiveConstructor">var</a> <a id="18283" href="blog.Sequent.html#18283" class="Bound">x</a><a id="18284" class="Symbol">)</a> <a id="18286" class="Symbol">=</a> <a id="18288" href="blog.Sequent.html#16814" class="InductiveConstructor">var</a> <a id="18292" class="Symbol">(</a><a id="18293" href="blog.Sequent.html#18276" class="Bound">r</a> <a id="18295" href="blog.Sequent.html#18283" class="Bound">x</a><a id="18296" class="Symbol">)</a>
  <a id="18300" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18307" href="blog.Sequent.html#18307" class="Bound">r</a> <a id="18309" href="blog.Sequent.html#16849" class="InductiveConstructor">unit-intro</a> <a id="18320" class="Symbol">=</a> <a id="18322" href="blog.Sequent.html#16849" class="InductiveConstructor">unit-intro</a>
  <a id="18335" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18342" href="blog.Sequent.html#18342" class="Bound">r</a> <a id="18344" class="Symbol">(</a><a id="18345" href="blog.Sequent.html#16883" class="InductiveConstructor">empty-elim</a> <a id="18356" href="blog.Sequent.html#18356" class="Bound">t</a><a id="18357" class="Symbol">)</a> <a id="18359" class="Symbol">=</a> <a id="18361" href="blog.Sequent.html#16883" class="InductiveConstructor">empty-elim</a> <a id="18372" class="Symbol">(</a><a id="18373" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18380" href="blog.Sequent.html#18342" class="Bound">r</a> <a id="18382" href="blog.Sequent.html#18356" class="Bound">t</a><a id="18383" class="Symbol">)</a>
  <a id="18387" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18394" href="blog.Sequent.html#18394" class="Bound">r</a> <a id="18396" class="Symbol">(</a><a id="18397" href="blog.Sequent.html#16970" class="InductiveConstructor">abs</a> <a id="18401" href="blog.Sequent.html#18401" class="Bound">t</a><a id="18402" class="Symbol">)</a> <a id="18404" class="Symbol">=</a> <a id="18406" href="blog.Sequent.html#16970" class="InductiveConstructor">abs</a> <a id="18410" class="Symbol">(</a><a id="18411" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18418" class="Symbol">(</a><a id="18419" href="blog.Sequent.html#18088" class="Function">extend</a> <a id="18426" href="blog.Sequent.html#18394" class="Bound">r</a><a id="18427" class="Symbol">)</a> <a id="18429" href="blog.Sequent.html#18401" class="Bound">t</a><a id="18430" class="Symbol">)</a>
  <a id="18434" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18441" href="blog.Sequent.html#18441" class="Bound">r</a> <a id="18443" class="Symbol">(</a><a id="18444" href="blog.Sequent.html#17047" class="InductiveConstructor">app</a> <a id="18448" href="blog.Sequent.html#18448" class="Bound">t</a> <a id="18450" href="blog.Sequent.html#18450" class="Bound">t₁</a><a id="18452" class="Symbol">)</a> <a id="18454" class="Symbol">=</a> <a id="18456" href="blog.Sequent.html#17047" class="InductiveConstructor">app</a> <a id="18460" class="Symbol">(</a><a id="18461" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18468" href="blog.Sequent.html#18441" class="Bound">r</a> <a id="18470" href="blog.Sequent.html#18448" class="Bound">t</a><a id="18471" class="Symbol">)</a> <a id="18473" class="Symbol">(</a><a id="18474" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18481" href="blog.Sequent.html#18441" class="Bound">r</a> <a id="18483" href="blog.Sequent.html#18450" class="Bound">t₁</a><a id="18485" class="Symbol">)</a>
  <a id="18489" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18496" href="blog.Sequent.html#18496" class="Bound">r</a> <a id="18498" class="Symbol">(</a><a id="18499" href="blog.Sequent.html#17101" class="InductiveConstructor">×-intro</a> <a id="18507" href="blog.Sequent.html#18507" class="Bound">t</a> <a id="18509" href="blog.Sequent.html#18509" class="Bound">t₁</a><a id="18511" class="Symbol">)</a> <a id="18513" class="Symbol">=</a> <a id="18515" href="blog.Sequent.html#17101" class="InductiveConstructor">×-intro</a> <a id="18523" class="Symbol">(</a><a id="18524" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18531" href="blog.Sequent.html#18496" class="Bound">r</a> <a id="18533" href="blog.Sequent.html#18507" class="Bound">t</a><a id="18534" class="Symbol">)</a> <a id="18536" class="Symbol">(</a><a id="18537" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18544" href="blog.Sequent.html#18496" class="Bound">r</a> <a id="18546" href="blog.Sequent.html#18509" class="Bound">t₁</a><a id="18548" class="Symbol">)</a>
  <a id="18552" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18559" href="blog.Sequent.html#18559" class="Bound">r</a> <a id="18561" class="Symbol">(</a><a id="18562" href="blog.Sequent.html#17155" class="InductiveConstructor">×-elim</a> <a id="18569" href="blog.Sequent.html#18569" class="Bound">s</a> <a id="18571" href="blog.Sequent.html#18571" class="Bound">t</a><a id="18572" class="Symbol">)</a> <a id="18574" class="Symbol">=</a> <a id="18576" href="blog.Sequent.html#17155" class="InductiveConstructor">×-elim</a> <a id="18583" class="Symbol">(</a><a id="18584" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18591" href="blog.Sequent.html#18559" class="Bound">r</a> <a id="18593" href="blog.Sequent.html#18569" class="Bound">s</a><a id="18594" class="Symbol">)</a> <a id="18596" class="Symbol">(</a><a id="18597" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18604" class="Symbol">(</a><a id="18605" href="blog.Sequent.html#18088" class="Function">extend</a> <a id="18612" class="Symbol">(</a><a id="18613" href="blog.Sequent.html#18088" class="Function">extend</a> <a id="18620" href="blog.Sequent.html#18559" class="Bound">r</a><a id="18621" class="Symbol">))</a> <a id="18624" href="blog.Sequent.html#18571" class="Bound">t</a><a id="18625" class="Symbol">)</a>
  <a id="18629" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18636" href="blog.Sequent.html#18636" class="Bound">r</a> <a id="18638" class="Symbol">(</a><a id="18639" href="blog.Sequent.html#17219" class="InductiveConstructor">+-intro-left</a> <a id="18652" href="blog.Sequent.html#18652" class="Bound">t</a><a id="18653" class="Symbol">)</a> <a id="18655" class="Symbol">=</a> <a id="18657" href="blog.Sequent.html#17219" class="InductiveConstructor">+-intro-left</a> <a id="18670" class="Symbol">(</a><a id="18671" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18678" href="blog.Sequent.html#18636" class="Bound">r</a> <a id="18680" href="blog.Sequent.html#18652" class="Bound">t</a><a id="18681" class="Symbol">)</a>
  <a id="18685" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18692" href="blog.Sequent.html#18692" class="Bound">r</a> <a id="18694" class="Symbol">(</a><a id="18695" href="blog.Sequent.html#17269" class="InductiveConstructor">+-intro-right</a> <a id="18709" href="blog.Sequent.html#18709" class="Bound">t</a><a id="18710" class="Symbol">)</a> <a id="18712" class="Symbol">=</a> <a id="18714" href="blog.Sequent.html#17269" class="InductiveConstructor">+-intro-right</a> <a id="18728" class="Symbol">(</a><a id="18729" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18736" href="blog.Sequent.html#18692" class="Bound">r</a> <a id="18738" href="blog.Sequent.html#18709" class="Bound">t</a><a id="18739" class="Symbol">)</a>
  <a id="18743" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18750" href="blog.Sequent.html#18750" class="Bound">r</a> <a id="18752" class="Symbol">(</a><a id="18753" href="blog.Sequent.html#17320" class="InductiveConstructor">+-elim</a> <a id="18760" href="blog.Sequent.html#18760" class="Bound">s</a> <a id="18762" href="blog.Sequent.html#18762" class="Bound">x</a> <a id="18764" href="blog.Sequent.html#18764" class="Bound">y</a><a id="18765" class="Symbol">)</a> <a id="18767" class="Symbol">=</a> <a id="18769" href="blog.Sequent.html#17320" class="InductiveConstructor">+-elim</a> <a id="18776" class="Symbol">(</a><a id="18777" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18784" href="blog.Sequent.html#18750" class="Bound">r</a> <a id="18786" href="blog.Sequent.html#18760" class="Bound">s</a><a id="18787" class="Symbol">)</a> <a id="18789" class="Symbol">(</a><a id="18790" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18797" class="Symbol">(</a><a id="18798" href="blog.Sequent.html#18088" class="Function">extend</a> <a id="18805" href="blog.Sequent.html#18750" class="Bound">r</a><a id="18806" class="Symbol">)</a> <a id="18808" href="blog.Sequent.html#18762" class="Bound">x</a><a id="18809" class="Symbol">)</a> <a id="18811" class="Symbol">(</a><a id="18812" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18819" class="Symbol">(</a><a id="18820" href="blog.Sequent.html#18088" class="Function">extend</a> <a id="18827" href="blog.Sequent.html#18750" class="Bound">r</a><a id="18828" class="Symbol">)</a> <a id="18830" href="blog.Sequent.html#18764" class="Bound">y</a><a id="18831" class="Symbol">)</a>
  <a id="18835" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18842" href="blog.Sequent.html#18842" class="Bound">r</a> <a id="18844" href="blog.Sequent.html#17626" class="InductiveConstructor">ℕ-intro-zero</a> <a id="18857" class="Symbol">=</a> <a id="18859" href="blog.Sequent.html#17626" class="InductiveConstructor">ℕ-intro-zero</a>
  <a id="18874" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18881" href="blog.Sequent.html#18881" class="Bound">r</a> <a id="18883" class="Symbol">(</a><a id="18884" href="blog.Sequent.html#17659" class="InductiveConstructor">ℕ-intro-suc</a> <a id="18896" href="blog.Sequent.html#18896" class="Bound">t</a><a id="18897" class="Symbol">)</a> <a id="18899" class="Symbol">=</a> <a id="18901" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18908" href="blog.Sequent.html#18881" class="Bound">r</a> <a id="18910" href="blog.Sequent.html#18896" class="Bound">t</a>
  <a id="18914" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18921" href="blog.Sequent.html#18921" class="Bound">r</a> <a id="18923" class="Symbol">(</a><a id="18924" href="blog.Sequent.html#17824" class="InductiveConstructor">ℕ-elim</a> <a id="18931" href="blog.Sequent.html#18931" class="Bound">sub</a> <a id="18935" href="blog.Sequent.html#18935" class="Bound">z</a> <a id="18937" href="blog.Sequent.html#18937" class="Bound">s</a><a id="18938" class="Symbol">)</a> <a id="18940" class="Symbol">=</a> <a id="18942" href="blog.Sequent.html#17824" class="InductiveConstructor">ℕ-elim</a> <a id="18949" class="Symbol">(</a><a id="18950" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18957" href="blog.Sequent.html#18921" class="Bound">r</a> <a id="18959" href="blog.Sequent.html#18931" class="Bound">sub</a><a id="18962" class="Symbol">)</a> <a id="18964" class="Symbol">(</a><a id="18965" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18972" href="blog.Sequent.html#18921" class="Bound">r</a> <a id="18974" href="blog.Sequent.html#18935" class="Bound">z</a><a id="18975" class="Symbol">)</a> <a id="18977" class="Symbol">(</a><a id="18978" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="18985" class="Symbol">(</a><a id="18986" href="blog.Sequent.html#18088" class="Function">extend</a> <a id="18993" href="blog.Sequent.html#18921" class="Bound">r</a><a id="18994" class="Symbol">)</a> <a id="18996" href="blog.Sequent.html#18937" class="Bound">s</a><a id="18997" class="Symbol">)</a>
</pre>

<p>
However, this time, because we are working with a programming language, we are
also interested in the <b>reduction rules</b> of our terms which did not exist before
for propositional logic. To be able to properly express reduction rules, we will
need a new type of transformations on terms: substitutions.
</p>
</div>
</div>

<div id="outline-container-org5bbd697" class="outline-3">
<h3 id="org5bbd697"><span class="section-number-3">3.5.</span> Substitution</h3>
<div class="outline-text-3" id="text-3-5">
<pre class="Agda">
  <a id="STLC.Substitution"></a><a id="19349" href="blog.Sequent.html#19349" class="Function">Substitution</a> <a id="19362" class="Symbol">:</a> <a id="19364" href="blog.Sequent.html#16378" class="Datatype">Ctx</a> <a id="19368" class="Symbol">-&gt;</a> <a id="19371" href="blog.Sequent.html#16378" class="Datatype">Ctx</a> <a id="19375" class="Symbol">-&gt;</a> <a id="19378" href="Agda.Primitive.html#388" class="Primitive">Set</a>
  <a id="19384" href="blog.Sequent.html#19349" class="Function">Substitution</a> <a id="19397" href="blog.Sequent.html#19397" class="Bound">Γ</a> <a id="19399" href="blog.Sequent.html#19399" class="Bound">Δ</a> <a id="19401" class="Symbol">=</a> <a id="19403" class="Symbol">∀{</a><a id="19405" href="blog.Sequent.html#19405" class="Bound">T</a><a id="19406" class="Symbol">}</a> <a id="19408" class="Symbol">-&gt;</a> <a id="19411" href="blog.Sequent.html#19397" class="Bound">Γ</a> <a id="19413" href="blog.Sequent.html#16443" class="Datatype Operator">∋</a> <a id="19415" href="blog.Sequent.html#19405" class="Bound">T</a> <a id="19417" class="Symbol">-&gt;</a> <a id="19420" href="blog.Sequent.html#19399" class="Bound">Δ</a> <a id="19422" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="19424" href="blog.Sequent.html#19405" class="Bound">T</a>

  <a id="STLC.extend-sub"></a><a id="19429" href="blog.Sequent.html#19429" class="Function">extend-sub</a> <a id="19440" class="Symbol">:</a> <a id="19442" class="Symbol">∀{</a><a id="19444" href="blog.Sequent.html#19444" class="Bound">Γ</a> <a id="19446" href="blog.Sequent.html#19446" class="Bound">Δ</a> <a id="19448" href="blog.Sequent.html#19448" class="Bound">T</a><a id="19449" class="Symbol">}</a> <a id="19451" class="Symbol">-&gt;</a> <a id="19454" href="blog.Sequent.html#19349" class="Function">Substitution</a> <a id="19467" href="blog.Sequent.html#19444" class="Bound">Γ</a> <a id="19469" href="blog.Sequent.html#19446" class="Bound">Δ</a> <a id="19471" class="Symbol">-&gt;</a> <a id="19474" href="blog.Sequent.html#19349" class="Function">Substitution</a> <a id="19487" class="Symbol">(</a><a id="19488" href="blog.Sequent.html#19444" class="Bound">Γ</a> <a id="19490" href="blog.Sequent.html#16410" class="InductiveConstructor Operator">,</a> <a id="19492" href="blog.Sequent.html#19448" class="Bound">T</a><a id="19493" class="Symbol">)</a> <a id="19495" class="Symbol">(</a><a id="19496" href="blog.Sequent.html#19446" class="Bound">Δ</a> <a id="19498" href="blog.Sequent.html#16410" class="InductiveConstructor Operator">,</a> <a id="19500" href="blog.Sequent.html#19448" class="Bound">T</a><a id="19501" class="Symbol">)</a>
  <a id="19505" href="blog.Sequent.html#19429" class="Function">extend-sub</a> <a id="19516" href="blog.Sequent.html#19516" class="Bound">σ</a> <a id="19518" href="blog.Sequent.html#16478" class="InductiveConstructor">here</a> <a id="19523" class="Symbol">=</a> <a id="19525" href="blog.Sequent.html#16814" class="InductiveConstructor">var</a> <a id="19529" href="blog.Sequent.html#16478" class="InductiveConstructor">here</a>
  <a id="19536" href="blog.Sequent.html#19429" class="Function">extend-sub</a> <a id="19547" href="blog.Sequent.html#19547" class="Bound">σ</a> <a id="19549" class="Symbol">(</a><a id="19550" href="blog.Sequent.html#16509" class="InductiveConstructor">there</a> <a id="19556" href="blog.Sequent.html#19556" class="Bound">t</a><a id="19557" class="Symbol">)</a> <a id="19559" class="Symbol">=</a> <a id="19561" href="blog.Sequent.html#18215" class="Function">rename</a> <a id="19568" href="blog.Sequent.html#16509" class="InductiveConstructor">there</a> <a id="19574" class="Symbol">(</a><a id="19575" href="blog.Sequent.html#19547" class="Bound">σ</a> <a id="19577" href="blog.Sequent.html#19556" class="Bound">t</a><a id="19578" class="Symbol">)</a>

  <a id="STLC.substitute"></a><a id="19583" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="19594" class="Symbol">:</a> <a id="19596" class="Symbol">∀{</a><a id="19598" href="blog.Sequent.html#19598" class="Bound">Γ</a> <a id="19600" href="blog.Sequent.html#19600" class="Bound">Δ</a> <a id="19602" href="blog.Sequent.html#19602" class="Bound">T</a><a id="19603" class="Symbol">}</a> <a id="19605" class="Symbol">-&gt;</a> <a id="19608" href="blog.Sequent.html#19349" class="Function">Substitution</a> <a id="19621" href="blog.Sequent.html#19598" class="Bound">Γ</a> <a id="19623" href="blog.Sequent.html#19600" class="Bound">Δ</a> <a id="19625" class="Symbol">-&gt;</a> <a id="19628" href="blog.Sequent.html#19598" class="Bound">Γ</a> <a id="19630" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="19632" href="blog.Sequent.html#19602" class="Bound">T</a> <a id="19634" class="Symbol">-&gt;</a> <a id="19637" href="blog.Sequent.html#19600" class="Bound">Δ</a> <a id="19639" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="19641" href="blog.Sequent.html#19602" class="Bound">T</a>
  <a id="19645" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="19656" href="blog.Sequent.html#19656" class="Bound">σ</a> <a id="19658" class="Symbol">(</a><a id="19659" href="blog.Sequent.html#16814" class="InductiveConstructor">var</a> <a id="19663" href="blog.Sequent.html#19663" class="Bound">x</a><a id="19664" class="Symbol">)</a> <a id="19666" class="Symbol">=</a> <a id="19668" href="blog.Sequent.html#19656" class="Bound">σ</a> <a id="19670" href="blog.Sequent.html#19663" class="Bound">x</a>
  <a id="19674" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="19685" href="blog.Sequent.html#19685" class="Bound">σ</a> <a id="19687" href="blog.Sequent.html#16849" class="InductiveConstructor">unit-intro</a> <a id="19698" class="Symbol">=</a> <a id="19700" href="blog.Sequent.html#16849" class="InductiveConstructor">unit-intro</a>
  <a id="19713" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="19724" href="blog.Sequent.html#19724" class="Bound">σ</a> <a id="19726" class="Symbol">(</a><a id="19727" href="blog.Sequent.html#16883" class="InductiveConstructor">empty-elim</a> <a id="19738" href="blog.Sequent.html#19738" class="Bound">t</a><a id="19739" class="Symbol">)</a> <a id="19741" class="Symbol">=</a> <a id="19743" href="blog.Sequent.html#16883" class="InductiveConstructor">empty-elim</a> <a id="19754" class="Symbol">(</a><a id="19755" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="19766" href="blog.Sequent.html#19724" class="Bound">σ</a> <a id="19768" href="blog.Sequent.html#19738" class="Bound">t</a><a id="19769" class="Symbol">)</a>
  <a id="19773" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="19784" href="blog.Sequent.html#19784" class="Bound">σ</a> <a id="19786" class="Symbol">(</a><a id="19787" href="blog.Sequent.html#16970" class="InductiveConstructor">abs</a> <a id="19791" href="blog.Sequent.html#19791" class="Bound">t</a><a id="19792" class="Symbol">)</a> <a id="19794" class="Symbol">=</a> <a id="19796" href="blog.Sequent.html#16970" class="InductiveConstructor">abs</a> <a id="19800" class="Symbol">(</a><a id="19801" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="19812" class="Symbol">(</a><a id="19813" href="blog.Sequent.html#19429" class="Function">extend-sub</a> <a id="19824" href="blog.Sequent.html#19784" class="Bound">σ</a><a id="19825" class="Symbol">)</a> <a id="19827" href="blog.Sequent.html#19791" class="Bound">t</a><a id="19828" class="Symbol">)</a>
  <a id="19832" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="19843" href="blog.Sequent.html#19843" class="Bound">σ</a> <a id="19845" class="Symbol">(</a><a id="19846" href="blog.Sequent.html#17047" class="InductiveConstructor">app</a> <a id="19850" href="blog.Sequent.html#19850" class="Bound">t</a> <a id="19852" href="blog.Sequent.html#19852" class="Bound">t₁</a><a id="19854" class="Symbol">)</a> <a id="19856" class="Symbol">=</a> <a id="19858" href="blog.Sequent.html#17047" class="InductiveConstructor">app</a> <a id="19862" class="Symbol">(</a><a id="19863" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="19874" href="blog.Sequent.html#19843" class="Bound">σ</a> <a id="19876" href="blog.Sequent.html#19850" class="Bound">t</a><a id="19877" class="Symbol">)</a> <a id="19879" class="Symbol">(</a><a id="19880" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="19891" href="blog.Sequent.html#19843" class="Bound">σ</a> <a id="19893" href="blog.Sequent.html#19852" class="Bound">t₁</a><a id="19895" class="Symbol">)</a>
  <a id="19899" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="19910" href="blog.Sequent.html#19910" class="Bound">σ</a> <a id="19912" class="Symbol">(</a><a id="19913" href="blog.Sequent.html#17101" class="InductiveConstructor">×-intro</a> <a id="19921" href="blog.Sequent.html#19921" class="Bound">t</a> <a id="19923" href="blog.Sequent.html#19923" class="Bound">t₁</a><a id="19925" class="Symbol">)</a> <a id="19927" class="Symbol">=</a> <a id="19929" href="blog.Sequent.html#17101" class="InductiveConstructor">×-intro</a> <a id="19937" class="Symbol">(</a><a id="19938" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="19949" href="blog.Sequent.html#19910" class="Bound">σ</a> <a id="19951" href="blog.Sequent.html#19921" class="Bound">t</a><a id="19952" class="Symbol">)</a> <a id="19954" class="Symbol">(</a><a id="19955" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="19966" href="blog.Sequent.html#19910" class="Bound">σ</a> <a id="19968" href="blog.Sequent.html#19923" class="Bound">t₁</a><a id="19970" class="Symbol">)</a>
  <a id="19974" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="19985" href="blog.Sequent.html#19985" class="Bound">σ</a> <a id="19987" class="Symbol">(</a><a id="19988" href="blog.Sequent.html#17155" class="InductiveConstructor">×-elim</a> <a id="19995" href="blog.Sequent.html#19995" class="Bound">s</a> <a id="19997" href="blog.Sequent.html#19997" class="Bound">b</a><a id="19998" class="Symbol">)</a> <a id="20000" class="Symbol">=</a> <a id="20002" href="blog.Sequent.html#17155" class="InductiveConstructor">×-elim</a> <a id="20009" class="Symbol">(</a><a id="20010" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="20021" href="blog.Sequent.html#19985" class="Bound">σ</a> <a id="20023" href="blog.Sequent.html#19995" class="Bound">s</a><a id="20024" class="Symbol">)</a> <a id="20026" class="Symbol">(</a><a id="20027" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="20038" class="Symbol">(</a><a id="20039" href="blog.Sequent.html#19429" class="Function">extend-sub</a> <a id="20050" class="Symbol">(</a><a id="20051" href="blog.Sequent.html#19429" class="Function">extend-sub</a> <a id="20062" href="blog.Sequent.html#19985" class="Bound">σ</a><a id="20063" class="Symbol">))</a> <a id="20066" href="blog.Sequent.html#19997" class="Bound">b</a><a id="20067" class="Symbol">)</a>
  <a id="20071" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="20082" href="blog.Sequent.html#20082" class="Bound">σ</a> <a id="20084" class="Symbol">(</a><a id="20085" href="blog.Sequent.html#17219" class="InductiveConstructor">+-intro-left</a> <a id="20098" href="blog.Sequent.html#20098" class="Bound">t</a><a id="20099" class="Symbol">)</a> <a id="20101" class="Symbol">=</a> <a id="20103" href="blog.Sequent.html#17219" class="InductiveConstructor">+-intro-left</a> <a id="20116" class="Symbol">(</a><a id="20117" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="20128" href="blog.Sequent.html#20082" class="Bound">σ</a> <a id="20130" href="blog.Sequent.html#20098" class="Bound">t</a><a id="20131" class="Symbol">)</a>
  <a id="20135" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="20146" href="blog.Sequent.html#20146" class="Bound">σ</a> <a id="20148" class="Symbol">(</a><a id="20149" href="blog.Sequent.html#17269" class="InductiveConstructor">+-intro-right</a> <a id="20163" href="blog.Sequent.html#20163" class="Bound">t</a><a id="20164" class="Symbol">)</a> <a id="20166" class="Symbol">=</a> <a id="20168" href="blog.Sequent.html#17269" class="InductiveConstructor">+-intro-right</a> <a id="20182" class="Symbol">(</a><a id="20183" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="20194" href="blog.Sequent.html#20146" class="Bound">σ</a> <a id="20196" href="blog.Sequent.html#20163" class="Bound">t</a><a id="20197" class="Symbol">)</a>
  <a id="20201" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="20212" href="blog.Sequent.html#20212" class="Bound">σ</a> <a id="20214" class="Symbol">(</a><a id="20215" href="blog.Sequent.html#17320" class="InductiveConstructor">+-elim</a> <a id="20222" href="blog.Sequent.html#20222" class="Bound">s</a> <a id="20224" href="blog.Sequent.html#20224" class="Bound">x</a> <a id="20226" href="blog.Sequent.html#20226" class="Bound">y</a><a id="20227" class="Symbol">)</a> <a id="20229" class="Symbol">=</a> <a id="20231" href="blog.Sequent.html#17320" class="InductiveConstructor">+-elim</a> <a id="20238" class="Symbol">(</a><a id="20239" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="20250" href="blog.Sequent.html#20212" class="Bound">σ</a> <a id="20252" href="blog.Sequent.html#20222" class="Bound">s</a><a id="20253" class="Symbol">)</a> <a id="20255" class="Symbol">(</a><a id="20256" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="20267" class="Symbol">(</a><a id="20268" href="blog.Sequent.html#19429" class="Function">extend-sub</a> <a id="20279" href="blog.Sequent.html#20212" class="Bound">σ</a><a id="20280" class="Symbol">)</a> <a id="20282" href="blog.Sequent.html#20224" class="Bound">x</a><a id="20283" class="Symbol">)</a> <a id="20285" class="Symbol">(</a><a id="20286" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="20297" class="Symbol">(</a><a id="20298" href="blog.Sequent.html#19429" class="Function">extend-sub</a> <a id="20309" href="blog.Sequent.html#20212" class="Bound">σ</a><a id="20310" class="Symbol">)</a> <a id="20312" href="blog.Sequent.html#20226" class="Bound">y</a><a id="20313" class="Symbol">)</a>
  <a id="20317" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="20328" href="blog.Sequent.html#20328" class="Bound">σ</a> <a id="20330" href="blog.Sequent.html#17626" class="InductiveConstructor">ℕ-intro-zero</a> <a id="20343" class="Symbol">=</a> <a id="20345" href="blog.Sequent.html#17626" class="InductiveConstructor">ℕ-intro-zero</a>
  <a id="20360" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="20371" href="blog.Sequent.html#20371" class="Bound">σ</a> <a id="20373" class="Symbol">(</a><a id="20374" href="blog.Sequent.html#17659" class="InductiveConstructor">ℕ-intro-suc</a> <a id="20386" href="blog.Sequent.html#20386" class="Bound">t</a><a id="20387" class="Symbol">)</a> <a id="20389" class="Symbol">=</a> <a id="20391" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="20402" href="blog.Sequent.html#20371" class="Bound">σ</a> <a id="20404" href="blog.Sequent.html#20386" class="Bound">t</a>
  <a id="20408" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="20419" href="blog.Sequent.html#20419" class="Bound">σ</a> <a id="20421" class="Symbol">(</a><a id="20422" href="blog.Sequent.html#17824" class="InductiveConstructor">ℕ-elim</a> <a id="20429" href="blog.Sequent.html#20429" class="Bound">sub</a> <a id="20433" href="blog.Sequent.html#20433" class="Bound">z</a> <a id="20435" href="blog.Sequent.html#20435" class="Bound">s</a><a id="20436" class="Symbol">)</a> <a id="20438" class="Symbol">=</a> <a id="20440" href="blog.Sequent.html#17824" class="InductiveConstructor">ℕ-elim</a> <a id="20447" class="Symbol">(</a><a id="20448" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="20459" href="blog.Sequent.html#20419" class="Bound">σ</a> <a id="20461" href="blog.Sequent.html#20429" class="Bound">sub</a><a id="20464" class="Symbol">)</a> <a id="20466" class="Symbol">(</a><a id="20467" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="20478" href="blog.Sequent.html#20419" class="Bound">σ</a> <a id="20480" href="blog.Sequent.html#20433" class="Bound">z</a><a id="20481" class="Symbol">)</a> <a id="20483" class="Symbol">(</a><a id="20484" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="20495" class="Symbol">(</a><a id="20496" href="blog.Sequent.html#19429" class="Function">extend-sub</a> <a id="20507" href="blog.Sequent.html#20419" class="Bound">σ</a><a id="20508" class="Symbol">)</a> <a id="20510" href="blog.Sequent.html#20435" class="Bound">s</a><a id="20511" class="Symbol">)</a>

  <a id="20516" class="Comment">-- Special syntax for single variable substitution that we will use later</a>
  <a id="STLC._[_]"></a><a id="20592" href="blog.Sequent.html#20592" class="Function Operator">_[_]</a> <a id="20597" class="Symbol">:</a> <a id="20599" class="Symbol">∀{</a><a id="20601" href="blog.Sequent.html#20601" class="Bound">Γ</a> <a id="20603" href="blog.Sequent.html#20603" class="Bound">T</a> <a id="20605" href="blog.Sequent.html#20605" class="Bound">S</a><a id="20606" class="Symbol">}</a> <a id="20608" class="Symbol">-&gt;</a> <a id="20611" href="blog.Sequent.html#20601" class="Bound">Γ</a> <a id="20613" href="blog.Sequent.html#16410" class="InductiveConstructor Operator">,</a> <a id="20615" href="blog.Sequent.html#20603" class="Bound">T</a> <a id="20617" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="20619" href="blog.Sequent.html#20605" class="Bound">S</a> <a id="20621" class="Symbol">-&gt;</a> <a id="20624" href="blog.Sequent.html#20601" class="Bound">Γ</a> <a id="20626" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="20628" href="blog.Sequent.html#20603" class="Bound">T</a> <a id="20630" class="Symbol">-&gt;</a> <a id="20633" href="blog.Sequent.html#20601" class="Bound">Γ</a> <a id="20635" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="20637" href="blog.Sequent.html#20605" class="Bound">S</a>
  <a id="20641" href="blog.Sequent.html#20641" class="Bound">a</a> <a id="20643" href="blog.Sequent.html#20592" class="Function Operator">[</a> <a id="20645" href="blog.Sequent.html#20645" class="Bound">b</a> <a id="20647" href="blog.Sequent.html#20592" class="Function Operator">]</a> <a id="20649" class="Symbol">=</a> <a id="20651" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="20662" class="Symbol">(λ</a> <a id="20665" class="Symbol">{</a> <a id="20667" href="blog.Sequent.html#16478" class="InductiveConstructor">here</a> <a id="20672" class="Symbol">→</a> <a id="20674" href="blog.Sequent.html#20645" class="Bound">b</a>
                          <a id="20702" class="Symbol">;</a> <a id="20704" class="Symbol">(</a><a id="20705" href="blog.Sequent.html#16509" class="InductiveConstructor">there</a> <a id="20711" href="blog.Sequent.html#20711" class="Bound">x</a><a id="20712" class="Symbol">)</a> <a id="20714" class="Symbol">→</a> <a id="20716" href="blog.Sequent.html#16814" class="InductiveConstructor">var</a> <a id="20720" href="blog.Sequent.html#20711" class="Bound">x</a><a id="20721" class="Symbol">})</a> <a id="20724" href="blog.Sequent.html#20641" class="Bound">a</a>

  <a id="20729" class="Keyword">infix</a> <a id="20735" class="Number">6</a> <a id="20737" href="blog.Sequent.html#20592" class="Function Operator">_[_]</a>

  <a id="STLC._`"></a><a id="20745" href="blog.Sequent.html#20745" class="Function Operator">_`</a> <a id="20748" class="Symbol">:</a> <a id="20750" class="Symbol">∀{</a><a id="20752" href="blog.Sequent.html#20752" class="Bound">Γ</a> <a id="20754" href="blog.Sequent.html#20754" class="Bound">T</a> <a id="20756" href="blog.Sequent.html#20756" class="Bound">S</a><a id="20757" class="Symbol">}</a> <a id="20759" class="Symbol">-&gt;</a> <a id="20762" href="blog.Sequent.html#20752" class="Bound">Γ</a> <a id="20764" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="20766" href="blog.Sequent.html#20756" class="Bound">S</a> <a id="20768" class="Symbol">-&gt;</a> <a id="20771" href="blog.Sequent.html#20752" class="Bound">Γ</a> <a id="20773" href="blog.Sequent.html#16410" class="InductiveConstructor Operator">,</a> <a id="20775" href="blog.Sequent.html#20754" class="Bound">T</a> <a id="20777" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="20779" href="blog.Sequent.html#20756" class="Bound">S</a>
  <a id="20783" href="blog.Sequent.html#20783" class="Bound">t</a> <a id="20785" href="blog.Sequent.html#20745" class="Function Operator">`</a>  <a id="20788" class="Symbol">=</a> <a id="20790" href="blog.Sequent.html#19583" class="Function">substitute</a> <a id="20801" class="Symbol">(λ</a> <a id="20804" href="blog.Sequent.html#20804" class="Bound">x</a> <a id="20806" class="Symbol">→</a> <a id="20808" href="blog.Sequent.html#16814" class="InductiveConstructor">var</a> <a id="20812" class="Symbol">(</a><a id="20813" href="blog.Sequent.html#16509" class="InductiveConstructor">there</a> <a id="20819" href="blog.Sequent.html#20804" class="Bound">x</a><a id="20820" class="Symbol">))</a> <a id="20823" href="blog.Sequent.html#20783" class="Bound">t</a>
</pre>

<p>
Note: If you think that the definition of substitution and renaming are very
similar, you are right. This is because the term is a functor (through rename)
and also a monad (through substitute). In fact, I have (kind of) explored the
relation between substitution and renaming an earlier post <a href="scoped-lambda-terms.html#ID-6d25ece7-27de-4847-a5d8-a5586c72bc6f">Well scoped lambda
terms</a>.
</p>

<p>
Now that we are done with defining every necessary required concept, we can
write down our reduction rules!
</p>
</div>
</div>

<div id="outline-container-org48c15e7" class="outline-3">
<h3 id="org48c15e7"><span class="section-number-3">3.6.</span> Naturals</h3>
<div class="outline-text-3" id="text-3-6">
<pre class="Agda">
  <a id="STLC.plus"></a><a id="21343" href="blog.Sequent.html#21343" class="Function">plus</a> <a id="21348" class="Symbol">:</a> <a id="21350" class="Symbol">∀{</a><a id="21352" href="blog.Sequent.html#21352" class="Bound">Γ</a><a id="21353" class="Symbol">}</a> <a id="21355" class="Symbol">-&gt;</a> <a id="21358" href="blog.Sequent.html#21352" class="Bound">Γ</a> <a id="21360" href="blog.Sequent.html#16779" class="Datatype Operator">⊢</a> <a id="21362" href="blog.Sequent.html#16306" class="InductiveConstructor">ℕ</a> <a id="21364" href="blog.Sequent.html#15403" class="InductiveConstructor Operator">=&gt;</a> <a id="21367" href="blog.Sequent.html#16306" class="InductiveConstructor">ℕ</a> <a id="21369" href="blog.Sequent.html#15403" class="InductiveConstructor Operator">=&gt;</a> <a id="21372" href="blog.Sequent.html#16306" class="InductiveConstructor">ℕ</a>
  <a id="21376" href="blog.Sequent.html#21343" class="Function">plus</a> <a id="21381" class="Symbol">=</a> <a id="21383" href="blog.Sequent.html#16970" class="InductiveConstructor">abs</a> <a id="21387" class="Symbol">(</a><a id="21388" href="blog.Sequent.html#16970" class="InductiveConstructor">abs</a> <a id="21392" class="Symbol">(</a><a id="21393" href="blog.Sequent.html#17824" class="InductiveConstructor">ℕ-elim</a> <a id="21400" class="Symbol">(</a><a id="21401" href="blog.Sequent.html#16814" class="InductiveConstructor">var</a> <a id="21405" class="Symbol">(</a><a id="21406" href="blog.Sequent.html#16509" class="InductiveConstructor">there</a> <a id="21412" href="blog.Sequent.html#16478" class="InductiveConstructor">here</a><a id="21416" class="Symbol">))</a> <a id="21419" class="Symbol">(</a><a id="21420" href="blog.Sequent.html#16814" class="InductiveConstructor">var</a> <a id="21424" href="blog.Sequent.html#16478" class="InductiveConstructor">here</a><a id="21428" class="Symbol">)</a> <a id="21430" class="Symbol">(</a><a id="21431" href="blog.Sequent.html#17659" class="InductiveConstructor">ℕ-intro-suc</a> <a id="21443" class="Symbol">(</a><a id="21444" href="blog.Sequent.html#16814" class="InductiveConstructor">var</a> <a id="21448" href="blog.Sequent.html#16478" class="InductiveConstructor">here</a><a id="21452" class="Symbol">))))</a>


  <a id="21461" class="Comment">-- _ : ∀{Γ}</a>
  <a id="21475" class="Comment">--   -&gt; app {Γ} (app plus (ℕ-intro-suc (ℕ-intro-suc ℕ-intro-zero))) (ℕ-intro-suc (ℕ-intro-suc ℕ-intro-zero))</a>
  <a id="21586" class="Comment">--      ~~&gt; (ℕ-intro-suc (ℕ-intro-suc (ℕ-intro-suc (ℕ-intro-suc ℕ-intro-zero))))</a>
  <a id="21669" class="Comment">-- _ = {!!}</a>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf98b224" class="outline-2">
<h2 id="orgf98b224"><span class="section-number-2">4.</span> System F</h2>
<div class="outline-text-2" id="text-4">
<pre class="Agda">
<a id="21722" class="Keyword">module</a> <a id="SystemF"></a><a id="21729" href="blog.Sequent.html#21729" class="Module">SystemF</a> <a id="21737" class="Keyword">where</a>
  <a id="21745" class="Keyword">infix</a> <a id="21751" class="Number">2</a> <a id="21753" href="blog.Sequent.html#23256" class="Datatype Operator">_⊢_</a> <a id="21757" href="blog.Sequent.html#23103" class="Datatype Operator">_⊢*</a> <a id="21761" href="blog.Sequent.html#23416" class="Datatype Operator">_∋*</a> <a id="21765" href="blog.Sequent.html#23583" class="Datatype Operator">_∋_</a>
  <a id="21771" class="Keyword">infixl</a> <a id="21778" class="Number">3</a> <a id="21780" href="blog.Sequent.html#23990" class="InductiveConstructor Operator">_,_</a> <a id="21784" href="blog.Sequent.html#24063" class="InductiveConstructor Operator">_,*</a>
  <a id="21790" class="Keyword">infixr</a> <a id="21797" class="Number">4</a> <a id="21799" href="blog.Sequent.html#24911" class="InductiveConstructor Operator">_=&gt;_</a>
  <a id="21806" class="Keyword">infixr</a> <a id="21813" class="Number">5</a> <a id="21815" href="blog.Sequent.html#24855" class="InductiveConstructor Operator">_+_</a>
  <a id="21821" class="Keyword">infixr</a> <a id="21828" class="Number">6</a> <a id="21830" href="blog.Sequent.html#24799" class="InductiveConstructor Operator">_×_</a>
</pre>

<p>
<a href="https://en.wikipedia.org/wiki/System_F">System F</a> extends the simply typed lambda calculus with type quantification. This
means that in System F, it is possible to give a type to the polymorphic
identity function
</p>

<p>
\[ \Lambda \alpha. \lambda x_\alpha.x : \forall \alpha. \alpha \Rightarrow \alpha \]
</p>

<p>
However, formalizing System F in agda will be harder than for the simply typed
&lambda;-calculus for a couple of reasons:
</p>

<ol class="org-ol">
<li>In the STLC, a context is simply a list of types and types don't depend on
anytying. In System F, a type depends on its context.</li>
<li>In the STLC, there are no type variable. Every type is concrete. This is not
the case for System F in which types AND terms might refer to type variables.</li>
</ol>

<p>
Because we don't have the nice "terms depend on contexts depend on types depend
on nothing" hierarchy, we will use Agda's <code>interleaved mutual</code> block to define
everyting all at once and let us express the cyclic dependencies.
</p>

<pre class="Agda">
  <a id="22813" class="Keyword">interleaved</a> <a id="22825" class="Keyword">mutual</a>
</pre>

<p>
Our formalization will be made of five different entities.
</p>

<ul class="org-ul">
<li>Contexts which contain term and type variables.</li>
</ul>

<pre class="Agda">
    <a id="22976" class="Keyword">data</a> <a id="SystemF.Ctx"></a><a id="22981" href="blog.Sequent.html#22981" class="Datatype">Ctx</a> <a id="22985" class="Symbol">:</a> <a id="22987" href="Agda.Primitive.html#388" class="Primitive">Set</a>
</pre>

<ul class="org-ul">
<li>Types where a \( \Gamma \vdash * \) is a type in context \( \Gamma \).</li>
</ul>

<pre class="Agda">
    <a id="23098" class="Keyword">data</a> <a id="SystemF._⊢*"></a><a id="23103" href="blog.Sequent.html#23103" class="Datatype Operator">_⊢*</a> <a id="23107" class="Symbol">:</a> <a id="23109" href="blog.Sequent.html#22981" class="Datatype">Ctx</a> <a id="23113" class="Symbol">-&gt;</a> <a id="23116" href="Agda.Primitive.html#388" class="Primitive">Set</a>
</pre>
<ul class="org-ul">
<li>Terms where a \( \Gamma \vdash \tau \) means a term of type \( \tau \) in context \( \Gamma \).</li>
</ul>

<pre class="Agda">
    <a id="23251" class="Keyword">data</a> <a id="SystemF._⊢_"></a><a id="23256" href="blog.Sequent.html#23256" class="Datatype Operator">_⊢_</a> <a id="23260" class="Symbol">:</a> <a id="23262" class="Symbol">(</a><a id="23263" href="blog.Sequent.html#23263" class="Bound">Γ</a> <a id="23265" class="Symbol">:</a> <a id="23267" href="blog.Sequent.html#22981" class="Datatype">Ctx</a><a id="23270" class="Symbol">)</a> <a id="23272" class="Symbol">-&gt;</a> <a id="23275" href="blog.Sequent.html#23263" class="Bound">Γ</a> <a id="23277" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a> <a id="23280" class="Symbol">-&gt;</a> <a id="23283" href="Agda.Primitive.html#388" class="Primitive">Set</a>
</pre>

<ul class="org-ul">
<li>Type variables where a \( \Gamma \ni * \)  refers to some type variable in the context.</li>
</ul>

<pre class="Agda">
    <a id="23411" class="Keyword">data</a> <a id="SystemF._∋*"></a><a id="23416" href="blog.Sequent.html#23416" class="Datatype Operator">_∋*</a> <a id="23420" class="Symbol">:</a> <a id="23422" class="Symbol">(</a><a id="23423" href="blog.Sequent.html#23423" class="Bound">Γ</a> <a id="23425" class="Symbol">:</a> <a id="23427" href="blog.Sequent.html#22981" class="Datatype">Ctx</a><a id="23430" class="Symbol">)</a> <a id="23432" class="Symbol">-&gt;</a> <a id="23435" href="Agda.Primitive.html#388" class="Primitive">Set</a>
</pre>

<ul class="org-ul">
<li>Term variables where a \( \Gamma \ni \tau \) refers to a variable of type \( \tau \)
in the context.</li>
</ul>

<pre class="Agda">
    <a id="23578" class="Keyword">data</a> <a id="SystemF._∋_"></a><a id="23583" href="blog.Sequent.html#23583" class="Datatype Operator">_∋_</a> <a id="23587" class="Symbol">:</a> <a id="23589" class="Symbol">(</a><a id="23590" href="blog.Sequent.html#23590" class="Bound">Γ</a> <a id="23592" class="Symbol">:</a> <a id="23594" href="blog.Sequent.html#22981" class="Datatype">Ctx</a><a id="23597" class="Symbol">)</a> <a id="23599" class="Symbol">-&gt;</a> <a id="23602" href="blog.Sequent.html#23590" class="Bound">Γ</a> <a id="23604" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a> <a id="23607" class="Symbol">-&gt;</a> <a id="23610" href="Agda.Primitive.html#388" class="Primitive">Set</a>
</pre>
</div>

<div id="outline-container-orgcb10131" class="outline-3">
<h3 id="orgcb10131"><span class="section-number-3">4.1.</span> Context</h3>
<div class="outline-text-3" id="text-4-1">
<p>
In the STLC, a context was a list of the term variable's types. Now, it will be
containing two things: the (term level) variable's types (in the polymorphic
identity function, we had \( x : \alpha \)) and the type variables themselves (\(
\alpha : * \)).
</p>

<pre class="Agda">
    <a id="23915" class="Keyword">data</a> <a id="23920" href="blog.Sequent.html#22981" class="Datatype">Ctx</a> <a id="23924" class="Keyword">where</a>
      <a id="SystemF.Ctx.●"></a><a id="23936" href="blog.Sequent.html#23936" class="InductiveConstructor">●</a> <a id="23938" class="Symbol">:</a> <a id="23940" href="blog.Sequent.html#22981" class="Datatype">Ctx</a>
      <a id="23950" class="Comment">-- Term level variables of type t</a>
      <a id="SystemF.Ctx._,_"></a><a id="23990" href="blog.Sequent.html#23990" class="InductiveConstructor Operator">_,_</a> <a id="23994" class="Symbol">:</a> <a id="23996" class="Symbol">(</a><a id="23997" href="blog.Sequent.html#23997" class="Bound">Γ</a> <a id="23999" class="Symbol">:</a> <a id="24001" href="blog.Sequent.html#22981" class="Datatype">Ctx</a><a id="24004" class="Symbol">)</a> <a id="24006" class="Symbol">-&gt;</a> <a id="24009" class="Symbol">(</a><a id="24010" href="blog.Sequent.html#24010" class="Bound">t</a> <a id="24012" class="Symbol">:</a> <a id="24014" href="blog.Sequent.html#23997" class="Bound">Γ</a> <a id="24016" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a><a id="24018" class="Symbol">)</a> <a id="24020" class="Symbol">-&gt;</a> <a id="24023" href="blog.Sequent.html#22981" class="Datatype">Ctx</a>
      <a id="24033" class="Comment">-- Type level variables</a>
      <a id="SystemF.Ctx._,*"></a><a id="24063" href="blog.Sequent.html#24063" class="InductiveConstructor Operator">_,*</a> <a id="24067" class="Symbol">:</a> <a id="24069" href="blog.Sequent.html#22981" class="Datatype">Ctx</a> <a id="24073" class="Symbol">-&gt;</a> <a id="24076" href="blog.Sequent.html#22981" class="Datatype">Ctx</a>
</pre>
</div>
</div>

<div id="outline-container-org1453518" class="outline-3">
<h3 id="org1453518"><span class="section-number-3">4.2.</span> Type references</h3>
<div class="outline-text-3" id="text-4-2">
<p>
When a type exists in a context, it may refer to type variables in the context.
Since our context now contains to kinds of variables (type variables and term
variables), we have to account for this by adding a constructor <code>skip</code> .
</p>

<pre class="Agda">
    <a id="24365" class="Keyword">data</a> <a id="24370" href="blog.Sequent.html#23416" class="Datatype Operator">_∋*</a> <a id="24374" class="Keyword">where</a>
      <a id="SystemF._∋*.here"></a><a id="24386" href="blog.Sequent.html#24386" class="InductiveConstructor">here</a> <a id="24391" class="Symbol">:</a> <a id="24393" class="Symbol">∀{</a><a id="24395" href="blog.Sequent.html#24395" class="Bound">Γ</a><a id="24396" class="Symbol">}</a> <a id="24398" class="Symbol">-&gt;</a> <a id="24401" href="blog.Sequent.html#24395" class="Bound">Γ</a> <a id="24403" href="blog.Sequent.html#24063" class="InductiveConstructor Operator">,*</a> <a id="24406" href="blog.Sequent.html#23416" class="Datatype Operator">∋*</a>
      <a id="SystemF._∋*.there"></a><a id="24415" href="blog.Sequent.html#24415" class="InductiveConstructor">there</a> <a id="24421" class="Symbol">:</a> <a id="24423" class="Symbol">∀{</a><a id="24425" href="blog.Sequent.html#24425" class="Bound">Γ</a><a id="24426" class="Symbol">}</a> <a id="24428" class="Symbol">-&gt;</a> <a id="24431" href="blog.Sequent.html#24425" class="Bound">Γ</a> <a id="24433" href="blog.Sequent.html#23416" class="Datatype Operator">∋*</a> <a id="24436" class="Symbol">-&gt;</a> <a id="24439" href="blog.Sequent.html#24425" class="Bound">Γ</a> <a id="24441" href="blog.Sequent.html#24063" class="InductiveConstructor Operator">,*</a> <a id="24444" href="blog.Sequent.html#23416" class="Datatype Operator">∋*</a>
      <a id="SystemF._∋*.skip"></a><a id="24453" href="blog.Sequent.html#24453" class="InductiveConstructor">skip</a> <a id="24458" class="Symbol">:</a> <a id="24460" class="Symbol">∀{</a><a id="24462" href="blog.Sequent.html#24462" class="Bound">Γ</a><a id="24463" class="Symbol">}</a> <a id="24465" class="Symbol">{</a><a id="24466" href="blog.Sequent.html#24466" class="Bound">t</a> <a id="24468" class="Symbol">:</a> <a id="24470" href="blog.Sequent.html#24462" class="Bound">Γ</a> <a id="24472" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a><a id="24474" class="Symbol">}</a> <a id="24476" class="Symbol">-&gt;</a> <a id="24479" href="blog.Sequent.html#24462" class="Bound">Γ</a> <a id="24481" href="blog.Sequent.html#23416" class="Datatype Operator">∋*</a> <a id="24484" class="Symbol">-&gt;</a> <a id="24487" href="blog.Sequent.html#24462" class="Bound">Γ</a> <a id="24489" href="blog.Sequent.html#23990" class="InductiveConstructor Operator">,</a> <a id="24491" href="blog.Sequent.html#24466" class="Bound">t</a> <a id="24493" href="blog.Sequent.html#23416" class="Datatype Operator">∋*</a>
</pre>
</div>
</div>

<div id="outline-container-org90ed657" class="outline-3">
<h3 id="org90ed657"><span class="section-number-3">4.3.</span> Types</h3>
<div class="outline-text-3" id="text-4-3">
<p>
The universe of types is very similar to what we had in the STLC, but this time,
it depends on the context in which the type lives. Most old types that we had in
the STLC, don't change much.
</p>

<pre class="Agda">
    <a id="24731" class="Keyword">data</a> <a id="24736" href="blog.Sequent.html#23103" class="Datatype Operator">_⊢*</a> <a id="24740" class="Keyword">where</a>
      <a id="SystemF._⊢*.⊤"></a><a id="24752" href="blog.Sequent.html#24752" class="InductiveConstructor">⊤</a> <a id="24754" class="Symbol">:</a> <a id="24756" class="Symbol">∀{</a><a id="24758" href="blog.Sequent.html#24758" class="Bound">Γ</a><a id="24759" class="Symbol">}</a> <a id="24761" class="Symbol">-&gt;</a> <a id="24764" href="blog.Sequent.html#24758" class="Bound">Γ</a> <a id="24766" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a>
      <a id="SystemF._⊢*.⊥"></a><a id="24775" href="blog.Sequent.html#24775" class="InductiveConstructor">⊥</a> <a id="24777" class="Symbol">:</a> <a id="24779" class="Symbol">∀{</a><a id="24781" href="blog.Sequent.html#24781" class="Bound">Γ</a><a id="24782" class="Symbol">}</a> <a id="24784" class="Symbol">-&gt;</a> <a id="24787" href="blog.Sequent.html#24781" class="Bound">Γ</a> <a id="24789" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a>

      <a id="SystemF._⊢*._×_"></a><a id="24799" href="blog.Sequent.html#24799" class="InductiveConstructor Operator">_×_</a> <a id="24803" class="Symbol">:</a> <a id="24805" class="Symbol">∀{</a><a id="24807" href="blog.Sequent.html#24807" class="Bound">Γ</a><a id="24808" class="Symbol">}</a> <a id="24810" class="Symbol">(</a><a id="24811" href="blog.Sequent.html#24811" class="Bound">a</a> <a id="24813" class="Symbol">:</a> <a id="24815" href="blog.Sequent.html#24807" class="Bound">Γ</a> <a id="24817" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a><a id="24819" class="Symbol">)</a> <a id="24821" class="Symbol">(</a><a id="24822" href="blog.Sequent.html#24822" class="Bound">b</a> <a id="24824" class="Symbol">:</a> <a id="24826" href="blog.Sequent.html#24807" class="Bound">Γ</a> <a id="24828" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a><a id="24830" class="Symbol">)</a>
        <a id="24840" class="Symbol">-&gt;</a> <a id="24843" href="blog.Sequent.html#24807" class="Bound">Γ</a> <a id="24845" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a>

      <a id="SystemF._⊢*._+_"></a><a id="24855" href="blog.Sequent.html#24855" class="InductiveConstructor Operator">_+_</a> <a id="24859" class="Symbol">:</a> <a id="24861" class="Symbol">∀{</a><a id="24863" href="blog.Sequent.html#24863" class="Bound">Γ</a><a id="24864" class="Symbol">}</a> <a id="24866" class="Symbol">(</a><a id="24867" href="blog.Sequent.html#24867" class="Bound">a</a> <a id="24869" class="Symbol">:</a> <a id="24871" href="blog.Sequent.html#24863" class="Bound">Γ</a> <a id="24873" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a><a id="24875" class="Symbol">)</a> <a id="24877" class="Symbol">(</a><a id="24878" href="blog.Sequent.html#24878" class="Bound">b</a> <a id="24880" class="Symbol">:</a> <a id="24882" href="blog.Sequent.html#24863" class="Bound">Γ</a> <a id="24884" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a><a id="24886" class="Symbol">)</a>
        <a id="24896" class="Symbol">-&gt;</a> <a id="24899" href="blog.Sequent.html#24863" class="Bound">Γ</a> <a id="24901" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a>

      <a id="SystemF._⊢*._=&gt;_"></a><a id="24911" href="blog.Sequent.html#24911" class="InductiveConstructor Operator">_=&gt;_</a> <a id="24916" class="Symbol">:</a> <a id="24918" class="Symbol">∀{</a><a id="24920" href="blog.Sequent.html#24920" class="Bound">Γ</a><a id="24921" class="Symbol">}</a> <a id="24923" class="Symbol">(</a><a id="24924" href="blog.Sequent.html#24924" class="Bound">a</a> <a id="24926" class="Symbol">:</a> <a id="24928" href="blog.Sequent.html#24920" class="Bound">Γ</a> <a id="24930" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a><a id="24932" class="Symbol">)</a> <a id="24934" class="Symbol">(</a><a id="24935" href="blog.Sequent.html#24935" class="Bound">b</a> <a id="24937" class="Symbol">:</a> <a id="24939" href="blog.Sequent.html#24920" class="Bound">Γ</a> <a id="24941" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a><a id="24943" class="Symbol">)</a>
        <a id="24953" class="Symbol">-&gt;</a> <a id="24956" href="blog.Sequent.html#24920" class="Bound">Γ</a> <a id="24958" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a>
</pre>

<p>
But we have new types: type variables and type quantification. A type variable
is pretty much what you would expect: a type reference into the context.
</p>

<pre class="Agda">
      <a id="SystemF._⊢*.var"></a><a id="25149" href="blog.Sequent.html#25149" class="InductiveConstructor">var</a> <a id="25153" class="Symbol">:</a> <a id="25155" class="Symbol">∀{</a><a id="25157" href="blog.Sequent.html#25157" class="Bound">Γ</a><a id="25158" class="Symbol">}</a> <a id="25160" class="Symbol">-&gt;</a> <a id="25163" href="blog.Sequent.html#25157" class="Bound">Γ</a> <a id="25165" href="blog.Sequent.html#23416" class="Datatype Operator">∋*</a> <a id="25168" class="Symbol">-&gt;</a> <a id="25171" href="blog.Sequent.html#25157" class="Bound">Γ</a> <a id="25173" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a>
</pre>

<p>
And type quantification, like the STLC's <code>abs</code> constructor but for types, simply
binds a free type variable in the context.
</p>

<pre class="Agda">
      <a id="25336" class="Comment">-- ∀ is a reserved identifier, so we must add a &#39;</a>
      <a id="SystemF._⊢*.∀&#39;"></a><a id="25392" href="blog.Sequent.html#25392" class="InductiveConstructor">∀&#39;</a> <a id="25395" class="Symbol">:</a> <a id="25397" class="Symbol">∀{</a><a id="25399" href="blog.Sequent.html#25399" class="Bound">Γ</a><a id="25400" class="Symbol">}</a>
        <a id="25410" class="Symbol">-&gt;</a> <a id="25413" href="blog.Sequent.html#25399" class="Bound">Γ</a> <a id="25415" href="blog.Sequent.html#24063" class="InductiveConstructor Operator">,*</a> <a id="25418" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a>
        <a id="25429" class="Symbol">-&gt;</a> <a id="25432" href="blog.Sequent.html#25399" class="Bound">Γ</a> <a id="25434" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a>
</pre>
</div>
</div>

<div id="outline-container-orga051901" class="outline-3">
<h3 id="orga051901"><span class="section-number-3">4.4.</span> Type renaming, substitution et cetera</h3>
<div class="outline-text-3" id="text-4-4">
<p>
If our universe of types admits variables and quantification, it follows that we
will need type level renaming and substitution procedures. Those work pretty
much the same ways as STLC's, but we must pay particular attention not to
confuse type variables which are all indistinguishable from each other.
</p>

<p>
Another change is that since we now have two kinds of variables we can add to a
context (a term variable and a type variable), a couple of functions are
duplicated. Those that add a term variable will keep the old name and those that
add a type variable will have a \( * \) at the end.
</p>

<pre class="Agda">
    <a id="26104" class="Comment">-- Renaming and substitution for types</a>
    <a id="SystemF.tRenaming"></a><a id="26147" href="blog.Sequent.html#26147" class="Function">tRenaming</a> <a id="26157" class="Symbol">:</a> <a id="26159" href="blog.Sequent.html#22981" class="Datatype">Ctx</a> <a id="26163" class="Symbol">-&gt;</a> <a id="26166" href="blog.Sequent.html#22981" class="Datatype">Ctx</a> <a id="26170" class="Symbol">-&gt;</a> <a id="26173" href="Agda.Primitive.html#388" class="Primitive">Set</a>
    <a id="26181" href="blog.Sequent.html#26147" class="Function">tRenaming</a> <a id="26191" href="blog.Sequent.html#26191" class="Bound">Γ</a> <a id="26193" href="blog.Sequent.html#26193" class="Bound">Δ</a> <a id="26195" class="Symbol">=</a> <a id="26197" href="blog.Sequent.html#26191" class="Bound">Γ</a> <a id="26199" href="blog.Sequent.html#23416" class="Datatype Operator">∋*</a> <a id="26202" class="Symbol">-&gt;</a> <a id="26205" href="blog.Sequent.html#26193" class="Bound">Δ</a> <a id="26207" href="blog.Sequent.html#23416" class="Datatype Operator">∋*</a>

    <a id="SystemF.tSubstitution"></a><a id="26215" href="blog.Sequent.html#26215" class="Function">tSubstitution</a> <a id="26229" class="Symbol">:</a> <a id="26231" href="blog.Sequent.html#22981" class="Datatype">Ctx</a> <a id="26235" class="Symbol">-&gt;</a> <a id="26238" href="blog.Sequent.html#22981" class="Datatype">Ctx</a> <a id="26242" class="Symbol">-&gt;</a> <a id="26245" href="Agda.Primitive.html#388" class="Primitive">Set</a>
    <a id="26253" href="blog.Sequent.html#26215" class="Function">tSubstitution</a> <a id="26267" href="blog.Sequent.html#26267" class="Bound">Γ</a> <a id="26269" href="blog.Sequent.html#26269" class="Bound">Δ</a> <a id="26271" class="Symbol">=</a> <a id="26273" href="blog.Sequent.html#26267" class="Bound">Γ</a> <a id="26275" href="blog.Sequent.html#23416" class="Datatype Operator">∋*</a> <a id="26278" class="Symbol">-&gt;</a> <a id="26281" href="blog.Sequent.html#26269" class="Bound">Δ</a> <a id="26283" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a>

    <a id="26291" class="Comment">-- Variable renaming for types</a>
    <a id="SystemF.tRename"></a><a id="26326" href="blog.Sequent.html#26326" class="Function">tRename</a> <a id="26334" class="Symbol">:</a> <a id="26336" class="Symbol">∀{</a><a id="26338" href="blog.Sequent.html#26338" class="Bound">Γ</a> <a id="26340" href="blog.Sequent.html#26340" class="Bound">Δ</a><a id="26341" class="Symbol">}</a> <a id="26343" class="Symbol">-&gt;</a> <a id="26346" href="blog.Sequent.html#26147" class="Function">tRenaming</a> <a id="26356" href="blog.Sequent.html#26338" class="Bound">Γ</a> <a id="26358" href="blog.Sequent.html#26340" class="Bound">Δ</a> <a id="26360" class="Symbol">-&gt;</a> <a id="26363" href="blog.Sequent.html#26338" class="Bound">Γ</a> <a id="26365" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a> <a id="26368" class="Symbol">-&gt;</a> <a id="26371" href="blog.Sequent.html#26340" class="Bound">Δ</a> <a id="26373" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a>

    <a id="26381" class="Comment">-- Renaming extension for types</a>
    <a id="SystemF.tExtend"></a><a id="26417" href="blog.Sequent.html#26417" class="Function">tExtend</a> <a id="26425" class="Symbol">:</a> <a id="26427" class="Symbol">∀{</a><a id="26429" href="blog.Sequent.html#26429" class="Bound">Γ</a> <a id="26431" href="blog.Sequent.html#26431" class="Bound">Δ</a><a id="26432" class="Symbol">}</a> <a id="26434" class="Symbol">{</a><a id="26435" href="blog.Sequent.html#26435" class="Bound">t</a> <a id="26437" class="Symbol">:</a> <a id="26439" href="blog.Sequent.html#26429" class="Bound">Γ</a> <a id="26441" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a><a id="26443" class="Symbol">}</a> <a id="26445" class="Symbol">-&gt;</a> <a id="26448" class="Symbol">(</a><a id="26449" href="blog.Sequent.html#26449" class="Bound">r</a> <a id="26451" class="Symbol">:</a> <a id="26453" href="blog.Sequent.html#26147" class="Function">tRenaming</a> <a id="26463" href="blog.Sequent.html#26429" class="Bound">Γ</a> <a id="26465" href="blog.Sequent.html#26431" class="Bound">Δ</a><a id="26466" class="Symbol">)</a> <a id="26468" class="Symbol">-&gt;</a> <a id="26471" href="blog.Sequent.html#26147" class="Function">tRenaming</a> <a id="26481" class="Symbol">(</a><a id="26482" href="blog.Sequent.html#26429" class="Bound">Γ</a> <a id="26484" href="blog.Sequent.html#23990" class="InductiveConstructor Operator">,</a> <a id="26486" href="blog.Sequent.html#26435" class="Bound">t</a><a id="26487" class="Symbol">)</a> <a id="26489" class="Symbol">(</a><a id="26490" href="blog.Sequent.html#26431" class="Bound">Δ</a> <a id="26492" href="blog.Sequent.html#23990" class="InductiveConstructor Operator">,</a> <a id="26494" href="blog.Sequent.html#26326" class="Function">tRename</a> <a id="26502" href="blog.Sequent.html#26449" class="Bound">r</a> <a id="26504" href="blog.Sequent.html#26435" class="Bound">t</a><a id="26505" class="Symbol">)</a>
    <a id="SystemF.tExtend*"></a><a id="26511" href="blog.Sequent.html#26511" class="Function">tExtend*</a> <a id="26520" class="Symbol">:</a> <a id="26522" class="Symbol">∀{</a><a id="26524" href="blog.Sequent.html#26524" class="Bound">Γ</a> <a id="26526" href="blog.Sequent.html#26526" class="Bound">Δ</a><a id="26527" class="Symbol">}</a>           <a id="26539" class="Symbol">-&gt;</a> <a id="26542" href="blog.Sequent.html#26147" class="Function">tRenaming</a> <a id="26552" href="blog.Sequent.html#26524" class="Bound">Γ</a> <a id="26554" href="blog.Sequent.html#26526" class="Bound">Δ</a>       <a id="26562" class="Symbol">-&gt;</a> <a id="26565" href="blog.Sequent.html#26147" class="Function">tRenaming</a> <a id="26575" class="Symbol">(</a><a id="26576" href="blog.Sequent.html#26524" class="Bound">Γ</a> <a id="26578" href="blog.Sequent.html#24063" class="InductiveConstructor Operator">,*</a><a id="26580" class="Symbol">)</a>  <a id="26583" class="Symbol">(</a><a id="26584" href="blog.Sequent.html#26526" class="Bound">Δ</a> <a id="26586" href="blog.Sequent.html#24063" class="InductiveConstructor Operator">,*</a><a id="26588" class="Symbol">)</a>

    <a id="26595" class="Comment">-- Context extension for types</a>
    <a id="SystemF.tShift"></a><a id="26630" href="blog.Sequent.html#26630" class="Function">tShift</a>  <a id="26638" class="Symbol">:</a> <a id="26640" class="Symbol">∀{</a><a id="26642" href="blog.Sequent.html#26642" class="Bound">Γ</a><a id="26643" class="Symbol">}</a> <a id="26645" class="Symbol">{</a><a id="26646" href="blog.Sequent.html#26646" class="Bound">t</a> <a id="26648" class="Symbol">:</a> <a id="26650" href="blog.Sequent.html#26642" class="Bound">Γ</a> <a id="26652" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a><a id="26654" class="Symbol">}</a> <a id="26656" class="Symbol">-&gt;</a> <a id="26659" href="blog.Sequent.html#26642" class="Bound">Γ</a> <a id="26661" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a> <a id="26664" class="Symbol">-&gt;</a> <a id="26667" href="blog.Sequent.html#26642" class="Bound">Γ</a> <a id="26669" href="blog.Sequent.html#23990" class="InductiveConstructor Operator">,</a> <a id="26671" href="blog.Sequent.html#26646" class="Bound">t</a> <a id="26673" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a>
    <a id="SystemF.tShift*"></a><a id="26680" href="blog.Sequent.html#26680" class="Function">tShift*</a> <a id="26688" class="Symbol">:</a> <a id="26690" class="Symbol">∀{</a><a id="26692" href="blog.Sequent.html#26692" class="Bound">Γ</a><a id="26693" class="Symbol">}</a>            <a id="26706" class="Symbol">-&gt;</a> <a id="26709" href="blog.Sequent.html#26692" class="Bound">Γ</a> <a id="26711" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a> <a id="26714" class="Symbol">-&gt;</a> <a id="26717" href="blog.Sequent.html#26692" class="Bound">Γ</a> <a id="26719" href="blog.Sequent.html#24063" class="InductiveConstructor Operator">,*</a>  <a id="26723" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a>

    
    <a id="26736" href="blog.Sequent.html#26326" class="Function">tRename</a> <a id="26744" href="blog.Sequent.html#26744" class="Bound">r</a> <a id="26746" class="Symbol">(</a><a id="26747" href="blog.Sequent.html#25149" class="InductiveConstructor">var</a> <a id="26751" href="blog.Sequent.html#26751" class="Bound">x</a><a id="26752" class="Symbol">)</a> <a id="26754" class="Symbol">=</a> <a id="26756" href="blog.Sequent.html#25149" class="InductiveConstructor">var</a> <a id="26760" class="Symbol">(</a><a id="26761" href="blog.Sequent.html#26744" class="Bound">r</a> <a id="26763" href="blog.Sequent.html#26751" class="Bound">x</a><a id="26764" class="Symbol">)</a>
    <a id="26770" href="blog.Sequent.html#26326" class="Function">tRename</a> <a id="26778" href="blog.Sequent.html#26778" class="Bound">r</a> <a id="26780" href="blog.Sequent.html#24752" class="InductiveConstructor">⊤</a> <a id="26782" class="Symbol">=</a> <a id="26784" href="blog.Sequent.html#24752" class="InductiveConstructor">⊤</a>
    <a id="26790" href="blog.Sequent.html#26326" class="Function">tRename</a> <a id="26798" href="blog.Sequent.html#26798" class="Bound">r</a> <a id="26800" href="blog.Sequent.html#24775" class="InductiveConstructor">⊥</a> <a id="26802" class="Symbol">=</a> <a id="26804" href="blog.Sequent.html#24775" class="InductiveConstructor">⊥</a>
    <a id="26810" href="blog.Sequent.html#26326" class="Function">tRename</a> <a id="26818" href="blog.Sequent.html#26818" class="Bound">r</a> <a id="26820" class="Symbol">(</a><a id="26821" href="blog.Sequent.html#26821" class="Bound">t1</a> <a id="26824" href="blog.Sequent.html#24799" class="InductiveConstructor Operator">×</a> <a id="26826" href="blog.Sequent.html#26826" class="Bound">t2</a><a id="26828" class="Symbol">)</a> <a id="26830" class="Symbol">=</a> <a id="26832" href="blog.Sequent.html#26326" class="Function">tRename</a> <a id="26840" href="blog.Sequent.html#26818" class="Bound">r</a> <a id="26842" href="blog.Sequent.html#26821" class="Bound">t1</a> <a id="26845" href="blog.Sequent.html#24799" class="InductiveConstructor Operator">×</a> <a id="26847" href="blog.Sequent.html#26326" class="Function">tRename</a> <a id="26855" href="blog.Sequent.html#26818" class="Bound">r</a> <a id="26857" href="blog.Sequent.html#26826" class="Bound">t2</a>
    <a id="26864" href="blog.Sequent.html#26326" class="Function">tRename</a> <a id="26872" href="blog.Sequent.html#26872" class="Bound">r</a> <a id="26874" class="Symbol">(</a><a id="26875" href="blog.Sequent.html#26875" class="Bound">t1</a> <a id="26878" href="blog.Sequent.html#24855" class="InductiveConstructor Operator">+</a> <a id="26880" href="blog.Sequent.html#26880" class="Bound">t2</a><a id="26882" class="Symbol">)</a> <a id="26884" class="Symbol">=</a> <a id="26886" href="blog.Sequent.html#26326" class="Function">tRename</a> <a id="26894" href="blog.Sequent.html#26872" class="Bound">r</a> <a id="26896" href="blog.Sequent.html#26875" class="Bound">t1</a> <a id="26899" href="blog.Sequent.html#24855" class="InductiveConstructor Operator">+</a> <a id="26901" href="blog.Sequent.html#26326" class="Function">tRename</a> <a id="26909" href="blog.Sequent.html#26872" class="Bound">r</a> <a id="26911" href="blog.Sequent.html#26880" class="Bound">t2</a>
    <a id="26918" href="blog.Sequent.html#26326" class="Function">tRename</a> <a id="26926" href="blog.Sequent.html#26926" class="Bound">r</a> <a id="26928" class="Symbol">(</a><a id="26929" href="blog.Sequent.html#26929" class="Bound">t1</a> <a id="26932" href="blog.Sequent.html#24911" class="InductiveConstructor Operator">=&gt;</a> <a id="26935" href="blog.Sequent.html#26935" class="Bound">t2</a><a id="26937" class="Symbol">)</a> <a id="26939" class="Symbol">=</a> <a id="26941" href="blog.Sequent.html#26326" class="Function">tRename</a> <a id="26949" href="blog.Sequent.html#26926" class="Bound">r</a> <a id="26951" href="blog.Sequent.html#26929" class="Bound">t1</a> <a id="26954" href="blog.Sequent.html#24911" class="InductiveConstructor Operator">=&gt;</a> <a id="26957" href="blog.Sequent.html#26326" class="Function">tRename</a> <a id="26965" href="blog.Sequent.html#26926" class="Bound">r</a> <a id="26967" href="blog.Sequent.html#26935" class="Bound">t2</a>
    <a id="26974" href="blog.Sequent.html#26326" class="Function">tRename</a> <a id="26982" href="blog.Sequent.html#26982" class="Bound">r</a> <a id="26984" class="Symbol">(</a><a id="26985" href="blog.Sequent.html#25392" class="InductiveConstructor">∀&#39;</a> <a id="26988" href="blog.Sequent.html#26988" class="Bound">t</a><a id="26989" class="Symbol">)</a> <a id="26991" class="Symbol">=</a> <a id="26993" href="blog.Sequent.html#25392" class="InductiveConstructor">∀&#39;</a> <a id="26996" class="Symbol">(</a><a id="26997" href="blog.Sequent.html#26326" class="Function">tRename</a> <a id="27005" class="Symbol">(</a><a id="27006" href="blog.Sequent.html#26511" class="Function">tExtend*</a> <a id="27015" href="blog.Sequent.html#26982" class="Bound">r</a><a id="27016" class="Symbol">)</a> <a id="27018" href="blog.Sequent.html#26988" class="Bound">t</a><a id="27019" class="Symbol">)</a>

    <a id="27026" href="blog.Sequent.html#26417" class="Function">tExtend</a> <a id="27034" href="blog.Sequent.html#27034" class="Bound">r</a> <a id="27036" class="Symbol">(</a><a id="27037" href="blog.Sequent.html#24453" class="InductiveConstructor">skip</a> <a id="27042" href="blog.Sequent.html#27042" class="Bound">t</a><a id="27043" class="Symbol">)</a> <a id="27045" class="Symbol">=</a> <a id="27047" href="blog.Sequent.html#24453" class="InductiveConstructor">skip</a> <a id="27052" class="Symbol">(</a><a id="27053" href="blog.Sequent.html#27034" class="Bound">r</a> <a id="27055" href="blog.Sequent.html#27042" class="Bound">t</a><a id="27056" class="Symbol">)</a>

    <a id="27063" href="blog.Sequent.html#26511" class="Function">tExtend*</a> <a id="27072" href="blog.Sequent.html#27072" class="Bound">r</a> <a id="27074" href="blog.Sequent.html#24386" class="InductiveConstructor">here</a> <a id="27079" class="Symbol">=</a> <a id="27081" href="blog.Sequent.html#24386" class="InductiveConstructor">here</a>
    <a id="27090" href="blog.Sequent.html#26511" class="Function">tExtend*</a> <a id="27099" href="blog.Sequent.html#27099" class="Bound">r</a> <a id="27101" class="Symbol">(</a><a id="27102" href="blog.Sequent.html#24415" class="InductiveConstructor">there</a> <a id="27108" href="blog.Sequent.html#27108" class="Bound">t</a><a id="27109" class="Symbol">)</a> <a id="27111" class="Symbol">=</a> <a id="27113" href="blog.Sequent.html#24415" class="InductiveConstructor">there</a> <a id="27119" class="Symbol">(</a><a id="27120" href="blog.Sequent.html#27099" class="Bound">r</a> <a id="27122" href="blog.Sequent.html#27108" class="Bound">t</a><a id="27123" class="Symbol">)</a>

    <a id="27130" href="blog.Sequent.html#26630" class="Function">tShift</a> <a id="27137" class="Symbol">=</a> <a id="27139" href="blog.Sequent.html#26326" class="Function">tRename</a> <a id="27147" href="blog.Sequent.html#24453" class="InductiveConstructor">skip</a>
    <a id="27156" href="blog.Sequent.html#26680" class="Function">tShift*</a> <a id="27164" class="Symbol">=</a> <a id="27166" href="blog.Sequent.html#26326" class="Function">tRename</a> <a id="27174" href="blog.Sequent.html#24415" class="InductiveConstructor">there</a>

    <a id="27185" class="Comment">-- Substitutions for types</a>

    <a id="27217" class="Comment">-- Substitution extension for types</a>
    <a id="SystemF.subExtend*"></a><a id="27257" href="blog.Sequent.html#27257" class="Function">subExtend*</a> <a id="27268" class="Symbol">:</a> <a id="27270" class="Symbol">∀{</a><a id="27272" href="blog.Sequent.html#27272" class="Bound">Γ</a> <a id="27274" href="blog.Sequent.html#27274" class="Bound">Δ</a><a id="27275" class="Symbol">}</a> <a id="27277" class="Symbol">-&gt;</a> <a id="27280" href="blog.Sequent.html#26215" class="Function">tSubstitution</a> <a id="27294" href="blog.Sequent.html#27272" class="Bound">Γ</a> <a id="27296" href="blog.Sequent.html#27274" class="Bound">Δ</a> <a id="27298" class="Symbol">-&gt;</a> <a id="27301" href="blog.Sequent.html#26215" class="Function">tSubstitution</a> <a id="27315" class="Symbol">(</a><a id="27316" href="blog.Sequent.html#27272" class="Bound">Γ</a> <a id="27318" href="blog.Sequent.html#24063" class="InductiveConstructor Operator">,*</a><a id="27320" class="Symbol">)</a> <a id="27322" class="Symbol">(</a><a id="27323" href="blog.Sequent.html#27274" class="Bound">Δ</a> <a id="27325" href="blog.Sequent.html#24063" class="InductiveConstructor Operator">,*</a><a id="27327" class="Symbol">)</a>
    <a id="27333" href="blog.Sequent.html#27257" class="Function">subExtend*</a> <a id="27344" href="blog.Sequent.html#27344" class="Bound">σ</a> <a id="27346" href="blog.Sequent.html#24386" class="InductiveConstructor">here</a> <a id="27351" class="Symbol">=</a> <a id="27353" href="blog.Sequent.html#25149" class="InductiveConstructor">var</a> <a id="27357" href="blog.Sequent.html#24386" class="InductiveConstructor">here</a>
    <a id="27366" href="blog.Sequent.html#27257" class="Function">subExtend*</a> <a id="27377" href="blog.Sequent.html#27377" class="Bound">σ</a> <a id="27379" class="Symbol">(</a><a id="27380" href="blog.Sequent.html#24415" class="InductiveConstructor">there</a> <a id="27386" href="blog.Sequent.html#27386" class="Bound">t</a><a id="27387" class="Symbol">)</a> <a id="27389" class="Symbol">=</a> <a id="27391" href="blog.Sequent.html#26326" class="Function">tRename</a> <a id="27399" href="blog.Sequent.html#24415" class="InductiveConstructor">there</a> <a id="27405" class="Symbol">(</a><a id="27406" href="blog.Sequent.html#27377" class="Bound">σ</a> <a id="27408" href="blog.Sequent.html#27386" class="Bound">t</a><a id="27409" class="Symbol">)</a>

    <a id="27416" class="Comment">-- Simultaneous substitution</a>
    <a id="SystemF.tSub"></a><a id="27449" href="blog.Sequent.html#27449" class="Function">tSub</a> <a id="27454" class="Symbol">:</a> <a id="27456" class="Symbol">∀{</a><a id="27458" href="blog.Sequent.html#27458" class="Bound">Γ</a> <a id="27460" href="blog.Sequent.html#27460" class="Bound">Δ</a><a id="27461" class="Symbol">}</a> <a id="27463" class="Symbol">-&gt;</a> <a id="27466" href="blog.Sequent.html#26215" class="Function">tSubstitution</a> <a id="27480" href="blog.Sequent.html#27458" class="Bound">Γ</a> <a id="27482" href="blog.Sequent.html#27460" class="Bound">Δ</a> <a id="27484" class="Symbol">-&gt;</a> <a id="27487" href="blog.Sequent.html#27458" class="Bound">Γ</a> <a id="27489" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a> <a id="27492" class="Symbol">-&gt;</a> <a id="27495" href="blog.Sequent.html#27460" class="Bound">Δ</a> <a id="27497" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a>
    <a id="27504" href="blog.Sequent.html#27449" class="Function">tSub</a> <a id="27509" href="blog.Sequent.html#27509" class="Bound">σ</a> <a id="27511" class="Symbol">(</a><a id="27512" href="blog.Sequent.html#25149" class="InductiveConstructor">var</a> <a id="27516" href="blog.Sequent.html#27516" class="Bound">x</a><a id="27517" class="Symbol">)</a> <a id="27519" class="Symbol">=</a> <a id="27521" href="blog.Sequent.html#27509" class="Bound">σ</a> <a id="27523" href="blog.Sequent.html#27516" class="Bound">x</a>
    <a id="27529" href="blog.Sequent.html#27449" class="Function">tSub</a> <a id="27534" href="blog.Sequent.html#27534" class="Bound">σ</a> <a id="27536" href="blog.Sequent.html#24752" class="InductiveConstructor">⊤</a> <a id="27538" class="Symbol">=</a> <a id="27540" href="blog.Sequent.html#24752" class="InductiveConstructor">⊤</a>
    <a id="27546" href="blog.Sequent.html#27449" class="Function">tSub</a> <a id="27551" href="blog.Sequent.html#27551" class="Bound">σ</a> <a id="27553" href="blog.Sequent.html#24775" class="InductiveConstructor">⊥</a> <a id="27555" class="Symbol">=</a> <a id="27557" href="blog.Sequent.html#24775" class="InductiveConstructor">⊥</a>
    <a id="27563" href="blog.Sequent.html#27449" class="Function">tSub</a> <a id="27568" href="blog.Sequent.html#27568" class="Bound">σ</a> <a id="27570" class="Symbol">(</a><a id="27571" href="blog.Sequent.html#27571" class="Bound">t1</a> <a id="27574" href="blog.Sequent.html#24799" class="InductiveConstructor Operator">×</a> <a id="27576" href="blog.Sequent.html#27576" class="Bound">t2</a><a id="27578" class="Symbol">)</a> <a id="27580" class="Symbol">=</a> <a id="27582" href="blog.Sequent.html#27449" class="Function">tSub</a> <a id="27587" href="blog.Sequent.html#27568" class="Bound">σ</a> <a id="27589" href="blog.Sequent.html#27571" class="Bound">t1</a> <a id="27592" href="blog.Sequent.html#24799" class="InductiveConstructor Operator">×</a> <a id="27594" href="blog.Sequent.html#27449" class="Function">tSub</a> <a id="27599" href="blog.Sequent.html#27568" class="Bound">σ</a> <a id="27601" href="blog.Sequent.html#27576" class="Bound">t2</a>
    <a id="27608" href="blog.Sequent.html#27449" class="Function">tSub</a> <a id="27613" href="blog.Sequent.html#27613" class="Bound">σ</a> <a id="27615" class="Symbol">(</a><a id="27616" href="blog.Sequent.html#27616" class="Bound">t1</a> <a id="27619" href="blog.Sequent.html#24855" class="InductiveConstructor Operator">+</a> <a id="27621" href="blog.Sequent.html#27621" class="Bound">t2</a><a id="27623" class="Symbol">)</a> <a id="27625" class="Symbol">=</a> <a id="27627" href="blog.Sequent.html#27449" class="Function">tSub</a> <a id="27632" href="blog.Sequent.html#27613" class="Bound">σ</a> <a id="27634" href="blog.Sequent.html#27616" class="Bound">t1</a> <a id="27637" href="blog.Sequent.html#24855" class="InductiveConstructor Operator">+</a> <a id="27639" href="blog.Sequent.html#27449" class="Function">tSub</a> <a id="27644" href="blog.Sequent.html#27613" class="Bound">σ</a> <a id="27646" href="blog.Sequent.html#27621" class="Bound">t2</a>
    <a id="27653" href="blog.Sequent.html#27449" class="Function">tSub</a> <a id="27658" href="blog.Sequent.html#27658" class="Bound">σ</a> <a id="27660" class="Symbol">(</a><a id="27661" href="blog.Sequent.html#27661" class="Bound">t1</a> <a id="27664" href="blog.Sequent.html#24911" class="InductiveConstructor Operator">=&gt;</a> <a id="27667" href="blog.Sequent.html#27667" class="Bound">t2</a><a id="27669" class="Symbol">)</a> <a id="27671" class="Symbol">=</a> <a id="27673" href="blog.Sequent.html#27449" class="Function">tSub</a> <a id="27678" href="blog.Sequent.html#27658" class="Bound">σ</a> <a id="27680" href="blog.Sequent.html#27661" class="Bound">t1</a> <a id="27683" href="blog.Sequent.html#24911" class="InductiveConstructor Operator">=&gt;</a> <a id="27686" href="blog.Sequent.html#27449" class="Function">tSub</a> <a id="27691" href="blog.Sequent.html#27658" class="Bound">σ</a> <a id="27693" href="blog.Sequent.html#27667" class="Bound">t2</a>
    <a id="27700" href="blog.Sequent.html#27449" class="Function">tSub</a> <a id="27705" href="blog.Sequent.html#27705" class="Bound">σ</a> <a id="27707" class="Symbol">(</a><a id="27708" href="blog.Sequent.html#25392" class="InductiveConstructor">∀&#39;</a> <a id="27711" href="blog.Sequent.html#27711" class="Bound">t</a><a id="27712" class="Symbol">)</a> <a id="27714" class="Symbol">=</a> <a id="27716" href="blog.Sequent.html#25392" class="InductiveConstructor">∀&#39;</a> <a id="27719" class="Symbol">(</a><a id="27720" href="blog.Sequent.html#27449" class="Function">tSub</a> <a id="27725" class="Symbol">(</a><a id="27726" href="blog.Sequent.html#27257" class="Function">subExtend*</a> <a id="27737" href="blog.Sequent.html#27705" class="Bound">σ</a><a id="27738" class="Symbol">)</a> <a id="27740" href="blog.Sequent.html#27711" class="Bound">t</a><a id="27741" class="Symbol">)</a>

    <a id="27748" class="Comment">-- Single variable substitution</a>
    <a id="SystemF._[_]t"></a><a id="27784" href="blog.Sequent.html#27784" class="Function Operator">_[_]t</a> <a id="27790" class="Symbol">:</a> <a id="27792" class="Symbol">∀{</a><a id="27794" href="blog.Sequent.html#27794" class="Bound">Γ</a><a id="27795" class="Symbol">}</a> <a id="27797" class="Symbol">-&gt;</a> <a id="27800" href="blog.Sequent.html#27794" class="Bound">Γ</a> <a id="27802" href="blog.Sequent.html#24063" class="InductiveConstructor Operator">,*</a> <a id="27805" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a> <a id="27808" class="Symbol">-&gt;</a> <a id="27811" href="blog.Sequent.html#27794" class="Bound">Γ</a> <a id="27813" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a> <a id="27816" class="Symbol">-&gt;</a> <a id="27819" href="blog.Sequent.html#27794" class="Bound">Γ</a> <a id="27821" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a>
    <a id="27828" href="blog.Sequent.html#27828" class="Bound">l</a> <a id="27830" href="blog.Sequent.html#27784" class="Function Operator">[</a> <a id="27832" href="blog.Sequent.html#27832" class="Bound">r</a> <a id="27834" href="blog.Sequent.html#27784" class="Function Operator">]t</a> <a id="27837" class="Symbol">=</a> <a id="27839" href="blog.Sequent.html#27449" class="Function">tSub</a> <a id="27844" class="Symbol">(λ</a> <a id="27847" class="Symbol">{</a> <a id="27849" href="blog.Sequent.html#24386" class="InductiveConstructor">here</a> <a id="27854" class="Symbol">→</a> <a id="27856" href="blog.Sequent.html#27832" class="Bound">r</a>
                       <a id="27881" class="Symbol">;</a> <a id="27883" class="Symbol">(</a><a id="27884" href="blog.Sequent.html#24415" class="InductiveConstructor">there</a> <a id="27890" href="blog.Sequent.html#27890" class="Bound">x</a><a id="27891" class="Symbol">)</a> <a id="27893" class="Symbol">→</a> <a id="27895" href="blog.Sequent.html#25149" class="InductiveConstructor">var</a> <a id="27899" href="blog.Sequent.html#27890" class="Bound">x</a><a id="27900" class="Symbol">})</a> <a id="27903" href="blog.Sequent.html#27828" class="Bound">l</a>
</pre>
</div>
</div>

<div id="outline-container-org17d4b9d" class="outline-3">
<h3 id="org17d4b9d"><span class="section-number-3">4.5.</span> Term references</h3>
<div class="outline-text-3" id="text-4-5">
<p>
Just as we had to add one constructor to type references earlier, we will do the
same for term references. Note that we re used the same names as for type
references, except we switched the meanings of <code>there</code> and <code>skip</code>.
</p>

<pre class="Agda">
    <a id="28181" class="Keyword">data</a> <a id="28186" href="blog.Sequent.html#23583" class="Datatype Operator">_∋_</a> <a id="28190" class="Keyword">where</a>
      <a id="SystemF._∋_.here"></a><a id="28202" href="blog.Sequent.html#28202" class="InductiveConstructor">here</a> <a id="28207" class="Symbol">:</a> <a id="28209" class="Symbol">∀{</a><a id="28211" href="blog.Sequent.html#28211" class="Bound">Γ</a> <a id="28213" href="blog.Sequent.html#28213" class="Bound">t</a><a id="28214" class="Symbol">}</a>
        <a id="28224" class="Symbol">-&gt;</a> <a id="28227" href="blog.Sequent.html#28211" class="Bound">Γ</a> <a id="28229" href="blog.Sequent.html#23990" class="InductiveConstructor Operator">,</a> <a id="28231" href="blog.Sequent.html#28213" class="Bound">t</a> <a id="28233" href="blog.Sequent.html#23583" class="Datatype Operator">∋</a> <a id="28235" href="blog.Sequent.html#26630" class="Function">tShift</a> <a id="28242" href="blog.Sequent.html#28213" class="Bound">t</a>
      <a id="SystemF._∋_.there"></a><a id="28250" href="blog.Sequent.html#28250" class="InductiveConstructor">there</a> <a id="28256" class="Symbol">:</a> <a id="28258" class="Symbol">∀{</a><a id="28260" href="blog.Sequent.html#28260" class="Bound">Γ</a> <a id="28262" href="blog.Sequent.html#28262" class="Bound">t1</a> <a id="28265" href="blog.Sequent.html#28265" class="Bound">t2</a><a id="28267" class="Symbol">}</a>
        <a id="28277" class="Symbol">-&gt;</a> <a id="28280" href="blog.Sequent.html#28260" class="Bound">Γ</a> <a id="28282" href="blog.Sequent.html#23583" class="Datatype Operator">∋</a> <a id="28284" href="blog.Sequent.html#28262" class="Bound">t1</a>
        <a id="28295" class="Symbol">-&gt;</a> <a id="28298" href="blog.Sequent.html#28260" class="Bound">Γ</a> <a id="28300" href="blog.Sequent.html#23990" class="InductiveConstructor Operator">,</a> <a id="28302" href="blog.Sequent.html#28265" class="Bound">t2</a> <a id="28305" href="blog.Sequent.html#23583" class="Datatype Operator">∋</a> <a id="28307" href="blog.Sequent.html#26630" class="Function">tShift</a> <a id="28314" href="blog.Sequent.html#28262" class="Bound">t1</a>

      <a id="SystemF._∋_.skip"></a><a id="28324" href="blog.Sequent.html#28324" class="InductiveConstructor">skip</a> <a id="28329" class="Symbol">:</a> <a id="28331" class="Symbol">∀{</a><a id="28333" href="blog.Sequent.html#28333" class="Bound">Γ</a> <a id="28335" href="blog.Sequent.html#28335" class="Bound">t</a><a id="28336" class="Symbol">}</a>
        <a id="28346" class="Symbol">-&gt;</a> <a id="28349" href="blog.Sequent.html#28333" class="Bound">Γ</a> <a id="28351" href="blog.Sequent.html#23583" class="Datatype Operator">∋</a> <a id="28353" href="blog.Sequent.html#28335" class="Bound">t</a>
        <a id="28363" class="Symbol">-&gt;</a> <a id="28366" href="blog.Sequent.html#28333" class="Bound">Γ</a> <a id="28368" href="blog.Sequent.html#24063" class="InductiveConstructor Operator">,*</a> <a id="28371" href="blog.Sequent.html#23583" class="Datatype Operator">∋</a> <a id="28373" href="blog.Sequent.html#26680" class="Function">tShift*</a> <a id="28381" href="blog.Sequent.html#28335" class="Bound">t</a>
</pre>
</div>
</div>

<div id="outline-container-org70d9d4f" class="outline-3">
<h3 id="org70d9d4f"><span class="section-number-3">4.6.</span> Terms</h3>
<div class="outline-text-3" id="text-4-6">
<p>
The definition of old terms are mostly the same as before, except we have to use
a bunch of <code>tShift</code>'s when we want to consider the same type in multple contexts.
</p>

<pre class="Agda">
    <a id="28590" class="Keyword">data</a> <a id="28595" href="blog.Sequent.html#23256" class="Datatype Operator">_⊢_</a> <a id="28599" class="Keyword">where</a>
      <a id="SystemF._⊢_.var"></a><a id="28611" href="blog.Sequent.html#28611" class="InductiveConstructor">var</a> <a id="28615" class="Symbol">:</a> <a id="28617" class="Symbol">∀{</a><a id="28619" href="blog.Sequent.html#28619" class="Bound">Γ</a> <a id="28621" href="blog.Sequent.html#28621" class="Bound">t</a><a id="28622" class="Symbol">}</a>
        <a id="28632" class="Symbol">-&gt;</a> <a id="28635" href="blog.Sequent.html#28619" class="Bound">Γ</a> <a id="28637" href="blog.Sequent.html#23583" class="Datatype Operator">∋</a> <a id="28639" href="blog.Sequent.html#28621" class="Bound">t</a>
        <a id="28649" class="Symbol">-&gt;</a> <a id="28652" href="blog.Sequent.html#28619" class="Bound">Γ</a> <a id="28654" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="28656" href="blog.Sequent.html#28621" class="Bound">t</a>


      <a id="SystemF._⊢_.×-intro"></a><a id="28666" href="blog.Sequent.html#28666" class="InductiveConstructor">×-intro</a> <a id="28674" class="Symbol">:</a> <a id="28676" class="Symbol">∀{</a><a id="28678" href="blog.Sequent.html#28678" class="Bound">Γ</a> <a id="28680" href="blog.Sequent.html#28680" class="Bound">t1</a> <a id="28683" href="blog.Sequent.html#28683" class="Bound">t2</a><a id="28685" class="Symbol">}</a>
        <a id="28695" class="Symbol">-&gt;</a> <a id="28698" href="blog.Sequent.html#28678" class="Bound">Γ</a> <a id="28700" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="28702" href="blog.Sequent.html#28680" class="Bound">t1</a>
        <a id="28713" class="Symbol">-&gt;</a> <a id="28716" href="blog.Sequent.html#28678" class="Bound">Γ</a> <a id="28718" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="28720" href="blog.Sequent.html#28683" class="Bound">t2</a>
        <a id="28731" class="Symbol">-&gt;</a> <a id="28734" href="blog.Sequent.html#28678" class="Bound">Γ</a> <a id="28736" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="28738" href="blog.Sequent.html#28680" class="Bound">t1</a> <a id="28741" href="blog.Sequent.html#24799" class="InductiveConstructor Operator">×</a> <a id="28743" href="blog.Sequent.html#28683" class="Bound">t2</a>

      <a id="SystemF._⊢_.×-elim"></a><a id="28753" href="blog.Sequent.html#28753" class="InductiveConstructor">×-elim</a> <a id="28760" class="Symbol">:</a> <a id="28762" class="Symbol">∀{</a><a id="28764" href="blog.Sequent.html#28764" class="Bound">Γ</a> <a id="28766" href="blog.Sequent.html#28766" class="Bound">t1</a> <a id="28769" href="blog.Sequent.html#28769" class="Bound">t2</a> <a id="28772" href="blog.Sequent.html#28772" class="Bound">t3</a><a id="28774" class="Symbol">}</a>
        <a id="28784" class="Symbol">-&gt;</a> <a id="28787" href="blog.Sequent.html#28764" class="Bound">Γ</a> <a id="28789" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="28791" href="blog.Sequent.html#28766" class="Bound">t1</a> <a id="28794" href="blog.Sequent.html#24799" class="InductiveConstructor Operator">×</a> <a id="28796" href="blog.Sequent.html#28769" class="Bound">t2</a>
        <a id="28807" class="Symbol">-&gt;</a> <a id="28810" href="blog.Sequent.html#28764" class="Bound">Γ</a> <a id="28812" href="blog.Sequent.html#23990" class="InductiveConstructor Operator">,</a> <a id="28814" href="blog.Sequent.html#28766" class="Bound">t1</a> <a id="28817" href="blog.Sequent.html#23990" class="InductiveConstructor Operator">,</a> <a id="28819" href="blog.Sequent.html#26630" class="Function">tShift</a> <a id="28826" href="blog.Sequent.html#28769" class="Bound">t2</a> <a id="28829" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="28831" href="blog.Sequent.html#26630" class="Function">tShift</a> <a id="28838" class="Symbol">(</a><a id="28839" href="blog.Sequent.html#26630" class="Function">tShift</a> <a id="28846" href="blog.Sequent.html#28772" class="Bound">t3</a><a id="28848" class="Symbol">)</a>
        <a id="28858" class="Symbol">-&gt;</a> <a id="28861" href="blog.Sequent.html#28764" class="Bound">Γ</a> <a id="28863" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="28865" href="blog.Sequent.html#28772" class="Bound">t3</a>


      <a id="SystemF._⊢_.+-intro-left"></a><a id="28876" href="blog.Sequent.html#28876" class="InductiveConstructor">+-intro-left</a> <a id="28889" class="Symbol">:</a> <a id="28891" class="Symbol">∀{</a><a id="28893" href="blog.Sequent.html#28893" class="Bound">Γ</a> <a id="28895" href="blog.Sequent.html#28895" class="Bound">t1</a> <a id="28898" href="blog.Sequent.html#28898" class="Bound">t2</a><a id="28900" class="Symbol">}</a>
        <a id="28910" class="Symbol">-&gt;</a> <a id="28913" href="blog.Sequent.html#28893" class="Bound">Γ</a> <a id="28915" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="28917" href="blog.Sequent.html#28895" class="Bound">t1</a>
        <a id="28928" class="Symbol">-&gt;</a> <a id="28931" href="blog.Sequent.html#28893" class="Bound">Γ</a> <a id="28933" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="28935" href="blog.Sequent.html#28895" class="Bound">t1</a> <a id="28938" href="blog.Sequent.html#24855" class="InductiveConstructor Operator">+</a> <a id="28940" href="blog.Sequent.html#28898" class="Bound">t2</a>

      <a id="SystemF._⊢_.+-intro-right"></a><a id="28950" href="blog.Sequent.html#28950" class="InductiveConstructor">+-intro-right</a> <a id="28964" class="Symbol">:</a> <a id="28966" class="Symbol">∀{</a><a id="28968" href="blog.Sequent.html#28968" class="Bound">Γ</a> <a id="28970" href="blog.Sequent.html#28970" class="Bound">t1</a> <a id="28973" href="blog.Sequent.html#28973" class="Bound">t2</a><a id="28975" class="Symbol">}</a>
        <a id="28985" class="Symbol">-&gt;</a> <a id="28988" href="blog.Sequent.html#28968" class="Bound">Γ</a> <a id="28990" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="28992" href="blog.Sequent.html#28973" class="Bound">t2</a>
        <a id="29003" class="Symbol">-&gt;</a> <a id="29006" href="blog.Sequent.html#28968" class="Bound">Γ</a> <a id="29008" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="29010" href="blog.Sequent.html#28970" class="Bound">t1</a> <a id="29013" href="blog.Sequent.html#24855" class="InductiveConstructor Operator">+</a> <a id="29015" href="blog.Sequent.html#28973" class="Bound">t2</a>

      <a id="SystemF._⊢_.+-elim"></a><a id="29025" href="blog.Sequent.html#29025" class="InductiveConstructor">+-elim</a> <a id="29032" class="Symbol">:</a> <a id="29034" class="Symbol">∀{</a><a id="29036" href="blog.Sequent.html#29036" class="Bound">Γ</a> <a id="29038" href="blog.Sequent.html#29038" class="Bound">t1</a> <a id="29041" href="blog.Sequent.html#29041" class="Bound">t2</a> <a id="29044" href="blog.Sequent.html#29044" class="Bound">t3</a><a id="29046" class="Symbol">}</a>
        <a id="29056" class="Symbol">-&gt;</a> <a id="29059" href="blog.Sequent.html#29036" class="Bound">Γ</a> <a id="29061" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="29063" href="blog.Sequent.html#29038" class="Bound">t1</a> <a id="29066" href="blog.Sequent.html#24855" class="InductiveConstructor Operator">+</a> <a id="29068" href="blog.Sequent.html#29041" class="Bound">t2</a>
        <a id="29079" class="Symbol">-&gt;</a> <a id="29082" href="blog.Sequent.html#29036" class="Bound">Γ</a> <a id="29084" href="blog.Sequent.html#23990" class="InductiveConstructor Operator">,</a> <a id="29086" href="blog.Sequent.html#29038" class="Bound">t1</a> <a id="29089" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="29091" class="Symbol">(</a><a id="29092" href="blog.Sequent.html#26630" class="Function">tShift</a> <a id="29099" href="blog.Sequent.html#29044" class="Bound">t3</a><a id="29101" class="Symbol">)</a>
        <a id="29111" class="Symbol">-&gt;</a> <a id="29114" href="blog.Sequent.html#29036" class="Bound">Γ</a> <a id="29116" href="blog.Sequent.html#23990" class="InductiveConstructor Operator">,</a> <a id="29118" href="blog.Sequent.html#29041" class="Bound">t2</a> <a id="29121" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="29123" class="Symbol">(</a><a id="29124" href="blog.Sequent.html#26630" class="Function">tShift</a> <a id="29131" href="blog.Sequent.html#29044" class="Bound">t3</a><a id="29133" class="Symbol">)</a>
        <a id="29143" class="Symbol">-&gt;</a> <a id="29146" href="blog.Sequent.html#29036" class="Bound">Γ</a> <a id="29148" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="29150" href="blog.Sequent.html#29044" class="Bound">t3</a>


      <a id="SystemF._⊢_.=&gt;-intro"></a><a id="29161" href="blog.Sequent.html#29161" class="InductiveConstructor">=&gt;-intro</a> <a id="29170" class="Symbol">:</a> <a id="29172" class="Symbol">∀{</a><a id="29174" href="blog.Sequent.html#29174" class="Bound">Γ</a> <a id="29176" href="blog.Sequent.html#29176" class="Bound">t1</a> <a id="29179" href="blog.Sequent.html#29179" class="Bound">t2</a><a id="29181" class="Symbol">}</a>
        <a id="29191" class="Symbol">-&gt;</a> <a id="29194" href="blog.Sequent.html#29174" class="Bound">Γ</a> <a id="29196" href="blog.Sequent.html#23990" class="InductiveConstructor Operator">,</a> <a id="29198" href="blog.Sequent.html#29176" class="Bound">t1</a> <a id="29201" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="29203" class="Symbol">(</a><a id="29204" href="blog.Sequent.html#26630" class="Function">tShift</a> <a id="29211" href="blog.Sequent.html#29179" class="Bound">t2</a><a id="29213" class="Symbol">)</a>
        <a id="29223" class="Symbol">-&gt;</a> <a id="29226" href="blog.Sequent.html#29174" class="Bound">Γ</a> <a id="29228" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="29230" href="blog.Sequent.html#29176" class="Bound">t1</a> <a id="29233" href="blog.Sequent.html#24911" class="InductiveConstructor Operator">=&gt;</a> <a id="29236" href="blog.Sequent.html#29179" class="Bound">t2</a>
      <a id="SystemF._⊢_.=&gt;-elim"></a><a id="29245" href="blog.Sequent.html#29245" class="InductiveConstructor">=&gt;-elim</a> <a id="29253" class="Symbol">:</a> <a id="29255" class="Symbol">∀{</a><a id="29257" href="blog.Sequent.html#29257" class="Bound">Γ</a> <a id="29259" href="blog.Sequent.html#29259" class="Bound">t1</a> <a id="29262" href="blog.Sequent.html#29262" class="Bound">t2</a><a id="29264" class="Symbol">}</a>
        <a id="29274" class="Symbol">-&gt;</a> <a id="29277" href="blog.Sequent.html#29257" class="Bound">Γ</a> <a id="29279" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="29281" href="blog.Sequent.html#29259" class="Bound">t1</a> <a id="29284" href="blog.Sequent.html#24911" class="InductiveConstructor Operator">=&gt;</a> <a id="29287" href="blog.Sequent.html#29262" class="Bound">t2</a>
        <a id="29298" class="Symbol">-&gt;</a> <a id="29301" href="blog.Sequent.html#29257" class="Bound">Γ</a> <a id="29303" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="29305" href="blog.Sequent.html#29259" class="Bound">t1</a>
        <a id="29316" class="Symbol">-&gt;</a> <a id="29319" href="blog.Sequent.html#29257" class="Bound">Γ</a> <a id="29321" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="29323" href="blog.Sequent.html#29262" class="Bound">t2</a>
</pre>

<p>
Two new constructors we didn't have before, however, come from the type level
quantification operator for which we add an introduction rule and an elimination
rule. (Respectively denoted by \( \Lambda \alpha. x \) and \( t \cdot \alpha \) in the literature).
</p>

<p>
The \( \forall \)-intro reflects (at the term level) the introduction of a type
variable and \( \forall \)-elim instantiates the polymorphic term with a
specific type.
</p>

<pre class="Agda">
      <a id="SystemF._⊢_.∀-intro"></a><a id="29790" href="blog.Sequent.html#29790" class="InductiveConstructor">∀-intro</a> <a id="29798" class="Symbol">:</a> <a id="29800" class="Symbol">∀{</a><a id="29802" href="blog.Sequent.html#29802" class="Bound">Γ</a> <a id="29804" href="blog.Sequent.html#29804" class="Bound">t</a><a id="29805" class="Symbol">}</a>
        <a id="29815" class="Symbol">-&gt;</a> <a id="29818" href="blog.Sequent.html#29802" class="Bound">Γ</a> <a id="29820" href="blog.Sequent.html#24063" class="InductiveConstructor Operator">,*</a> <a id="29823" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="29825" href="blog.Sequent.html#29804" class="Bound">t</a>
        <a id="29835" class="Symbol">-&gt;</a> <a id="29838" href="blog.Sequent.html#29802" class="Bound">Γ</a> <a id="29840" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="29842" href="blog.Sequent.html#25392" class="InductiveConstructor">∀&#39;</a> <a id="29845" href="blog.Sequent.html#29804" class="Bound">t</a>

      <a id="SystemF._⊢_.∀-elim"></a><a id="29854" href="blog.Sequent.html#29854" class="InductiveConstructor">∀-elim</a> <a id="29861" class="Symbol">:</a> <a id="29863" class="Symbol">∀{</a><a id="29865" href="blog.Sequent.html#29865" class="Bound">Γ</a> <a id="29867" href="blog.Sequent.html#29867" class="Bound">f</a><a id="29868" class="Symbol">}</a>
        <a id="29878" class="Symbol">-&gt;</a> <a id="29881" href="blog.Sequent.html#29865" class="Bound">Γ</a> <a id="29883" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="29885" href="blog.Sequent.html#25392" class="InductiveConstructor">∀&#39;</a> <a id="29888" href="blog.Sequent.html#29867" class="Bound">f</a>
        <a id="29898" class="Symbol">-&gt;</a> <a id="29901" class="Symbol">(</a><a id="29902" href="blog.Sequent.html#29902" class="Bound">x</a> <a id="29904" class="Symbol">:</a> <a id="29906" href="blog.Sequent.html#29865" class="Bound">Γ</a> <a id="29908" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a><a id="29910" class="Symbol">)</a>
        <a id="29920" class="Symbol">-&gt;</a> <a id="29923" href="blog.Sequent.html#29865" class="Bound">Γ</a> <a id="29925" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="29927" class="Symbol">(</a> <a id="29929" href="blog.Sequent.html#29867" class="Bound">f</a> <a id="29931" href="blog.Sequent.html#27784" class="Function Operator">[</a> <a id="29933" href="blog.Sequent.html#29902" class="Bound">x</a> <a id="29935" href="blog.Sequent.html#27784" class="Function Operator">]t</a><a id="29937" class="Symbol">)</a>
</pre>
</div>
</div>

<div id="outline-container-orgbd527aa" class="outline-3">
<h3 id="orgbd527aa"><span class="section-number-3">4.7.</span> Examples</h3>
<div class="outline-text-3" id="text-4-7">
<p>
As promised, we can now represent the polymorphic identity function.
</p>

<pre class="Agda">
  <a id="SystemF.poly-id"></a><a id="30053" href="blog.Sequent.html#30053" class="Function">poly-id</a> <a id="30061" class="Symbol">:</a> <a id="30063" href="blog.Sequent.html#23936" class="InductiveConstructor">●</a> <a id="30065" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="30067" href="blog.Sequent.html#25392" class="InductiveConstructor">∀&#39;</a> <a id="30070" class="Symbol">(</a><a id="30071" href="blog.Sequent.html#25149" class="InductiveConstructor">var</a> <a id="30075" href="blog.Sequent.html#24386" class="InductiveConstructor">here</a> <a id="30080" href="blog.Sequent.html#24911" class="InductiveConstructor Operator">=&gt;</a> <a id="30083" href="blog.Sequent.html#25149" class="InductiveConstructor">var</a> <a id="30087" href="blog.Sequent.html#24386" class="InductiveConstructor">here</a><a id="30091" class="Symbol">)</a>
  <a id="30095" href="blog.Sequent.html#30053" class="Function">poly-id</a> <a id="30103" class="Symbol">=</a> <a id="30105" href="blog.Sequent.html#29790" class="InductiveConstructor">∀-intro</a> <a id="30113" class="Symbol">(</a><a id="30114" href="blog.Sequent.html#29161" class="InductiveConstructor">=&gt;-intro</a> <a id="30123" class="Symbol">(</a><a id="30124" href="blog.Sequent.html#28611" class="InductiveConstructor">var</a> <a id="30128" href="blog.Sequent.html#28202" class="InductiveConstructor">here</a><a id="30132" class="Symbol">))</a>
</pre>


<p>
We can also give a type to church encoded natural numbers.
</p>

<p>
\[ \mathbb{N} \stackrel{\Delta}{=} \forall \alpha. \alpha \Rightarrow (\alpha \Rightarrow \alpha) \Rightarrow \alpha \]
</p>

<p>
Note that I define some special notation for \( \Rightarrow \)-intro/elim and \( \forall
\)-intro/elim to ease readability.
</p>

<pre class="Agda">

  <a id="SystemF.ƛ_"></a><a id="30474" href="blog.Sequent.html#30474" class="Function Operator">ƛ_</a> <a id="30477" class="Symbol">:</a> <a id="30479" class="Symbol">∀{</a><a id="30481" href="blog.Sequent.html#30481" class="Bound">Γ</a> <a id="30483" href="blog.Sequent.html#30483" class="Bound">t1</a> <a id="30486" href="blog.Sequent.html#30486" class="Bound">t2</a><a id="30488" class="Symbol">}</a> <a id="30490" class="Symbol">-&gt;</a> <a id="30493" class="Symbol">_</a>
  <a id="30497" href="blog.Sequent.html#30474" class="Function Operator">ƛ_</a> <a id="30500" class="Symbol">{</a><a id="30501" href="blog.Sequent.html#30501" class="Bound">Γ</a><a id="30502" class="Symbol">}</a> <a id="30504" class="Symbol">{</a><a id="30505" href="blog.Sequent.html#30505" class="Bound">t1</a><a id="30507" class="Symbol">}</a> <a id="30509" class="Symbol">{</a><a id="30510" href="blog.Sequent.html#30510" class="Bound">t2</a><a id="30512" class="Symbol">}</a> <a id="30514" class="Symbol">=</a> <a id="30516" href="blog.Sequent.html#29161" class="InductiveConstructor">=&gt;-intro</a> <a id="30525" class="Symbol">{</a><a id="30526" href="blog.Sequent.html#30501" class="Bound">Γ</a><a id="30527" class="Symbol">}</a> <a id="30529" class="Symbol">{</a><a id="30530" href="blog.Sequent.html#30505" class="Bound">t1</a><a id="30532" class="Symbol">}</a> <a id="30534" class="Symbol">{</a><a id="30535" href="blog.Sequent.html#30510" class="Bound">t2</a><a id="30537" class="Symbol">}</a>

  <a id="SystemF._·_"></a><a id="30542" href="blog.Sequent.html#30542" class="Function Operator">_·_</a> <a id="30546" class="Symbol">:</a> <a id="30548" class="Symbol">∀{</a><a id="30550" href="blog.Sequent.html#30550" class="Bound">Γ</a> <a id="30552" href="blog.Sequent.html#30552" class="Bound">t1</a> <a id="30555" href="blog.Sequent.html#30555" class="Bound">t2</a><a id="30557" class="Symbol">}</a> <a id="30559" class="Symbol">-&gt;</a> <a id="30562" class="Symbol">_</a>
  <a id="30566" href="blog.Sequent.html#30542" class="Function Operator">_·_</a> <a id="30570" class="Symbol">{</a><a id="30571" href="blog.Sequent.html#30571" class="Bound">Γ</a><a id="30572" class="Symbol">}</a> <a id="30574" class="Symbol">{</a><a id="30575" href="blog.Sequent.html#30575" class="Bound">t1</a><a id="30577" class="Symbol">}</a> <a id="30579" class="Symbol">{</a><a id="30580" href="blog.Sequent.html#30580" class="Bound">t2</a><a id="30582" class="Symbol">}</a> <a id="30584" class="Symbol">=</a> <a id="30586" href="blog.Sequent.html#29245" class="InductiveConstructor">=&gt;-elim</a> <a id="30594" class="Symbol">{</a><a id="30595" href="blog.Sequent.html#30571" class="Bound">Γ</a><a id="30596" class="Symbol">}</a> <a id="30598" class="Symbol">{</a><a id="30599" href="blog.Sequent.html#30575" class="Bound">t1</a><a id="30601" class="Symbol">}</a> <a id="30603" class="Symbol">{</a><a id="30604" href="blog.Sequent.html#30580" class="Bound">t2</a><a id="30606" class="Symbol">}</a>

  <a id="SystemF._·ₜ_"></a><a id="30611" href="blog.Sequent.html#30611" class="Function Operator">_·ₜ_</a> <a id="30616" class="Symbol">:</a> <a id="30618" class="Symbol">∀{</a><a id="30620" href="blog.Sequent.html#30620" class="Bound">Γ</a> <a id="30622" href="blog.Sequent.html#30622" class="Bound">f</a><a id="30623" class="Symbol">}</a> <a id="30625" class="Symbol">-&gt;</a> <a id="30628" class="Symbol">_</a>
  <a id="30632" href="blog.Sequent.html#30611" class="Function Operator">_·ₜ_</a> <a id="30637" class="Symbol">{</a><a id="30638" href="blog.Sequent.html#30638" class="Bound">Γ</a><a id="30639" class="Symbol">}</a> <a id="30641" class="Symbol">{</a><a id="30642" href="blog.Sequent.html#30642" class="Bound">f</a><a id="30643" class="Symbol">}</a> <a id="30645" class="Symbol">=</a> <a id="30647" href="blog.Sequent.html#29854" class="InductiveConstructor">∀-elim</a> <a id="30654" class="Symbol">{</a><a id="30655" href="blog.Sequent.html#30638" class="Bound">Γ</a><a id="30656" class="Symbol">}</a> <a id="30658" class="Symbol">{</a><a id="30659" href="blog.Sequent.html#30642" class="Bound">f</a><a id="30660" class="Symbol">}</a>

  <a id="30665" class="Keyword">infixl</a> <a id="30672" class="Number">5</a> <a id="30674" href="blog.Sequent.html#30542" class="Function Operator">_·_</a> <a id="30678" href="blog.Sequent.html#30611" class="Function Operator">_·ₜ_</a>
  <a id="30685" class="Keyword">infix</a> <a id="30691" class="Number">4</a> <a id="30693" href="blog.Sequent.html#30474" class="Function Operator">ƛ_</a>

  <a id="SystemF.church-nat"></a><a id="30699" href="blog.Sequent.html#30699" class="Function">church-nat</a> <a id="30710" class="Symbol">:</a> <a id="30712" class="Symbol">∀{</a><a id="30714" href="blog.Sequent.html#30714" class="Bound">Γ</a><a id="30715" class="Symbol">}</a> <a id="30717" class="Symbol">-&gt;</a> <a id="30720" href="blog.Sequent.html#30714" class="Bound">Γ</a> <a id="30722" href="blog.Sequent.html#23103" class="Datatype Operator">⊢*</a>
  <a id="30727" href="blog.Sequent.html#30699" class="Function">church-nat</a> <a id="30738" class="Symbol">=</a> <a id="30740" href="blog.Sequent.html#25392" class="InductiveConstructor">∀&#39;</a> <a id="30743" class="Symbol">(</a><a id="30744" href="blog.Sequent.html#25149" class="InductiveConstructor">var</a> <a id="30748" href="blog.Sequent.html#24386" class="InductiveConstructor">here</a> <a id="30753" href="blog.Sequent.html#24911" class="InductiveConstructor Operator">=&gt;</a> <a id="30756" class="Symbol">((</a><a id="30758" href="blog.Sequent.html#25149" class="InductiveConstructor">var</a> <a id="30762" href="blog.Sequent.html#24386" class="InductiveConstructor">here</a><a id="30766" class="Symbol">)</a> <a id="30768" href="blog.Sequent.html#24911" class="InductiveConstructor Operator">=&gt;</a> <a id="30771" class="Symbol">(</a><a id="30772" href="blog.Sequent.html#25149" class="InductiveConstructor">var</a> <a id="30776" href="blog.Sequent.html#24386" class="InductiveConstructor">here</a><a id="30780" class="Symbol">))</a> <a id="30783" href="blog.Sequent.html#24911" class="InductiveConstructor Operator">=&gt;</a> <a id="30786" href="blog.Sequent.html#25149" class="InductiveConstructor">var</a> <a id="30790" href="blog.Sequent.html#24386" class="InductiveConstructor">here</a><a id="30794" class="Symbol">)</a>

  <a id="SystemF.two"></a><a id="30799" href="blog.Sequent.html#30799" class="Function">two</a> <a id="30803" class="Symbol">:</a> <a id="30805" class="Symbol">∀{</a><a id="30807" href="blog.Sequent.html#30807" class="Bound">Γ</a><a id="30808" class="Symbol">}</a> <a id="30810" class="Symbol">-&gt;</a> <a id="30813" href="blog.Sequent.html#30807" class="Bound">Γ</a> <a id="30815" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="30817" href="blog.Sequent.html#30699" class="Function">church-nat</a>
  <a id="30830" href="blog.Sequent.html#30799" class="Function">two</a> <a id="30834" class="Symbol">=</a> <a id="30836" href="blog.Sequent.html#29790" class="InductiveConstructor">∀-intro</a>
    <a id="30848" class="Symbol">(</a><a id="30849" href="blog.Sequent.html#30474" class="Function Operator">ƛ</a> <a id="30851" href="blog.Sequent.html#30474" class="Function Operator">ƛ</a> <a id="30853" class="Symbol">(</a><a id="30854" href="blog.Sequent.html#28611" class="InductiveConstructor">var</a> <a id="30858" href="blog.Sequent.html#28202" class="InductiveConstructor">here</a><a id="30862" class="Symbol">)</a> <a id="30864" href="blog.Sequent.html#30542" class="Function Operator">·</a> <a id="30866" class="Symbol">((</a><a id="30868" href="blog.Sequent.html#28611" class="InductiveConstructor">var</a> <a id="30872" href="blog.Sequent.html#28202" class="InductiveConstructor">here</a><a id="30876" class="Symbol">)</a> <a id="30878" href="blog.Sequent.html#30542" class="Function Operator">·</a> <a id="30880" class="Symbol">(</a><a id="30881" href="blog.Sequent.html#28611" class="InductiveConstructor">var</a> <a id="30885" class="Symbol">(</a><a id="30886" href="blog.Sequent.html#28250" class="InductiveConstructor">there</a> <a id="30892" href="blog.Sequent.html#28202" class="InductiveConstructor">here</a><a id="30896" class="Symbol">))))</a>

  <a id="SystemF.plus"></a><a id="30904" href="blog.Sequent.html#30904" class="Function">plus</a> <a id="30909" class="Symbol">:</a> <a id="30911" class="Symbol">∀{</a><a id="30913" href="blog.Sequent.html#30913" class="Bound">Γ</a><a id="30914" class="Symbol">}</a> <a id="30916" class="Symbol">-&gt;</a> <a id="30919" href="blog.Sequent.html#30913" class="Bound">Γ</a> <a id="30921" href="blog.Sequent.html#23256" class="Datatype Operator">⊢</a> <a id="30923" class="Symbol">(</a><a id="30924" href="blog.Sequent.html#30699" class="Function">church-nat</a> <a id="30935" href="blog.Sequent.html#24911" class="InductiveConstructor Operator">=&gt;</a> <a id="30938" href="blog.Sequent.html#30699" class="Function">church-nat</a> <a id="30949" href="blog.Sequent.html#24911" class="InductiveConstructor Operator">=&gt;</a> <a id="30952" href="blog.Sequent.html#30699" class="Function">church-nat</a><a id="30962" class="Symbol">)</a>
  <a id="30966" class="Comment">-- λ a b. ∀ α. λ z s. (a α (b α z s) s)</a>
  <a id="31008" href="blog.Sequent.html#30904" class="Function">plus</a> <a id="31013" class="Symbol">=</a>
    <a id="31019" href="blog.Sequent.html#30474" class="Function Operator">ƛ</a> <a id="31021" href="blog.Sequent.html#30474" class="Function Operator">ƛ</a> <a id="31023" href="blog.Sequent.html#29790" class="InductiveConstructor">∀-intro</a>
          <a id="31041" class="Symbol">(</a><a id="31042" href="blog.Sequent.html#30474" class="Function Operator">ƛ</a> <a id="31044" href="blog.Sequent.html#30474" class="Function Operator">ƛ</a>
            <a id="31058" class="Symbol">(</a><a id="31059" href="blog.Sequent.html#28611" class="InductiveConstructor">var</a> <a id="31063" class="Symbol">(</a><a id="31064" href="blog.Sequent.html#28250" class="InductiveConstructor">there</a> <a id="31070" class="Symbol">(</a><a id="31071" href="blog.Sequent.html#28250" class="InductiveConstructor">there</a> <a id="31077" class="Symbol">(</a><a id="31078" href="blog.Sequent.html#28324" class="InductiveConstructor">skip</a> <a id="31083" href="blog.Sequent.html#28202" class="InductiveConstructor">here</a><a id="31087" class="Symbol">))))</a> <a id="31092" href="blog.Sequent.html#30611" class="Function Operator">·ₜ</a>
              <a id="31109" class="Symbol">(</a><a id="31110" href="blog.Sequent.html#25149" class="InductiveConstructor">var</a> <a id="31114" class="Symbol">(</a><a id="31115" href="blog.Sequent.html#24453" class="InductiveConstructor">skip</a> <a id="31120" class="Symbol">(</a><a id="31121" href="blog.Sequent.html#24453" class="InductiveConstructor">skip</a> <a id="31126" href="blog.Sequent.html#24386" class="InductiveConstructor">here</a><a id="31130" class="Symbol">)))</a> <a id="31134" href="blog.Sequent.html#30542" class="Function Operator">·</a>
              <a id="31150" class="Symbol">(</a><a id="31151" href="blog.Sequent.html#28611" class="InductiveConstructor">var</a> <a id="31155" class="Symbol">(</a><a id="31156" href="blog.Sequent.html#28250" class="InductiveConstructor">there</a> <a id="31162" class="Symbol">(</a><a id="31163" href="blog.Sequent.html#28250" class="InductiveConstructor">there</a> <a id="31169" class="Symbol">(</a><a id="31170" href="blog.Sequent.html#28324" class="InductiveConstructor">skip</a> <a id="31175" href="blog.Sequent.html#28202" class="InductiveConstructor">here</a><a id="31179" class="Symbol">)))</a> <a id="31183" href="blog.Sequent.html#30611" class="Function Operator">·ₜ</a>
                <a id="31202" href="blog.Sequent.html#25149" class="InductiveConstructor">var</a> <a id="31206" class="Symbol">(</a><a id="31207" href="blog.Sequent.html#24453" class="InductiveConstructor">skip</a> <a id="31212" class="Symbol">(</a><a id="31213" href="blog.Sequent.html#24453" class="InductiveConstructor">skip</a> <a id="31218" href="blog.Sequent.html#24386" class="InductiveConstructor">here</a><a id="31222" class="Symbol">))</a> <a id="31225" href="blog.Sequent.html#30542" class="Function Operator">·</a>
                <a id="31243" href="blog.Sequent.html#28611" class="InductiveConstructor">var</a> <a id="31247" class="Symbol">(</a><a id="31248" href="blog.Sequent.html#28250" class="InductiveConstructor">there</a> <a id="31254" href="blog.Sequent.html#28202" class="InductiveConstructor">here</a><a id="31258" class="Symbol">)</a> <a id="31260" href="blog.Sequent.html#30542" class="Function Operator">·</a>
                <a id="31278" href="blog.Sequent.html#28611" class="InductiveConstructor">var</a> <a id="31282" href="blog.Sequent.html#28202" class="InductiveConstructor">here</a><a id="31286" class="Symbol">)</a> <a id="31288" href="blog.Sequent.html#30542" class="Function Operator">·</a>
              <a id="31304" href="blog.Sequent.html#28611" class="InductiveConstructor">var</a> <a id="31308" href="blog.Sequent.html#28202" class="InductiveConstructor">here</a><a id="31312" class="Symbol">)</a>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga681226" class="outline-2">
<h2 id="orga681226"><span class="section-number-2">5.</span> System F<sub>ω</sub></h2>
<div class="outline-text-2" id="text-5">
<pre class="Agda">
<a id="31357" class="Keyword">module</a> <a id="SystemFω"></a><a id="31364" href="blog.Sequent.html#31364" class="Module">SystemFω</a> <a id="31373" class="Keyword">where</a>
  <a id="31381" class="Keyword">infix</a> <a id="31387" class="Number">2</a> <a id="31389" href="blog.Sequent.html#32666" class="Datatype Operator">_⊢_</a> <a id="31393" href="blog.Sequent.html#32608" class="Datatype Operator">_⊢ₖ_</a> <a id="31398" href="blog.Sequent.html#32731" class="Datatype Operator">_∋ₖ_</a> <a id="31403" href="blog.Sequent.html#32795" class="Datatype Operator">_∋_</a>
  <a id="31409" class="Keyword">infixl</a> <a id="31416" class="Number">3</a> <a id="31418" href="blog.Sequent.html#33204" class="InductiveConstructor Operator">_,_</a> <a id="31422" href="blog.Sequent.html#33279" class="InductiveConstructor Operator">_,ₖ_</a>
  <a id="31429" class="Keyword">infixr</a> <a id="31436" class="Number">4</a> <a id="31438" href="blog.Sequent.html#32546" class="InductiveConstructor Operator">_=&gt;_</a>
  <a id="31445" class="Keyword">infixr</a> <a id="31452" class="Number">5</a> <a id="31454" href="blog.Sequent.html#34138" class="InductiveConstructor Operator">_+_</a>
  <a id="31460" class="Keyword">infixr</a> <a id="31467" class="Number">6</a> <a id="31469" href="blog.Sequent.html#34076" class="InductiveConstructor Operator">_×_</a>


</pre>

<p>
With System \( F \), we gained the power to internalise functions that work for
every input type (like the polymorphic identity). However, we would also like to
express type functions. To achieve this, a few modifications must be made to
normal System F.
</p>

<ol class="org-ol">
<li>We introduce the concept of a "kind". A kind is like a type for type level
functions. The kind of the \( T \mapsto T \times \mathbb{N} \), for instance,
would be \( * \Rightarrow * \) where \( * \) is the kind of types.</li>
<li>Because we want to refer to type functions, the context should be able to
contain variables of a kind other than \( * \).</li>
</ol>



<pre class="Agda">
  <a id="32122" class="Keyword">interleaved</a> <a id="32134" class="Keyword">mutual</a>
</pre>

<pre class="Agda">
    <a id="32174" class="Keyword">data</a> <a id="SystemFω.Ctx"></a><a id="32179" href="blog.Sequent.html#32179" class="Datatype">Ctx</a> <a id="32183" class="Symbol">:</a> <a id="32185" href="Agda.Primitive.html#388" class="Primitive">Set</a>
</pre>

<p>
The kinding judgment "in context \( \Gamma \) something of kind \( k \)" is a
straightforward expansion of the old <code>_⊢*</code> "in context \( \Gamma \), something of kind
type" judgment. This time, instead of only supporting the kind \( * \), it
supports a type expression of any kind.
</p>

<pre class="Agda">
    <a id="32503" class="Keyword">data</a> <a id="SystemFω.Kind"></a><a id="32508" href="blog.Sequent.html#32508" class="Datatype">Kind</a> <a id="32513" class="Symbol">:</a> <a id="32515" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="32519" class="Keyword">where</a>
      <a id="SystemFω.Kind.*"></a><a id="32531" href="blog.Sequent.html#32531" class="InductiveConstructor">*</a> <a id="32533" class="Symbol">:</a> <a id="32535" href="blog.Sequent.html#32508" class="Datatype">Kind</a>
      <a id="SystemFω.Kind._=&gt;_"></a><a id="32546" href="blog.Sequent.html#32546" class="InductiveConstructor Operator">_=&gt;_</a> <a id="32551" class="Symbol">:</a> <a id="32553" href="blog.Sequent.html#32508" class="Datatype">Kind</a> <a id="32558" class="Symbol">-&gt;</a> <a id="32561" href="blog.Sequent.html#32508" class="Datatype">Kind</a> <a id="32566" class="Symbol">-&gt;</a> <a id="32569" href="blog.Sequent.html#32508" class="Datatype">Kind</a>

    <a id="32579" class="Comment">-- Kinding judgment</a>
    <a id="32603" class="Keyword">data</a> <a id="SystemFω._⊢ₖ_"></a><a id="32608" href="blog.Sequent.html#32608" class="Datatype Operator">_⊢ₖ_</a> <a id="32613" class="Symbol">:</a> <a id="32615" href="blog.Sequent.html#32179" class="Datatype">Ctx</a> <a id="32619" class="Symbol">-&gt;</a> <a id="32622" href="blog.Sequent.html#32508" class="Datatype">Kind</a> <a id="32627" class="Symbol">-&gt;</a> <a id="32630" href="Agda.Primitive.html#388" class="Primitive">Set</a>
    <a id="32638" class="Comment">-- Typing judgment</a>
    <a id="32661" class="Keyword">data</a> <a id="SystemFω._⊢_"></a><a id="32666" href="blog.Sequent.html#32666" class="Datatype Operator">_⊢_</a> <a id="32670" class="Symbol">:</a> <a id="32672" class="Symbol">(</a><a id="32673" href="blog.Sequent.html#32673" class="Bound">Γ</a> <a id="32675" class="Symbol">:</a> <a id="32677" href="blog.Sequent.html#32179" class="Datatype">Ctx</a><a id="32680" class="Symbol">)</a> <a id="32682" class="Symbol">-&gt;</a> <a id="32685" href="blog.Sequent.html#32673" class="Bound">Γ</a> <a id="32687" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="32690" href="blog.Sequent.html#32531" class="InductiveConstructor">*</a> <a id="32692" class="Symbol">-&gt;</a> <a id="32695" href="Agda.Primitive.html#388" class="Primitive">Set</a>
    <a id="32703" class="Comment">-- Kind references</a>
    <a id="32726" class="Keyword">data</a> <a id="SystemFω._∋ₖ_"></a><a id="32731" href="blog.Sequent.html#32731" class="Datatype Operator">_∋ₖ_</a> <a id="32736" class="Symbol">:</a> <a id="32738" class="Symbol">(</a><a id="32739" href="blog.Sequent.html#32739" class="Bound">Γ</a> <a id="32741" class="Symbol">:</a> <a id="32743" href="blog.Sequent.html#32179" class="Datatype">Ctx</a><a id="32746" class="Symbol">)</a> <a id="32748" class="Symbol">-&gt;</a> <a id="32751" href="blog.Sequent.html#32508" class="Datatype">Kind</a> <a id="32756" class="Symbol">-&gt;</a> <a id="32759" href="Agda.Primitive.html#388" class="Primitive">Set</a>
    <a id="32767" class="Comment">-- Term references</a>
    <a id="32790" class="Keyword">data</a> <a id="SystemFω._∋_"></a><a id="32795" href="blog.Sequent.html#32795" class="Datatype Operator">_∋_</a> <a id="32799" class="Symbol">:</a> <a id="32801" class="Symbol">(</a><a id="32802" href="blog.Sequent.html#32802" class="Bound">Γ</a> <a id="32804" class="Symbol">:</a> <a id="32806" href="blog.Sequent.html#32179" class="Datatype">Ctx</a><a id="32809" class="Symbol">)</a> <a id="32811" class="Symbol">-&gt;</a> <a id="32814" href="blog.Sequent.html#32802" class="Bound">Γ</a> <a id="32816" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="32819" href="blog.Sequent.html#32531" class="InductiveConstructor">*</a> <a id="32821" class="Symbol">-&gt;</a> <a id="32824" href="Agda.Primitive.html#388" class="Primitive">Set</a>
</pre>
</div>

<div id="outline-container-org3e7c5f6" class="outline-3">
<h3 id="org3e7c5f6"><span class="section-number-3">5.1.</span> Context</h3>
<div class="outline-text-3" id="text-5-1">
<p>
In the STLC, a context was a list of the term variable's types. Now, it will be
containing two things: the (term level) variable's types (in the polymorphic
identity function, we had \( x : \alpha \)) and the type variables themselves (\(
\alpha : * \)).
</p>

<pre class="Agda">
    <a id="33129" class="Keyword">data</a> <a id="33134" href="blog.Sequent.html#32179" class="Datatype">Ctx</a> <a id="33138" class="Keyword">where</a>
      <a id="SystemFω.Ctx.●"></a><a id="33150" href="blog.Sequent.html#33150" class="InductiveConstructor">●</a> <a id="33152" class="Symbol">:</a> <a id="33154" href="blog.Sequent.html#32179" class="Datatype">Ctx</a>
      <a id="33164" class="Comment">-- Term level variables of type t</a>
      <a id="SystemFω.Ctx._,_"></a><a id="33204" href="blog.Sequent.html#33204" class="InductiveConstructor Operator">_,_</a> <a id="33208" class="Symbol">:</a> <a id="33210" class="Symbol">(</a><a id="33211" href="blog.Sequent.html#33211" class="Bound">Γ</a> <a id="33213" class="Symbol">:</a> <a id="33215" href="blog.Sequent.html#32179" class="Datatype">Ctx</a><a id="33218" class="Symbol">)</a> <a id="33220" class="Symbol">-&gt;</a> <a id="33223" class="Symbol">(</a><a id="33224" href="blog.Sequent.html#33224" class="Bound">t</a> <a id="33226" class="Symbol">:</a> <a id="33228" href="blog.Sequent.html#33211" class="Bound">Γ</a> <a id="33230" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="33233" href="blog.Sequent.html#32531" class="InductiveConstructor">*</a><a id="33234" class="Symbol">)</a> <a id="33236" class="Symbol">-&gt;</a> <a id="33239" href="blog.Sequent.html#32179" class="Datatype">Ctx</a>
      <a id="33249" class="Comment">-- Type level variables</a>
      <a id="SystemFω.Ctx._,ₖ_"></a><a id="33279" href="blog.Sequent.html#33279" class="InductiveConstructor Operator">_,ₖ_</a> <a id="33284" class="Symbol">:</a> <a id="33286" class="Symbol">(</a><a id="33287" href="blog.Sequent.html#33287" class="Bound">Γ</a> <a id="33289" class="Symbol">:</a> <a id="33291" href="blog.Sequent.html#32179" class="Datatype">Ctx</a><a id="33294" class="Symbol">)</a> <a id="33296" class="Symbol">-&gt;</a> <a id="33299" href="blog.Sequent.html#32508" class="Datatype">Kind</a> <a id="33304" class="Symbol">-&gt;</a> <a id="33307" href="blog.Sequent.html#32179" class="Datatype">Ctx</a>
</pre>
</div>
</div>

<div id="outline-container-org18118e7" class="outline-3">
<h3 id="org18118e7"><span class="section-number-3">5.2.</span> Type references</h3>
<div class="outline-text-3" id="text-5-2">
<p>
When a type exists in a context, it may refer to type variables in the context.
Since our context now contains to kinds of variables (type variables and term
variables), we have to account for this by adding a constructor <code>skip</code> .
</p>

<pre class="Agda">
    <a id="33596" class="Keyword">data</a> <a id="33601" class="Symbol">_</a> <a id="33603" class="Keyword">where</a>
      <a id="SystemFω._∋ₖ_.here"></a><a id="33615" href="blog.Sequent.html#33615" class="InductiveConstructor">here</a> <a id="33620" class="Symbol">:</a> <a id="33622" class="Symbol">∀{</a><a id="33624" href="blog.Sequent.html#33624" class="Bound">Γ</a> <a id="33626" href="blog.Sequent.html#33626" class="Bound">k</a><a id="33627" class="Symbol">}</a> <a id="33629" class="Symbol">-&gt;</a> <a id="33632" href="blog.Sequent.html#33624" class="Bound">Γ</a> <a id="33634" href="blog.Sequent.html#33279" class="InductiveConstructor Operator">,ₖ</a> <a id="33637" href="blog.Sequent.html#33626" class="Bound">k</a> <a id="33639" href="blog.Sequent.html#32731" class="Datatype Operator">∋ₖ</a> <a id="33642" href="blog.Sequent.html#33626" class="Bound">k</a>
      <a id="SystemFω._∋ₖ_.skipk"></a><a id="33650" href="blog.Sequent.html#33650" class="InductiveConstructor">skipk</a> <a id="33656" class="Symbol">:</a> <a id="33658" class="Symbol">∀{</a><a id="33660" href="blog.Sequent.html#33660" class="Bound">Γ</a> <a id="33662" href="blog.Sequent.html#33662" class="Bound">k</a> <a id="33664" href="blog.Sequent.html#33664" class="Bound">l</a><a id="33665" class="Symbol">}</a>
        <a id="33675" class="Symbol">-&gt;</a> <a id="33678" href="blog.Sequent.html#33660" class="Bound">Γ</a> <a id="33680" href="blog.Sequent.html#32731" class="Datatype Operator">∋ₖ</a> <a id="33683" href="blog.Sequent.html#33662" class="Bound">k</a>
        <a id="33693" class="Symbol">-&gt;</a> <a id="33696" href="blog.Sequent.html#33660" class="Bound">Γ</a> <a id="33698" href="blog.Sequent.html#33279" class="InductiveConstructor Operator">,ₖ</a> <a id="33701" href="blog.Sequent.html#33664" class="Bound">l</a> <a id="33703" href="blog.Sequent.html#32731" class="Datatype Operator">∋ₖ</a> <a id="33706" href="blog.Sequent.html#33662" class="Bound">k</a>
      <a id="SystemFω._∋ₖ_.skipt"></a><a id="33714" href="blog.Sequent.html#33714" class="InductiveConstructor">skipt</a> <a id="33720" class="Symbol">:</a> <a id="33722" class="Symbol">∀{</a><a id="33724" href="blog.Sequent.html#33724" class="Bound">Γ</a> <a id="33726" href="blog.Sequent.html#33726" class="Bound">k</a> <a id="33728" href="blog.Sequent.html#33728" class="Bound">t</a><a id="33729" class="Symbol">}</a>
        <a id="33739" class="Symbol">-&gt;</a> <a id="33742" href="blog.Sequent.html#33724" class="Bound">Γ</a> <a id="33744" href="blog.Sequent.html#32731" class="Datatype Operator">∋ₖ</a> <a id="33747" href="blog.Sequent.html#33726" class="Bound">k</a>
        <a id="33757" class="Symbol">-&gt;</a> <a id="33760" href="blog.Sequent.html#33724" class="Bound">Γ</a> <a id="33762" href="blog.Sequent.html#33204" class="InductiveConstructor Operator">,</a> <a id="33764" href="blog.Sequent.html#33728" class="Bound">t</a> <a id="33766" href="blog.Sequent.html#32731" class="Datatype Operator">∋ₖ</a> <a id="33769" href="blog.Sequent.html#33726" class="Bound">k</a>
</pre>
</div>
</div>

<div id="outline-container-org72a4447" class="outline-3">
<h3 id="org72a4447"><span class="section-number-3">5.3.</span> Types</h3>
<div class="outline-text-3" id="text-5-3">
<p>
The universe of types is very similar to what we had in the STLC, but this time,
it depends on the context in which the type lives. Most old types that we had in
the STLC, don't change much.
</p>

<pre class="Agda">
    <a id="34006" class="Keyword">data</a> <a id="34011" class="Symbol">_</a> <a id="34013" class="Keyword">where</a>
      <a id="SystemFω._⊢ₖ_.⊤"></a><a id="34025" href="blog.Sequent.html#34025" class="InductiveConstructor">⊤</a> <a id="34027" class="Symbol">:</a> <a id="34029" class="Symbol">∀{</a><a id="34031" href="blog.Sequent.html#34031" class="Bound">Γ</a><a id="34032" class="Symbol">}</a> <a id="34034" class="Symbol">-&gt;</a> <a id="34037" href="blog.Sequent.html#34031" class="Bound">Γ</a> <a id="34039" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="34042" href="blog.Sequent.html#32531" class="InductiveConstructor">*</a>
      <a id="SystemFω._⊢ₖ_.⊥"></a><a id="34050" href="blog.Sequent.html#34050" class="InductiveConstructor">⊥</a> <a id="34052" class="Symbol">:</a> <a id="34054" class="Symbol">∀{</a><a id="34056" href="blog.Sequent.html#34056" class="Bound">Γ</a><a id="34057" class="Symbol">}</a> <a id="34059" class="Symbol">-&gt;</a> <a id="34062" href="blog.Sequent.html#34056" class="Bound">Γ</a> <a id="34064" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="34067" href="blog.Sequent.html#32531" class="InductiveConstructor">*</a>

      <a id="SystemFω._⊢ₖ_._×_"></a><a id="34076" href="blog.Sequent.html#34076" class="InductiveConstructor Operator">_×_</a> <a id="34080" class="Symbol">:</a> <a id="34082" class="Symbol">∀{</a><a id="34084" href="blog.Sequent.html#34084" class="Bound">Γ</a><a id="34085" class="Symbol">}</a> <a id="34087" class="Symbol">(</a><a id="34088" href="blog.Sequent.html#34088" class="Bound">a</a> <a id="34090" class="Symbol">:</a> <a id="34092" href="blog.Sequent.html#34084" class="Bound">Γ</a> <a id="34094" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="34097" href="blog.Sequent.html#32531" class="InductiveConstructor">*</a><a id="34098" class="Symbol">)</a> <a id="34100" class="Symbol">(</a><a id="34101" href="blog.Sequent.html#34101" class="Bound">b</a> <a id="34103" class="Symbol">:</a> <a id="34105" href="blog.Sequent.html#34084" class="Bound">Γ</a> <a id="34107" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="34110" href="blog.Sequent.html#32531" class="InductiveConstructor">*</a><a id="34111" class="Symbol">)</a>
        <a id="34121" class="Symbol">-&gt;</a> <a id="34124" href="blog.Sequent.html#34084" class="Bound">Γ</a> <a id="34126" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="34129" href="blog.Sequent.html#32531" class="InductiveConstructor">*</a>

      <a id="SystemFω._⊢ₖ_._+_"></a><a id="34138" href="blog.Sequent.html#34138" class="InductiveConstructor Operator">_+_</a> <a id="34142" class="Symbol">:</a> <a id="34144" class="Symbol">∀{</a><a id="34146" href="blog.Sequent.html#34146" class="Bound">Γ</a><a id="34147" class="Symbol">}</a> <a id="34149" class="Symbol">(</a><a id="34150" href="blog.Sequent.html#34150" class="Bound">a</a> <a id="34152" class="Symbol">:</a> <a id="34154" href="blog.Sequent.html#34146" class="Bound">Γ</a> <a id="34156" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="34159" href="blog.Sequent.html#32531" class="InductiveConstructor">*</a><a id="34160" class="Symbol">)</a> <a id="34162" class="Symbol">(</a><a id="34163" href="blog.Sequent.html#34163" class="Bound">b</a> <a id="34165" class="Symbol">:</a> <a id="34167" href="blog.Sequent.html#34146" class="Bound">Γ</a> <a id="34169" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="34172" href="blog.Sequent.html#32531" class="InductiveConstructor">*</a><a id="34173" class="Symbol">)</a>
        <a id="34183" class="Symbol">-&gt;</a> <a id="34186" href="blog.Sequent.html#34146" class="Bound">Γ</a> <a id="34188" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="34191" href="blog.Sequent.html#32531" class="InductiveConstructor">*</a>

      <a id="SystemFω._⊢ₖ_._=&gt;_"></a><a id="34200" href="blog.Sequent.html#34200" class="InductiveConstructor Operator">_=&gt;_</a> <a id="34205" class="Symbol">:</a> <a id="34207" class="Symbol">∀{</a><a id="34209" href="blog.Sequent.html#34209" class="Bound">Γ</a><a id="34210" class="Symbol">}</a> <a id="34212" class="Symbol">(</a><a id="34213" href="blog.Sequent.html#34213" class="Bound">a</a> <a id="34215" class="Symbol">:</a> <a id="34217" href="blog.Sequent.html#34209" class="Bound">Γ</a> <a id="34219" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="34222" href="blog.Sequent.html#32531" class="InductiveConstructor">*</a><a id="34223" class="Symbol">)</a> <a id="34225" class="Symbol">(</a><a id="34226" href="blog.Sequent.html#34226" class="Bound">b</a> <a id="34228" class="Symbol">:</a> <a id="34230" href="blog.Sequent.html#34209" class="Bound">Γ</a> <a id="34232" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="34235" href="blog.Sequent.html#32531" class="InductiveConstructor">*</a><a id="34236" class="Symbol">)</a>
        <a id="34246" class="Symbol">-&gt;</a> <a id="34249" href="blog.Sequent.html#34209" class="Bound">Γ</a> <a id="34251" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="34254" href="blog.Sequent.html#32531" class="InductiveConstructor">*</a>

      <a id="SystemFω._⊢ₖ_.var"></a><a id="34263" href="blog.Sequent.html#34263" class="InductiveConstructor">var</a> <a id="34267" class="Symbol">:</a> <a id="34269" class="Symbol">∀{</a><a id="34271" href="blog.Sequent.html#34271" class="Bound">Γ</a> <a id="34273" href="blog.Sequent.html#34273" class="Bound">k</a><a id="34274" class="Symbol">}</a> <a id="34276" class="Symbol">-&gt;</a> <a id="34279" href="blog.Sequent.html#34271" class="Bound">Γ</a> <a id="34281" href="blog.Sequent.html#32731" class="Datatype Operator">∋ₖ</a> <a id="34284" href="blog.Sequent.html#34273" class="Bound">k</a> <a id="34286" class="Symbol">-&gt;</a> <a id="34289" href="blog.Sequent.html#34271" class="Bound">Γ</a> <a id="34291" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="34294" href="blog.Sequent.html#34273" class="Bound">k</a>

      <a id="SystemFω._⊢ₖ_.abs"></a><a id="34303" href="blog.Sequent.html#34303" class="InductiveConstructor">abs</a> <a id="34307" class="Symbol">:</a> <a id="34309" class="Symbol">∀{</a><a id="34311" href="blog.Sequent.html#34311" class="Bound">Γ</a> <a id="34313" href="blog.Sequent.html#34313" class="Bound">k1</a> <a id="34316" href="blog.Sequent.html#34316" class="Bound">k2</a><a id="34318" class="Symbol">}</a>
        <a id="34328" class="Symbol">-&gt;</a> <a id="34331" href="blog.Sequent.html#34311" class="Bound">Γ</a> <a id="34333" href="blog.Sequent.html#33279" class="InductiveConstructor Operator">,ₖ</a> <a id="34336" href="blog.Sequent.html#34313" class="Bound">k1</a> <a id="34339" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="34342" href="blog.Sequent.html#34316" class="Bound">k2</a>
        <a id="34353" class="Symbol">-&gt;</a> <a id="34356" href="blog.Sequent.html#34311" class="Bound">Γ</a> <a id="34358" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="34361" href="blog.Sequent.html#34313" class="Bound">k1</a> <a id="34364" href="blog.Sequent.html#32546" class="InductiveConstructor Operator">=&gt;</a> <a id="34367" href="blog.Sequent.html#34316" class="Bound">k2</a>

      <a id="SystemFω._⊢ₖ_.app"></a><a id="34377" href="blog.Sequent.html#34377" class="InductiveConstructor">app</a> <a id="34381" class="Symbol">:</a> <a id="34383" class="Symbol">∀{</a><a id="34385" href="blog.Sequent.html#34385" class="Bound">Γ</a> <a id="34387" href="blog.Sequent.html#34387" class="Bound">k1</a> <a id="34390" href="blog.Sequent.html#34390" class="Bound">k2</a><a id="34392" class="Symbol">}</a>
        <a id="34402" class="Symbol">-&gt;</a> <a id="34405" href="blog.Sequent.html#34385" class="Bound">Γ</a> <a id="34407" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="34410" href="blog.Sequent.html#34387" class="Bound">k1</a> <a id="34413" href="blog.Sequent.html#32546" class="InductiveConstructor Operator">=&gt;</a> <a id="34416" href="blog.Sequent.html#34390" class="Bound">k2</a>
        <a id="34427" class="Symbol">-&gt;</a> <a id="34430" href="blog.Sequent.html#34385" class="Bound">Γ</a> <a id="34432" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="34435" href="blog.Sequent.html#34387" class="Bound">k1</a>
        <a id="34446" class="Symbol">-&gt;</a> <a id="34449" href="blog.Sequent.html#34385" class="Bound">Γ</a> <a id="34451" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="34454" href="blog.Sequent.html#34390" class="Bound">k2</a>

      <a id="SystemFω._⊢ₖ_.∀&#39;"></a><a id="34464" href="blog.Sequent.html#34464" class="InductiveConstructor">∀&#39;</a> <a id="34467" class="Symbol">:</a> <a id="34469" class="Symbol">∀{</a><a id="34471" href="blog.Sequent.html#34471" class="Bound">Γ</a><a id="34472" class="Symbol">}</a> <a id="34474" class="Symbol">(</a><a id="34475" href="blog.Sequent.html#34475" class="Bound">k</a> <a id="34477" class="Symbol">:</a> <a id="34479" href="blog.Sequent.html#32508" class="Datatype">Kind</a><a id="34483" class="Symbol">)</a>
        <a id="34493" class="Symbol">-&gt;</a> <a id="34496" href="blog.Sequent.html#34471" class="Bound">Γ</a> <a id="34498" href="blog.Sequent.html#33279" class="InductiveConstructor Operator">,ₖ</a> <a id="34501" href="blog.Sequent.html#34475" class="Bound">k</a> <a id="34503" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="34506" href="blog.Sequent.html#32531" class="InductiveConstructor">*</a>
        <a id="34516" class="Symbol">-&gt;</a> <a id="34519" href="blog.Sequent.html#34471" class="Bound">Γ</a> <a id="34521" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="34524" href="blog.Sequent.html#32531" class="InductiveConstructor">*</a>
</pre>

<pre class="Agda">
    <a id="34559" class="Comment">-- Renaming and substitution for types</a>
    <a id="SystemFω.tRenaming"></a><a id="34602" href="blog.Sequent.html#34602" class="Function">tRenaming</a> <a id="34612" class="Symbol">:</a> <a id="34614" href="blog.Sequent.html#32179" class="Datatype">Ctx</a> <a id="34618" class="Symbol">-&gt;</a> <a id="34621" href="blog.Sequent.html#32179" class="Datatype">Ctx</a> <a id="34625" class="Symbol">-&gt;</a> <a id="34628" href="Agda.Primitive.html#388" class="Primitive">Set</a>
    <a id="34636" href="blog.Sequent.html#34602" class="Function">tRenaming</a> <a id="34646" href="blog.Sequent.html#34646" class="Bound">Γ</a> <a id="34648" href="blog.Sequent.html#34648" class="Bound">Δ</a> <a id="34650" class="Symbol">=</a> <a id="34652" class="Symbol">∀{</a><a id="34654" href="blog.Sequent.html#34654" class="Bound">k</a><a id="34655" class="Symbol">}</a> <a id="34657" class="Symbol">-&gt;</a> <a id="34660" href="blog.Sequent.html#34646" class="Bound">Γ</a> <a id="34662" href="blog.Sequent.html#32731" class="Datatype Operator">∋ₖ</a> <a id="34665" href="blog.Sequent.html#34654" class="Bound">k</a> <a id="34667" class="Symbol">-&gt;</a> <a id="34670" href="blog.Sequent.html#34648" class="Bound">Δ</a> <a id="34672" href="blog.Sequent.html#32731" class="Datatype Operator">∋ₖ</a> <a id="34675" href="blog.Sequent.html#34654" class="Bound">k</a>

    <a id="SystemFω.tSubstitution"></a><a id="34682" href="blog.Sequent.html#34682" class="Function">tSubstitution</a> <a id="34696" class="Symbol">:</a> <a id="34698" href="blog.Sequent.html#32179" class="Datatype">Ctx</a> <a id="34702" class="Symbol">-&gt;</a> <a id="34705" href="blog.Sequent.html#32179" class="Datatype">Ctx</a> <a id="34709" class="Symbol">-&gt;</a> <a id="34712" href="Agda.Primitive.html#388" class="Primitive">Set</a>
    <a id="34720" href="blog.Sequent.html#34682" class="Function">tSubstitution</a> <a id="34734" href="blog.Sequent.html#34734" class="Bound">Γ</a> <a id="34736" href="blog.Sequent.html#34736" class="Bound">Δ</a> <a id="34738" class="Symbol">=</a> <a id="34740" class="Symbol">∀{</a><a id="34742" href="blog.Sequent.html#34742" class="Bound">k</a><a id="34743" class="Symbol">}</a> <a id="34745" class="Symbol">-&gt;</a> <a id="34748" href="blog.Sequent.html#34734" class="Bound">Γ</a> <a id="34750" href="blog.Sequent.html#32731" class="Datatype Operator">∋ₖ</a> <a id="34753" href="blog.Sequent.html#34742" class="Bound">k</a> <a id="34755" class="Symbol">-&gt;</a> <a id="34758" href="blog.Sequent.html#34736" class="Bound">Δ</a> <a id="34760" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="34763" href="blog.Sequent.html#34742" class="Bound">k</a>

    <a id="SystemFω.tRename"></a><a id="34770" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="34778" class="Symbol">:</a> <a id="34780" class="Symbol">∀{</a><a id="34782" href="blog.Sequent.html#34782" class="Bound">Γ</a> <a id="34784" href="blog.Sequent.html#34784" class="Bound">Δ</a> <a id="34786" href="blog.Sequent.html#34786" class="Bound">k</a><a id="34787" class="Symbol">}</a> <a id="34789" class="Symbol">-&gt;</a> <a id="34792" href="blog.Sequent.html#34602" class="Function">tRenaming</a> <a id="34802" href="blog.Sequent.html#34782" class="Bound">Γ</a> <a id="34804" href="blog.Sequent.html#34784" class="Bound">Δ</a> <a id="34806" class="Symbol">-&gt;</a> <a id="34809" href="blog.Sequent.html#34782" class="Bound">Γ</a> <a id="34811" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="34814" href="blog.Sequent.html#34786" class="Bound">k</a> <a id="34816" class="Symbol">-&gt;</a> <a id="34819" href="blog.Sequent.html#34784" class="Bound">Δ</a> <a id="34821" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="34824" href="blog.Sequent.html#34786" class="Bound">k</a>
    <a id="34830" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="34838" href="blog.Sequent.html#34838" class="Bound">r</a> <a id="34840" href="blog.Sequent.html#34025" class="InductiveConstructor">⊤</a> <a id="34842" class="Symbol">=</a> <a id="34844" href="blog.Sequent.html#34025" class="InductiveConstructor">⊤</a>
    <a id="34850" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="34858" href="blog.Sequent.html#34858" class="Bound">r</a> <a id="34860" href="blog.Sequent.html#34050" class="InductiveConstructor">⊥</a> <a id="34862" class="Symbol">=</a> <a id="34864" href="blog.Sequent.html#34050" class="InductiveConstructor">⊥</a>
    <a id="34870" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="34878" href="blog.Sequent.html#34878" class="Bound">r</a> <a id="34880" class="Symbol">(</a><a id="34881" href="blog.Sequent.html#34881" class="Bound">t1</a> <a id="34884" href="blog.Sequent.html#34076" class="InductiveConstructor Operator">×</a> <a id="34886" href="blog.Sequent.html#34886" class="Bound">t2</a><a id="34888" class="Symbol">)</a> <a id="34890" class="Symbol">=</a> <a id="34892" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="34900" href="blog.Sequent.html#34878" class="Bound">r</a> <a id="34902" href="blog.Sequent.html#34881" class="Bound">t1</a> <a id="34905" href="blog.Sequent.html#34076" class="InductiveConstructor Operator">×</a> <a id="34907" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="34915" href="blog.Sequent.html#34878" class="Bound">r</a> <a id="34917" href="blog.Sequent.html#34886" class="Bound">t2</a>
    <a id="34924" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="34932" href="blog.Sequent.html#34932" class="Bound">r</a> <a id="34934" class="Symbol">(</a><a id="34935" href="blog.Sequent.html#34935" class="Bound">t1</a> <a id="34938" href="blog.Sequent.html#34138" class="InductiveConstructor Operator">+</a> <a id="34940" href="blog.Sequent.html#34940" class="Bound">t2</a><a id="34942" class="Symbol">)</a> <a id="34944" class="Symbol">=</a> <a id="34946" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="34954" href="blog.Sequent.html#34932" class="Bound">r</a> <a id="34956" href="blog.Sequent.html#34935" class="Bound">t1</a> <a id="34959" href="blog.Sequent.html#34138" class="InductiveConstructor Operator">+</a> <a id="34961" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="34969" href="blog.Sequent.html#34932" class="Bound">r</a> <a id="34971" href="blog.Sequent.html#34940" class="Bound">t2</a>
    <a id="34978" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="34986" href="blog.Sequent.html#34986" class="Bound">r</a> <a id="34988" class="Symbol">(</a><a id="34989" href="blog.Sequent.html#34989" class="Bound">t1</a> <a id="34992" href="blog.Sequent.html#34200" class="InductiveConstructor Operator">=&gt;</a> <a id="34995" href="blog.Sequent.html#34995" class="Bound">t2</a><a id="34997" class="Symbol">)</a> <a id="34999" class="Symbol">=</a> <a id="35001" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="35009" href="blog.Sequent.html#34986" class="Bound">r</a> <a id="35011" href="blog.Sequent.html#34989" class="Bound">t1</a> <a id="35014" href="blog.Sequent.html#34138" class="InductiveConstructor Operator">+</a> <a id="35016" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="35024" href="blog.Sequent.html#34986" class="Bound">r</a> <a id="35026" href="blog.Sequent.html#34995" class="Bound">t2</a>
    <a id="35033" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="35041" href="blog.Sequent.html#35041" class="Bound">r</a> <a id="35043" class="Symbol">(</a><a id="35044" href="blog.Sequent.html#34377" class="InductiveConstructor">app</a> <a id="35048" href="blog.Sequent.html#35048" class="Bound">t1</a> <a id="35051" href="blog.Sequent.html#35051" class="Bound">t2</a><a id="35053" class="Symbol">)</a> <a id="35055" class="Symbol">=</a> <a id="35057" href="blog.Sequent.html#34377" class="InductiveConstructor">app</a> <a id="35061" class="Symbol">(</a><a id="35062" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="35070" href="blog.Sequent.html#35041" class="Bound">r</a> <a id="35072" href="blog.Sequent.html#35048" class="Bound">t1</a><a id="35074" class="Symbol">)</a> <a id="35076" class="Symbol">(</a><a id="35077" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="35085" href="blog.Sequent.html#35041" class="Bound">r</a> <a id="35087" href="blog.Sequent.html#35051" class="Bound">t2</a><a id="35089" class="Symbol">)</a>
    <a id="35095" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="35103" href="blog.Sequent.html#35103" class="Bound">r</a> <a id="35105" class="Symbol">(</a><a id="35106" href="blog.Sequent.html#34263" class="InductiveConstructor">var</a> <a id="35110" href="blog.Sequent.html#35110" class="Bound">x</a><a id="35111" class="Symbol">)</a> <a id="35113" class="Symbol">=</a> <a id="35115" href="blog.Sequent.html#34263" class="InductiveConstructor">var</a> <a id="35119" class="Symbol">(</a><a id="35120" href="blog.Sequent.html#35103" class="Bound">r</a> <a id="35122" href="blog.Sequent.html#35110" class="Bound">x</a><a id="35123" class="Symbol">)</a>
    <a id="35129" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="35137" href="blog.Sequent.html#35137" class="Bound">r</a> <a id="35139" class="Symbol">(</a><a id="35140" href="blog.Sequent.html#34303" class="InductiveConstructor">abs</a> <a id="35144" href="blog.Sequent.html#35144" class="Bound">t</a><a id="35145" class="Symbol">)</a> <a id="35147" class="Symbol">=</a> <a id="35149" href="blog.Sequent.html#34303" class="InductiveConstructor">abs</a> <a id="35153" class="Symbol">(</a><a id="35154" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="35162" class="Symbol">(λ</a> <a id="35165" class="Symbol">{</a> <a id="35167" href="blog.Sequent.html#33615" class="InductiveConstructor">here</a> <a id="35172" class="Symbol">→</a> <a id="35174" href="blog.Sequent.html#33615" class="InductiveConstructor">here</a> <a id="35179" class="Symbol">;</a> <a id="35181" class="Symbol">(</a><a id="35182" href="blog.Sequent.html#33650" class="InductiveConstructor">skipk</a> <a id="35188" href="blog.Sequent.html#35188" class="Bound">x</a><a id="35189" class="Symbol">)</a> <a id="35191" class="Symbol">→</a> <a id="35193" href="blog.Sequent.html#33650" class="InductiveConstructor">skipk</a> <a id="35199" class="Symbol">(</a><a id="35200" href="blog.Sequent.html#35137" class="Bound">r</a> <a id="35202" href="blog.Sequent.html#35188" class="Bound">x</a><a id="35203" class="Symbol">)})</a> <a id="35207" href="blog.Sequent.html#35144" class="Bound">t</a><a id="35208" class="Symbol">)</a>
    <a id="35214" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="35222" href="blog.Sequent.html#35222" class="Bound">r</a> <a id="35224" class="Symbol">(</a><a id="35225" href="blog.Sequent.html#34464" class="InductiveConstructor">∀&#39;</a> <a id="35228" href="blog.Sequent.html#35228" class="Bound">k</a> <a id="35230" href="blog.Sequent.html#35230" class="Bound">x</a><a id="35231" class="Symbol">)</a> <a id="35233" class="Symbol">=</a> <a id="35235" href="blog.Sequent.html#34464" class="InductiveConstructor">∀&#39;</a> <a id="35238" href="blog.Sequent.html#35228" class="Bound">k</a> <a id="35240" class="Symbol">(</a><a id="35241" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="35249" class="Symbol">(λ</a> <a id="35252" class="Symbol">{</a> <a id="35254" href="blog.Sequent.html#33615" class="InductiveConstructor">here</a> <a id="35259" class="Symbol">→</a> <a id="35261" href="blog.Sequent.html#33615" class="InductiveConstructor">here</a> <a id="35266" class="Symbol">;</a> <a id="35268" class="Symbol">(</a><a id="35269" href="blog.Sequent.html#33650" class="InductiveConstructor">skipk</a> <a id="35275" href="blog.Sequent.html#35275" class="Bound">x</a><a id="35276" class="Symbol">)</a> <a id="35278" class="Symbol">→</a> <a id="35280" href="blog.Sequent.html#33650" class="InductiveConstructor">skipk</a> <a id="35286" class="Symbol">(</a><a id="35287" href="blog.Sequent.html#35222" class="Bound">r</a> <a id="35289" href="blog.Sequent.html#35275" class="Bound">x</a><a id="35290" class="Symbol">)})</a> <a id="35294" href="blog.Sequent.html#35230" class="Bound">x</a><a id="35295" class="Symbol">)</a>

    <a id="SystemFω.tSub"></a><a id="35302" href="blog.Sequent.html#35302" class="Function">tSub</a> <a id="35307" class="Symbol">:</a> <a id="35309" class="Symbol">∀{</a><a id="35311" href="blog.Sequent.html#35311" class="Bound">Γ</a> <a id="35313" href="blog.Sequent.html#35313" class="Bound">Δ</a> <a id="35315" href="blog.Sequent.html#35315" class="Bound">k</a><a id="35316" class="Symbol">}</a> <a id="35318" class="Symbol">-&gt;</a> <a id="35321" href="blog.Sequent.html#34682" class="Function">tSubstitution</a> <a id="35335" href="blog.Sequent.html#35311" class="Bound">Γ</a> <a id="35337" href="blog.Sequent.html#35313" class="Bound">Δ</a> <a id="35339" class="Symbol">-&gt;</a> <a id="35342" href="blog.Sequent.html#35311" class="Bound">Γ</a> <a id="35344" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="35347" href="blog.Sequent.html#35315" class="Bound">k</a> <a id="35349" class="Symbol">-&gt;</a> <a id="35352" href="blog.Sequent.html#35313" class="Bound">Δ</a> <a id="35354" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="35357" href="blog.Sequent.html#35315" class="Bound">k</a>
    <a id="35363" href="blog.Sequent.html#35302" class="Function">tSub</a> <a id="35368" href="blog.Sequent.html#35368" class="Bound">σ</a> <a id="35370" href="blog.Sequent.html#34025" class="InductiveConstructor">⊤</a> <a id="35372" class="Symbol">=</a> <a id="35374" href="blog.Sequent.html#34025" class="InductiveConstructor">⊤</a>
    <a id="35380" href="blog.Sequent.html#35302" class="Function">tSub</a> <a id="35385" href="blog.Sequent.html#35385" class="Bound">σ</a> <a id="35387" href="blog.Sequent.html#34050" class="InductiveConstructor">⊥</a> <a id="35389" class="Symbol">=</a> <a id="35391" href="blog.Sequent.html#34050" class="InductiveConstructor">⊥</a>
    <a id="35397" href="blog.Sequent.html#35302" class="Function">tSub</a> <a id="35402" href="blog.Sequent.html#35402" class="Bound">σ</a> <a id="35404" class="Symbol">(</a><a id="35405" href="blog.Sequent.html#35405" class="Bound">t1</a> <a id="35408" href="blog.Sequent.html#34076" class="InductiveConstructor Operator">×</a> <a id="35410" href="blog.Sequent.html#35410" class="Bound">t2</a><a id="35412" class="Symbol">)</a> <a id="35414" class="Symbol">=</a> <a id="35416" href="blog.Sequent.html#35302" class="Function">tSub</a> <a id="35421" href="blog.Sequent.html#35402" class="Bound">σ</a> <a id="35423" href="blog.Sequent.html#35405" class="Bound">t1</a> <a id="35426" href="blog.Sequent.html#34076" class="InductiveConstructor Operator">×</a> <a id="35428" href="blog.Sequent.html#35302" class="Function">tSub</a> <a id="35433" href="blog.Sequent.html#35402" class="Bound">σ</a> <a id="35435" href="blog.Sequent.html#35410" class="Bound">t2</a>
    <a id="35442" href="blog.Sequent.html#35302" class="Function">tSub</a> <a id="35447" href="blog.Sequent.html#35447" class="Bound">σ</a> <a id="35449" class="Symbol">(</a><a id="35450" href="blog.Sequent.html#35450" class="Bound">t1</a> <a id="35453" href="blog.Sequent.html#34138" class="InductiveConstructor Operator">+</a> <a id="35455" href="blog.Sequent.html#35455" class="Bound">t2</a><a id="35457" class="Symbol">)</a> <a id="35459" class="Symbol">=</a> <a id="35461" href="blog.Sequent.html#35302" class="Function">tSub</a> <a id="35466" href="blog.Sequent.html#35447" class="Bound">σ</a> <a id="35468" href="blog.Sequent.html#35450" class="Bound">t1</a> <a id="35471" href="blog.Sequent.html#34138" class="InductiveConstructor Operator">+</a> <a id="35473" href="blog.Sequent.html#35302" class="Function">tSub</a> <a id="35478" href="blog.Sequent.html#35447" class="Bound">σ</a> <a id="35480" href="blog.Sequent.html#35455" class="Bound">t2</a>
    <a id="35487" href="blog.Sequent.html#35302" class="Function">tSub</a> <a id="35492" href="blog.Sequent.html#35492" class="Bound">σ</a> <a id="35494" class="Symbol">(</a><a id="35495" href="blog.Sequent.html#35495" class="Bound">t1</a> <a id="35498" href="blog.Sequent.html#34200" class="InductiveConstructor Operator">=&gt;</a> <a id="35501" href="blog.Sequent.html#35501" class="Bound">t2</a><a id="35503" class="Symbol">)</a> <a id="35505" class="Symbol">=</a> <a id="35507" href="blog.Sequent.html#35302" class="Function">tSub</a> <a id="35512" href="blog.Sequent.html#35492" class="Bound">σ</a> <a id="35514" href="blog.Sequent.html#35495" class="Bound">t1</a> <a id="35517" href="blog.Sequent.html#34200" class="InductiveConstructor Operator">=&gt;</a> <a id="35520" href="blog.Sequent.html#35302" class="Function">tSub</a> <a id="35525" href="blog.Sequent.html#35492" class="Bound">σ</a> <a id="35527" href="blog.Sequent.html#35501" class="Bound">t2</a>
    <a id="35534" href="blog.Sequent.html#35302" class="Function">tSub</a> <a id="35539" href="blog.Sequent.html#35539" class="Bound">σ</a> <a id="35541" class="Symbol">(</a><a id="35542" href="blog.Sequent.html#34377" class="InductiveConstructor">app</a> <a id="35546" href="blog.Sequent.html#35546" class="Bound">t1</a> <a id="35549" href="blog.Sequent.html#35549" class="Bound">t2</a><a id="35551" class="Symbol">)</a> <a id="35553" class="Symbol">=</a> <a id="35555" href="blog.Sequent.html#34377" class="InductiveConstructor">app</a> <a id="35559" class="Symbol">(</a><a id="35560" href="blog.Sequent.html#35302" class="Function">tSub</a> <a id="35565" href="blog.Sequent.html#35539" class="Bound">σ</a> <a id="35567" href="blog.Sequent.html#35546" class="Bound">t1</a><a id="35569" class="Symbol">)</a> <a id="35571" class="Symbol">(</a><a id="35572" href="blog.Sequent.html#35302" class="Function">tSub</a> <a id="35577" href="blog.Sequent.html#35539" class="Bound">σ</a> <a id="35579" href="blog.Sequent.html#35549" class="Bound">t2</a><a id="35581" class="Symbol">)</a>
    <a id="35587" href="blog.Sequent.html#35302" class="Function">tSub</a> <a id="35592" href="blog.Sequent.html#35592" class="Bound">σ</a> <a id="35594" class="Symbol">(</a><a id="35595" href="blog.Sequent.html#34263" class="InductiveConstructor">var</a> <a id="35599" href="blog.Sequent.html#35599" class="Bound">x</a><a id="35600" class="Symbol">)</a> <a id="35602" class="Symbol">=</a> <a id="35604" href="blog.Sequent.html#35592" class="Bound">σ</a> <a id="35606" href="blog.Sequent.html#35599" class="Bound">x</a>
    <a id="35612" href="blog.Sequent.html#35302" class="Function">tSub</a> <a id="35617" href="blog.Sequent.html#35617" class="Bound">σ</a> <a id="35619" class="Symbol">(</a><a id="35620" href="blog.Sequent.html#34303" class="InductiveConstructor">abs</a> <a id="35624" href="blog.Sequent.html#35624" class="Bound">t</a><a id="35625" class="Symbol">)</a> <a id="35627" class="Symbol">=</a> <a id="35629" href="blog.Sequent.html#34303" class="InductiveConstructor">abs</a> <a id="35633" class="Symbol">(</a><a id="35634" href="blog.Sequent.html#35302" class="Function">tSub</a> <a id="35639" class="Symbol">(λ</a> <a id="35642" class="Symbol">{</a> <a id="35644" href="blog.Sequent.html#33615" class="InductiveConstructor">here</a> <a id="35649" class="Symbol">→</a> <a id="35651" href="blog.Sequent.html#34263" class="InductiveConstructor">var</a> <a id="35655" href="blog.Sequent.html#33615" class="InductiveConstructor">here</a> <a id="35660" class="Symbol">;</a> <a id="35662" class="Symbol">(</a><a id="35663" href="blog.Sequent.html#33650" class="InductiveConstructor">skipk</a> <a id="35669" href="blog.Sequent.html#35669" class="Bound">x</a><a id="35670" class="Symbol">)</a> <a id="35672" class="Symbol">→</a> <a id="35674" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="35682" href="blog.Sequent.html#33650" class="InductiveConstructor">skipk</a> <a id="35688" class="Symbol">(</a><a id="35689" href="blog.Sequent.html#35617" class="Bound">σ</a> <a id="35691" href="blog.Sequent.html#35669" class="Bound">x</a><a id="35692" class="Symbol">)})</a> <a id="35696" href="blog.Sequent.html#35624" class="Bound">t</a><a id="35697" class="Symbol">)</a>
    <a id="35703" href="blog.Sequent.html#35302" class="Function">tSub</a> <a id="35708" href="blog.Sequent.html#35708" class="Bound">σ</a> <a id="35710" class="Symbol">(</a><a id="35711" href="blog.Sequent.html#34464" class="InductiveConstructor">∀&#39;</a> <a id="35714" href="blog.Sequent.html#35714" class="Bound">k</a> <a id="35716" href="blog.Sequent.html#35716" class="Bound">t</a><a id="35717" class="Symbol">)</a> <a id="35719" class="Symbol">=</a> <a id="35721" href="blog.Sequent.html#34464" class="InductiveConstructor">∀&#39;</a> <a id="35724" href="blog.Sequent.html#35714" class="Bound">k</a> <a id="35726" class="Symbol">(</a><a id="35727" href="blog.Sequent.html#35302" class="Function">tSub</a> <a id="35732" class="Symbol">(λ</a> <a id="35735" class="Symbol">{</a> <a id="35737" href="blog.Sequent.html#33615" class="InductiveConstructor">here</a> <a id="35742" class="Symbol">→</a> <a id="35744" href="blog.Sequent.html#34263" class="InductiveConstructor">var</a> <a id="35748" href="blog.Sequent.html#33615" class="InductiveConstructor">here</a> <a id="35753" class="Symbol">;</a> <a id="35755" class="Symbol">(</a><a id="35756" href="blog.Sequent.html#33650" class="InductiveConstructor">skipk</a> <a id="35762" href="blog.Sequent.html#35762" class="Bound">x</a><a id="35763" class="Symbol">)</a> <a id="35765" class="Symbol">→</a> <a id="35767" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="35775" href="blog.Sequent.html#33650" class="InductiveConstructor">skipk</a> <a id="35781" class="Symbol">(</a><a id="35782" href="blog.Sequent.html#35708" class="Bound">σ</a> <a id="35784" href="blog.Sequent.html#35762" class="Bound">x</a><a id="35785" class="Symbol">)})</a> <a id="35789" href="blog.Sequent.html#35716" class="Bound">t</a><a id="35790" class="Symbol">)</a>

    <a id="SystemFω._[_]t"></a><a id="35797" href="blog.Sequent.html#35797" class="Function Operator">_[_]t</a> <a id="35803" class="Symbol">:</a> <a id="35805" class="Symbol">∀{</a><a id="35807" href="blog.Sequent.html#35807" class="Bound">Γ</a> <a id="35809" href="blog.Sequent.html#35809" class="Bound">k1</a> <a id="35812" href="blog.Sequent.html#35812" class="Bound">k2</a><a id="35814" class="Symbol">}</a> <a id="35816" class="Symbol">-&gt;</a> <a id="35819" href="blog.Sequent.html#35807" class="Bound">Γ</a> <a id="35821" href="blog.Sequent.html#33279" class="InductiveConstructor Operator">,ₖ</a> <a id="35824" href="blog.Sequent.html#35809" class="Bound">k1</a> <a id="35827" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="35830" href="blog.Sequent.html#35812" class="Bound">k2</a> <a id="35833" class="Symbol">-&gt;</a> <a id="35836" href="blog.Sequent.html#35807" class="Bound">Γ</a> <a id="35838" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="35841" href="blog.Sequent.html#35809" class="Bound">k1</a> <a id="35844" class="Symbol">-&gt;</a> <a id="35847" href="blog.Sequent.html#35807" class="Bound">Γ</a> <a id="35849" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="35852" href="blog.Sequent.html#35812" class="Bound">k2</a>
    <a id="35859" href="blog.Sequent.html#35859" class="Bound">l</a> <a id="35861" href="blog.Sequent.html#35797" class="Function Operator">[</a> <a id="35863" href="blog.Sequent.html#35863" class="Bound">r</a> <a id="35865" href="blog.Sequent.html#35797" class="Function Operator">]t</a> <a id="35868" class="Symbol">=</a> <a id="35870" href="blog.Sequent.html#35302" class="Function">tSub</a> <a id="35875" class="Symbol">(λ</a> <a id="35878" class="Symbol">{</a> <a id="35880" href="blog.Sequent.html#33615" class="InductiveConstructor">here</a> <a id="35885" class="Symbol">→</a> <a id="35887" href="blog.Sequent.html#35863" class="Bound">r</a>
                       <a id="35912" class="Symbol">;</a> <a id="35914" class="Symbol">(</a><a id="35915" href="blog.Sequent.html#33650" class="InductiveConstructor">skipk</a> <a id="35921" href="blog.Sequent.html#35921" class="Bound">x</a><a id="35922" class="Symbol">)</a> <a id="35924" class="Symbol">→</a> <a id="35926" href="blog.Sequent.html#34263" class="InductiveConstructor">var</a> <a id="35930" href="blog.Sequent.html#35921" class="Bound">x</a><a id="35931" class="Symbol">})</a> <a id="35934" href="blog.Sequent.html#35859" class="Bound">l</a>
</pre>
</div>
</div>

<div id="outline-container-org987cafb" class="outline-3">
<h3 id="org987cafb"><span class="section-number-3">5.4.</span> Term references</h3>
<div class="outline-text-3" id="text-5-4">
<p>
Just as we had to add one constructor to type references earlier, we will do the
same for term references. Note that we re used the same names as for type
references, except we switched the meanings of <code>there</code> and <code>skip</code>.
</p>

<pre class="Agda">
    <a id="36212" class="Keyword">data</a> <a id="36217" href="blog.Sequent.html#32795" class="Datatype Operator">_∋_</a> <a id="36221" class="Keyword">where</a>
      <a id="SystemFω._∋_.here"></a><a id="36233" href="blog.Sequent.html#36233" class="InductiveConstructor">here</a> <a id="36238" class="Symbol">:</a> <a id="36240" class="Symbol">∀{</a><a id="36242" href="blog.Sequent.html#36242" class="Bound">Γ</a> <a id="36244" href="blog.Sequent.html#36244" class="Bound">t</a><a id="36245" class="Symbol">}</a>
        <a id="36255" class="Symbol">-&gt;</a> <a id="36258" href="blog.Sequent.html#36242" class="Bound">Γ</a> <a id="36260" href="blog.Sequent.html#33204" class="InductiveConstructor Operator">,</a> <a id="36262" href="blog.Sequent.html#36244" class="Bound">t</a> <a id="36264" href="blog.Sequent.html#32795" class="Datatype Operator">∋</a> <a id="36266" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="36274" href="blog.Sequent.html#33714" class="InductiveConstructor">skipt</a> <a id="36280" href="blog.Sequent.html#36244" class="Bound">t</a>
      <a id="SystemFω._∋_.skipt"></a><a id="36288" href="blog.Sequent.html#36288" class="InductiveConstructor">skipt</a> <a id="36294" class="Symbol">:</a> <a id="36296" class="Symbol">∀{</a><a id="36298" href="blog.Sequent.html#36298" class="Bound">Γ</a> <a id="36300" href="blog.Sequent.html#36300" class="Bound">t1</a> <a id="36303" href="blog.Sequent.html#36303" class="Bound">t2</a><a id="36305" class="Symbol">}</a>
        <a id="36315" class="Symbol">-&gt;</a> <a id="36318" href="blog.Sequent.html#36298" class="Bound">Γ</a> <a id="36320" href="blog.Sequent.html#32795" class="Datatype Operator">∋</a> <a id="36322" href="blog.Sequent.html#36300" class="Bound">t1</a>
        <a id="36333" class="Symbol">-&gt;</a> <a id="36336" href="blog.Sequent.html#36298" class="Bound">Γ</a> <a id="36338" href="blog.Sequent.html#33204" class="InductiveConstructor Operator">,</a> <a id="36340" href="blog.Sequent.html#36303" class="Bound">t2</a> <a id="36343" href="blog.Sequent.html#32795" class="Datatype Operator">∋</a> <a id="36345" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="36353" href="blog.Sequent.html#33714" class="InductiveConstructor">skipt</a> <a id="36359" href="blog.Sequent.html#36300" class="Bound">t1</a>

      <a id="SystemFω._∋_.skipk"></a><a id="36369" href="blog.Sequent.html#36369" class="InductiveConstructor">skipk</a> <a id="36375" class="Symbol">:</a> <a id="36377" class="Symbol">∀{</a><a id="36379" href="blog.Sequent.html#36379" class="Bound">Γ</a> <a id="36381" href="blog.Sequent.html#36381" class="Bound">t</a> <a id="36383" href="blog.Sequent.html#36383" class="Bound">k</a><a id="36384" class="Symbol">}</a>
        <a id="36394" class="Symbol">-&gt;</a> <a id="36397" href="blog.Sequent.html#36379" class="Bound">Γ</a> <a id="36399" href="blog.Sequent.html#32795" class="Datatype Operator">∋</a> <a id="36401" href="blog.Sequent.html#36381" class="Bound">t</a>
        <a id="36411" class="Symbol">-&gt;</a> <a id="36414" href="blog.Sequent.html#36379" class="Bound">Γ</a> <a id="36416" href="blog.Sequent.html#33279" class="InductiveConstructor Operator">,ₖ</a> <a id="36419" href="blog.Sequent.html#36383" class="Bound">k</a> <a id="36421" href="blog.Sequent.html#32795" class="Datatype Operator">∋</a> <a id="36423" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="36431" href="blog.Sequent.html#33650" class="InductiveConstructor">skipk</a> <a id="36437" href="blog.Sequent.html#36381" class="Bound">t</a>
</pre>
</div>
</div>

<div id="outline-container-org4af9d7a" class="outline-3">
<h3 id="org4af9d7a"><span class="section-number-3">5.5.</span> Terms</h3>
<div class="outline-text-3" id="text-5-5">
<p>
The definition of old terms are mostly the same as before, except we have to use
a bunch of <code>tShift</code>'s when we want to consider the same type in multple contexts.
</p>

<pre class="Agda">
    <a id="36646" class="Keyword">data</a> <a id="36651" class="Symbol">_</a> <a id="36653" class="Keyword">where</a>
      <a id="SystemFω._⊢_.var"></a><a id="36665" href="blog.Sequent.html#36665" class="InductiveConstructor">var</a> <a id="36669" class="Symbol">:</a> <a id="36671" class="Symbol">∀{</a><a id="36673" href="blog.Sequent.html#36673" class="Bound">Γ</a> <a id="36675" href="blog.Sequent.html#36675" class="Bound">t</a><a id="36676" class="Symbol">}</a>
        <a id="36686" class="Symbol">-&gt;</a> <a id="36689" href="blog.Sequent.html#36673" class="Bound">Γ</a> <a id="36691" href="blog.Sequent.html#32795" class="Datatype Operator">∋</a> <a id="36693" href="blog.Sequent.html#36675" class="Bound">t</a>
        <a id="36703" class="Symbol">-&gt;</a> <a id="36706" href="blog.Sequent.html#36673" class="Bound">Γ</a> <a id="36708" href="blog.Sequent.html#32666" class="Datatype Operator">⊢</a> <a id="36710" href="blog.Sequent.html#36675" class="Bound">t</a>


      <a id="SystemFω._⊢_.×-intro"></a><a id="36720" href="blog.Sequent.html#36720" class="InductiveConstructor">×-intro</a> <a id="36728" class="Symbol">:</a> <a id="36730" class="Symbol">∀{</a><a id="36732" href="blog.Sequent.html#36732" class="Bound">Γ</a> <a id="36734" href="blog.Sequent.html#36734" class="Bound">t1</a> <a id="36737" href="blog.Sequent.html#36737" class="Bound">t2</a><a id="36739" class="Symbol">}</a>
        <a id="36749" class="Symbol">-&gt;</a> <a id="36752" href="blog.Sequent.html#36732" class="Bound">Γ</a> <a id="36754" href="blog.Sequent.html#32666" class="Datatype Operator">⊢</a> <a id="36756" href="blog.Sequent.html#36734" class="Bound">t1</a>
        <a id="36767" class="Symbol">-&gt;</a> <a id="36770" href="blog.Sequent.html#36732" class="Bound">Γ</a> <a id="36772" href="blog.Sequent.html#32666" class="Datatype Operator">⊢</a> <a id="36774" href="blog.Sequent.html#36737" class="Bound">t2</a>
        <a id="36785" class="Symbol">-&gt;</a> <a id="36788" href="blog.Sequent.html#36732" class="Bound">Γ</a> <a id="36790" href="blog.Sequent.html#32666" class="Datatype Operator">⊢</a> <a id="36792" href="blog.Sequent.html#36734" class="Bound">t1</a> <a id="36795" href="blog.Sequent.html#34076" class="InductiveConstructor Operator">×</a> <a id="36797" href="blog.Sequent.html#36737" class="Bound">t2</a>

      <a id="SystemFω._⊢_.×-elim"></a><a id="36807" href="blog.Sequent.html#36807" class="InductiveConstructor">×-elim</a> <a id="36814" class="Symbol">:</a> <a id="36816" class="Symbol">∀{</a><a id="36818" href="blog.Sequent.html#36818" class="Bound">Γ</a> <a id="36820" href="blog.Sequent.html#36820" class="Bound">t1</a> <a id="36823" href="blog.Sequent.html#36823" class="Bound">t2</a> <a id="36826" href="blog.Sequent.html#36826" class="Bound">t3</a><a id="36828" class="Symbol">}</a>
        <a id="36838" class="Symbol">-&gt;</a> <a id="36841" href="blog.Sequent.html#36818" class="Bound">Γ</a> <a id="36843" href="blog.Sequent.html#32666" class="Datatype Operator">⊢</a> <a id="36845" href="blog.Sequent.html#36820" class="Bound">t1</a> <a id="36848" href="blog.Sequent.html#34076" class="InductiveConstructor Operator">×</a> <a id="36850" href="blog.Sequent.html#36823" class="Bound">t2</a>
        <a id="36861" class="Symbol">-&gt;</a> <a id="36864" href="blog.Sequent.html#36818" class="Bound">Γ</a> <a id="36866" href="blog.Sequent.html#33204" class="InductiveConstructor Operator">,</a> <a id="36868" href="blog.Sequent.html#36820" class="Bound">t1</a> <a id="36871" href="blog.Sequent.html#33204" class="InductiveConstructor Operator">,</a> <a id="36873" class="Symbol">(</a><a id="36874" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="36882" href="blog.Sequent.html#33714" class="InductiveConstructor">skipt</a> <a id="36888" href="blog.Sequent.html#36823" class="Bound">t2</a><a id="36890" class="Symbol">)</a> <a id="36892" href="blog.Sequent.html#32666" class="Datatype Operator">⊢</a> <a id="36894" class="Symbol">(</a><a id="36895" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="36903" href="blog.Sequent.html#33714" class="InductiveConstructor">skipt</a> <a id="36909" class="Symbol">(</a><a id="36910" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="36918" href="blog.Sequent.html#33714" class="InductiveConstructor">skipt</a>  <a id="36925" href="blog.Sequent.html#36826" class="Bound">t3</a><a id="36927" class="Symbol">))</a>
        <a id="36938" class="Symbol">-&gt;</a> <a id="36941" href="blog.Sequent.html#36818" class="Bound">Γ</a> <a id="36943" href="blog.Sequent.html#32666" class="Datatype Operator">⊢</a> <a id="36945" href="blog.Sequent.html#36826" class="Bound">t3</a>


      <a id="SystemFω._⊢_.+-intro-left"></a><a id="36956" href="blog.Sequent.html#36956" class="InductiveConstructor">+-intro-left</a> <a id="36969" class="Symbol">:</a> <a id="36971" class="Symbol">∀{</a><a id="36973" href="blog.Sequent.html#36973" class="Bound">Γ</a> <a id="36975" href="blog.Sequent.html#36975" class="Bound">t1</a> <a id="36978" href="blog.Sequent.html#36978" class="Bound">t2</a><a id="36980" class="Symbol">}</a>
        <a id="36990" class="Symbol">-&gt;</a> <a id="36993" href="blog.Sequent.html#36973" class="Bound">Γ</a> <a id="36995" href="blog.Sequent.html#32666" class="Datatype Operator">⊢</a> <a id="36997" href="blog.Sequent.html#36975" class="Bound">t1</a>
        <a id="37008" class="Symbol">-&gt;</a> <a id="37011" href="blog.Sequent.html#36973" class="Bound">Γ</a> <a id="37013" href="blog.Sequent.html#32666" class="Datatype Operator">⊢</a> <a id="37015" href="blog.Sequent.html#36975" class="Bound">t1</a> <a id="37018" href="blog.Sequent.html#34138" class="InductiveConstructor Operator">+</a> <a id="37020" href="blog.Sequent.html#36978" class="Bound">t2</a>

      <a id="SystemFω._⊢_.+-intro-right"></a><a id="37030" href="blog.Sequent.html#37030" class="InductiveConstructor">+-intro-right</a> <a id="37044" class="Symbol">:</a> <a id="37046" class="Symbol">∀{</a><a id="37048" href="blog.Sequent.html#37048" class="Bound">Γ</a> <a id="37050" href="blog.Sequent.html#37050" class="Bound">t1</a> <a id="37053" href="blog.Sequent.html#37053" class="Bound">t2</a><a id="37055" class="Symbol">}</a>
        <a id="37065" class="Symbol">-&gt;</a> <a id="37068" href="blog.Sequent.html#37048" class="Bound">Γ</a> <a id="37070" href="blog.Sequent.html#32666" class="Datatype Operator">⊢</a> <a id="37072" href="blog.Sequent.html#37053" class="Bound">t2</a>
        <a id="37083" class="Symbol">-&gt;</a> <a id="37086" href="blog.Sequent.html#37048" class="Bound">Γ</a> <a id="37088" href="blog.Sequent.html#32666" class="Datatype Operator">⊢</a> <a id="37090" href="blog.Sequent.html#37050" class="Bound">t1</a> <a id="37093" href="blog.Sequent.html#34138" class="InductiveConstructor Operator">+</a> <a id="37095" href="blog.Sequent.html#37053" class="Bound">t2</a>

      <a id="SystemFω._⊢_.+-elim"></a><a id="37105" href="blog.Sequent.html#37105" class="InductiveConstructor">+-elim</a> <a id="37112" class="Symbol">:</a> <a id="37114" class="Symbol">∀{</a><a id="37116" href="blog.Sequent.html#37116" class="Bound">Γ</a> <a id="37118" href="blog.Sequent.html#37118" class="Bound">t1</a> <a id="37121" href="blog.Sequent.html#37121" class="Bound">t2</a> <a id="37124" href="blog.Sequent.html#37124" class="Bound">t3</a><a id="37126" class="Symbol">}</a>
        <a id="37136" class="Symbol">-&gt;</a> <a id="37139" href="blog.Sequent.html#37116" class="Bound">Γ</a> <a id="37141" href="blog.Sequent.html#32666" class="Datatype Operator">⊢</a> <a id="37143" href="blog.Sequent.html#37118" class="Bound">t1</a> <a id="37146" href="blog.Sequent.html#34138" class="InductiveConstructor Operator">+</a> <a id="37148" href="blog.Sequent.html#37121" class="Bound">t2</a>
        <a id="37159" class="Symbol">-&gt;</a> <a id="37162" href="blog.Sequent.html#37116" class="Bound">Γ</a> <a id="37164" href="blog.Sequent.html#33204" class="InductiveConstructor Operator">,</a> <a id="37166" href="blog.Sequent.html#37118" class="Bound">t1</a> <a id="37169" href="blog.Sequent.html#32666" class="Datatype Operator">⊢</a> <a id="37171" class="Symbol">(</a><a id="37172" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="37180" href="blog.Sequent.html#33714" class="InductiveConstructor">skipt</a> <a id="37186" href="blog.Sequent.html#37124" class="Bound">t3</a><a id="37188" class="Symbol">)</a>
        <a id="37198" class="Symbol">-&gt;</a> <a id="37201" href="blog.Sequent.html#37116" class="Bound">Γ</a> <a id="37203" href="blog.Sequent.html#33204" class="InductiveConstructor Operator">,</a> <a id="37205" href="blog.Sequent.html#37121" class="Bound">t2</a> <a id="37208" href="blog.Sequent.html#32666" class="Datatype Operator">⊢</a> <a id="37210" class="Symbol">(</a><a id="37211" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="37219" href="blog.Sequent.html#33714" class="InductiveConstructor">skipt</a> <a id="37225" href="blog.Sequent.html#37124" class="Bound">t3</a><a id="37227" class="Symbol">)</a>
        <a id="37237" class="Symbol">-&gt;</a> <a id="37240" href="blog.Sequent.html#37116" class="Bound">Γ</a> <a id="37242" href="blog.Sequent.html#32666" class="Datatype Operator">⊢</a> <a id="37244" href="blog.Sequent.html#37124" class="Bound">t3</a>


      <a id="SystemFω._⊢_.=&gt;-intro"></a><a id="37255" href="blog.Sequent.html#37255" class="InductiveConstructor">=&gt;-intro</a> <a id="37264" class="Symbol">:</a> <a id="37266" class="Symbol">∀{</a><a id="37268" href="blog.Sequent.html#37268" class="Bound">Γ</a> <a id="37270" href="blog.Sequent.html#37270" class="Bound">t1</a> <a id="37273" href="blog.Sequent.html#37273" class="Bound">t2</a><a id="37275" class="Symbol">}</a>
        <a id="37285" class="Symbol">-&gt;</a> <a id="37288" href="blog.Sequent.html#37268" class="Bound">Γ</a> <a id="37290" href="blog.Sequent.html#33204" class="InductiveConstructor Operator">,</a> <a id="37292" href="blog.Sequent.html#37270" class="Bound">t1</a> <a id="37295" href="blog.Sequent.html#32666" class="Datatype Operator">⊢</a> <a id="37297" class="Symbol">(</a><a id="37298" href="blog.Sequent.html#34770" class="Function">tRename</a> <a id="37306" href="blog.Sequent.html#33714" class="InductiveConstructor">skipt</a> <a id="37312" href="blog.Sequent.html#37273" class="Bound">t2</a><a id="37314" class="Symbol">)</a>
        <a id="37324" class="Symbol">-&gt;</a> <a id="37327" href="blog.Sequent.html#37268" class="Bound">Γ</a> <a id="37329" href="blog.Sequent.html#32666" class="Datatype Operator">⊢</a> <a id="37331" href="blog.Sequent.html#37270" class="Bound">t1</a> <a id="37334" href="blog.Sequent.html#34200" class="InductiveConstructor Operator">=&gt;</a> <a id="37337" href="blog.Sequent.html#37273" class="Bound">t2</a>
      <a id="SystemFω._⊢_.=&gt;-elim"></a><a id="37346" href="blog.Sequent.html#37346" class="InductiveConstructor">=&gt;-elim</a> <a id="37354" class="Symbol">:</a> <a id="37356" class="Symbol">∀{</a><a id="37358" href="blog.Sequent.html#37358" class="Bound">Γ</a> <a id="37360" href="blog.Sequent.html#37360" class="Bound">t1</a> <a id="37363" href="blog.Sequent.html#37363" class="Bound">t2</a><a id="37365" class="Symbol">}</a>
        <a id="37375" class="Symbol">-&gt;</a> <a id="37378" href="blog.Sequent.html#37358" class="Bound">Γ</a> <a id="37380" href="blog.Sequent.html#32666" class="Datatype Operator">⊢</a> <a id="37382" href="blog.Sequent.html#37360" class="Bound">t1</a> <a id="37385" href="blog.Sequent.html#34200" class="InductiveConstructor Operator">=&gt;</a> <a id="37388" href="blog.Sequent.html#37363" class="Bound">t2</a>
        <a id="37399" class="Symbol">-&gt;</a> <a id="37402" href="blog.Sequent.html#37358" class="Bound">Γ</a> <a id="37404" href="blog.Sequent.html#32666" class="Datatype Operator">⊢</a> <a id="37406" href="blog.Sequent.html#37360" class="Bound">t1</a>
        <a id="37417" class="Symbol">-&gt;</a> <a id="37420" href="blog.Sequent.html#37358" class="Bound">Γ</a> <a id="37422" href="blog.Sequent.html#32666" class="Datatype Operator">⊢</a> <a id="37424" href="blog.Sequent.html#37363" class="Bound">t2</a>
</pre>
</div>
</div>


<div id="outline-container-org8a2ede9" class="outline-3">
<h3 id="org8a2ede9"><span class="section-number-3">5.6.</span> Encoding the functor typeclass</h3>
<div class="outline-text-3" id="text-5-6">
<p>
In Haskell, a witness that some type constructor \( f : * \Rightarrow * \) is a functor is
simply some polymorphic <code>fmap</code> implementation.
</p>

<pre class="Agda">
  <a id="SystemFω.functor"></a><a id="37633" href="blog.Sequent.html#37633" class="Function">functor</a> <a id="37641" class="Symbol">:</a> <a id="37643" class="Symbol">∀{</a><a id="37645" href="blog.Sequent.html#37645" class="Bound">Γ</a><a id="37646" class="Symbol">}</a> <a id="37648" class="Symbol">-&gt;</a> <a id="37651" href="blog.Sequent.html#37645" class="Bound">Γ</a> <a id="37653" href="blog.Sequent.html#32608" class="Datatype Operator">⊢ₖ</a> <a id="37656" class="Symbol">(</a><a id="37657" href="blog.Sequent.html#32531" class="InductiveConstructor">*</a> <a id="37659" href="blog.Sequent.html#32546" class="InductiveConstructor Operator">=&gt;</a> <a id="37662" href="blog.Sequent.html#32531" class="InductiveConstructor">*</a><a id="37663" class="Symbol">)</a> <a id="37665" href="blog.Sequent.html#32546" class="InductiveConstructor Operator">=&gt;</a> <a id="37668" href="blog.Sequent.html#32531" class="InductiveConstructor">*</a>
  <a id="37672" class="Comment">-- functor f = ∀(a:*). ∀(b:*) (a =&gt; b) =&gt; f a =&gt; f b</a>
  <a id="37727" href="blog.Sequent.html#37633" class="Function">functor</a> <a id="37735" class="Symbol">=</a>
    <a id="37741" href="blog.Sequent.html#34303" class="InductiveConstructor">abs</a>
      <a id="37751" class="Symbol">(</a><a id="37752" href="blog.Sequent.html#34464" class="InductiveConstructor">∀&#39;</a> <a id="37755" href="blog.Sequent.html#32531" class="InductiveConstructor">*</a>
        <a id="37765" class="Symbol">(</a><a id="37766" href="blog.Sequent.html#34464" class="InductiveConstructor">∀&#39;</a> <a id="37769" href="blog.Sequent.html#32531" class="InductiveConstructor">*</a>
          <a id="37781" class="Symbol">((</a><a id="37783" href="blog.Sequent.html#34263" class="InductiveConstructor">var</a> <a id="37787" class="Symbol">(</a><a id="37788" href="blog.Sequent.html#33650" class="InductiveConstructor">skipk</a> <a id="37794" href="blog.Sequent.html#33615" class="InductiveConstructor">here</a><a id="37798" class="Symbol">)</a> <a id="37800" href="blog.Sequent.html#34200" class="InductiveConstructor Operator">=&gt;</a> <a id="37803" href="blog.Sequent.html#34263" class="InductiveConstructor">var</a> <a id="37807" href="blog.Sequent.html#33615" class="InductiveConstructor">here</a><a id="37811" class="Symbol">)</a>
           <a id="37824" href="blog.Sequent.html#34200" class="InductiveConstructor Operator">=&gt;</a> <a id="37827" href="blog.Sequent.html#34377" class="InductiveConstructor">app</a> <a id="37831" class="Symbol">(</a><a id="37832" href="blog.Sequent.html#34263" class="InductiveConstructor">var</a> <a id="37836" class="Symbol">(</a><a id="37837" href="blog.Sequent.html#33650" class="InductiveConstructor">skipk</a> <a id="37843" class="Symbol">(</a><a id="37844" href="blog.Sequent.html#33650" class="InductiveConstructor">skipk</a> <a id="37850" href="blog.Sequent.html#33615" class="InductiveConstructor">here</a><a id="37854" class="Symbol">)))</a> <a id="37858" class="Symbol">(</a><a id="37859" href="blog.Sequent.html#34263" class="InductiveConstructor">var</a> <a id="37863" class="Symbol">(</a><a id="37864" href="blog.Sequent.html#33650" class="InductiveConstructor">skipk</a> <a id="37870" href="blog.Sequent.html#33615" class="InductiveConstructor">here</a><a id="37874" class="Symbol">))</a>
           <a id="37888" href="blog.Sequent.html#34200" class="InductiveConstructor Operator">=&gt;</a> <a id="37891" href="blog.Sequent.html#34377" class="InductiveConstructor">app</a> <a id="37895" class="Symbol">(</a><a id="37896" href="blog.Sequent.html#34263" class="InductiveConstructor">var</a> <a id="37900" class="Symbol">(</a><a id="37901" href="blog.Sequent.html#33650" class="InductiveConstructor">skipk</a> <a id="37907" class="Symbol">(</a><a id="37908" href="blog.Sequent.html#33650" class="InductiveConstructor">skipk</a> <a id="37914" href="blog.Sequent.html#33615" class="InductiveConstructor">here</a><a id="37918" class="Symbol">)))</a> <a id="37922" class="Symbol">(</a><a id="37923" href="blog.Sequent.html#34263" class="InductiveConstructor">var</a> <a id="37927" href="blog.Sequent.html#33615" class="InductiveConstructor">here</a><a id="37931" class="Symbol">))))</a>
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Justin Veilleux</p>
<p class="date">Created: 2024-09-21 Sat 18:45</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
