<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="english" xml:lang="english">
<head>
<!-- 2024-09-21 Sat 17:55 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Γ ⊢ formal logic and type systems</title>
<meta name="author" content="Justin Veilleux" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="Agda.css" />
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href=""> UP </a>
 |
 <a accesskey="H" href="/"> HOME </a>
</div><div id="content" class="content">
<h1 class="title">Γ ⊢ formal logic and type systems</h1>
<blockquote>
<p>
Note: This post is quite long, it is not finished and I might end up splitting
into multiple parts in the end. A lot of thing I want to put in are already
there, but some, like normalization proofs and human-usable variable references
are missing. Read at your own Peril
</p>

<ul class="org-ul">
<li>Justin</li>
</ul>
</blockquote>


<p>
If like me, you are interested in programming language theory, you have probably
encountered the following notation and were at first confused by it:
</p>


<div id="orgeac32a6" class="figure">
<p><img src="assets/sequent.svg" alt="sequent.svg" class="org-svg" />
</p>
</div>

<p>
This notation was invented to serve as a meta language in which to talk about
new formal systems. Here, we use it to define a language's \( \times \)-intro rule,
which tells us that:
</p>

<blockquote>
<p>
If in a context with variables \( \Gamma \), the term \( a \) has type \( A \) and
the term \( b \) has type \( B \), then in the same context, the term \( \langle a, b
\rangle \) has type \( A \times B \).
</p>
</blockquote>

<p>
Operationalizing this deduction rule into a type checker would give you
something like
</p>

<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #8f0075;">typeCheck</span> <span style="color: #3548cf;">::</span> <span style="color: #531ab6; font-weight: bold;">Ctx</span> <span style="color: #3548cf;">-&gt;</span> <span style="color: #531ab6; font-weight: bold;">Term</span> <span style="color: #3548cf;">-&gt;</span> <span style="color: #531ab6; font-weight: bold;">Type</span> <span style="color: #3548cf;">-&gt;</span> <span style="color: #531ab6; font-weight: bold;">Bool</span>
<span style="color: #8f0075;">typeCheck</span> <span style="color: #531ab6; font-weight: bold;">&#915;</span> &#10216; a , b &#10217; (tA <span style="color: #3548cf;">&#215;</span> tB) <span style="color: #3548cf;">=</span> typeCheck <span style="color: #531ab6; font-weight: bold;">&#915;</span> a tA <span style="color: #3548cf;">&amp;&amp;</span>
                                  typeCheck <span style="color: #531ab6; font-weight: bold;">&#915;</span> b tB
</pre>
</div>

<p>
Usually, proving a result about our object is done by chaining together the
correct deduction rules until we get the result we want on the bottom line. For
instance, it is possible to use the \( \times \)-intro rule multiple time to create a
nested tuple like this:
</p>


<div id="org3db010b" class="figure">
<p><img src="assets/many-sequent.svg" alt="many-sequent.svg" class="org-svg" />
</p>
</div>

<p>
In this post, I will show you how to describe your own object logic system using
Agda as a metalanguage to write formally verified proofs about it.
</p>

<div id="outline-container-org59baef6" class="outline-2">
<h2 id="org59baef6"><span class="section-number-2">1.</span> About Agda</h2>
<div class="outline-text-2" id="text-1">
<p>
Agda is a dependently typed purely functional programming language. Those
properties mean it looks and feels a lot like Haskell, but the dependent type
system means you can also use it as a proof assistant to formalise some
mathematics.
</p>

<p>
Agda has <a href="https://agda.readthedocs.io/en/v2.7.0.1/language/index.html">A lot</a> of very interesting features, but one of them I will use a lot
today is its "mixfix syntax". Agda doesn't have the concept of operators.
Identifiers can contain every character that isn't a space or a parenthesis.
This means that you must put spaces everywhere, but this system lets the user
define operators that take any form. For instance, if you give a function the
name of <code>_+_</code>, then <code>_+_ x y</code> is the same as <code>x + y</code>. If you give a function the name
<code>if_then_else_</code>, then <code>if_then_else_ something yes no</code> is the same as <code>if something
then yes else no</code>. I will use this feature so that the syntax of judgments is
similar to what you would read in the literature (the \( \Gamma \vdash P \) syntax).
</p>
</div>
</div>

<div id="outline-container-org5fcd58b" class="outline-2">
<h2 id="org5fcd58b"><span class="section-number-2">2.</span> Propositional logic</h2>
<div class="outline-text-2" id="text-2">
<p>
We know that the language of propositions contains (at least) two propositions
\( \top \) and \( \bot \), two connectives \( \vee \) and \( \wedge \) and the negation
\( \neg \).
</p>

<pre class="Agda">
  <a id="4013" class="Keyword">data</a> <a id="PropositionalLogic.Prop"></a><a id="4018" href="blog.Sequent.html#4018" class="Datatype">Prop</a> <a id="4023" class="Symbol">:</a> <a id="4025" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="4029" class="Keyword">where</a>
    <a id="PropositionalLogic.Prop.⊤"></a><a id="4039" href="blog.Sequent.html#4039" class="InductiveConstructor">⊤</a> <a id="4041" class="Symbol">:</a> <a id="4043" href="blog.Sequent.html#4018" class="Datatype">Prop</a>
    <a id="PropositionalLogic.Prop.⊥"></a><a id="4052" href="blog.Sequent.html#4052" class="InductiveConstructor">⊥</a> <a id="4054" class="Symbol">:</a> <a id="4056" href="blog.Sequent.html#4018" class="Datatype">Prop</a>
    <a id="PropositionalLogic.Prop._∧_"></a><a id="4065" href="blog.Sequent.html#4065" class="InductiveConstructor Operator">_∧_</a> <a id="4069" class="Symbol">:</a> <a id="4071" href="blog.Sequent.html#4018" class="Datatype">Prop</a> <a id="4076" class="Symbol">-&gt;</a> <a id="4079" href="blog.Sequent.html#4018" class="Datatype">Prop</a> <a id="4084" class="Symbol">-&gt;</a> <a id="4087" href="blog.Sequent.html#4018" class="Datatype">Prop</a>
    <a id="PropositionalLogic.Prop._∨_"></a><a id="4096" href="blog.Sequent.html#4096" class="InductiveConstructor Operator">_∨_</a> <a id="4100" class="Symbol">:</a> <a id="4102" href="blog.Sequent.html#4018" class="Datatype">Prop</a> <a id="4107" class="Symbol">-&gt;</a> <a id="4110" href="blog.Sequent.html#4018" class="Datatype">Prop</a> <a id="4115" class="Symbol">-&gt;</a> <a id="4118" href="blog.Sequent.html#4018" class="Datatype">Prop</a>
    <a id="PropositionalLogic.Prop.¬_"></a><a id="4127" href="blog.Sequent.html#4127" class="InductiveConstructor Operator">¬_</a> <a id="4130" class="Symbol">:</a> <a id="4132" href="blog.Sequent.html#4018" class="Datatype">Prop</a> <a id="4137" class="Symbol">-&gt;</a> <a id="4140" href="blog.Sequent.html#4018" class="Datatype">Prop</a>
  
  <a id="4150" class="Keyword">infixl</a> <a id="4157" class="Number">6</a> <a id="4159" href="blog.Sequent.html#4065" class="InductiveConstructor Operator">_∧_</a>
  <a id="4165" class="Keyword">infixl</a> <a id="4172" class="Number">5</a> <a id="4174" href="blog.Sequent.html#4096" class="InductiveConstructor Operator">_∨_</a>
  <a id="4180" class="Keyword">infix</a> <a id="4186" class="Number">7</a> <a id="4188" href="blog.Sequent.html#4127" class="InductiveConstructor Operator">¬_</a>
</pre>

<p>
With this definition, we can give concrete examples of propositions
</p>

<pre class="Agda">
  <a id="PropositionalLogic.some-prop"></a><a id="4291" href="blog.Sequent.html#4291" class="Function">some-prop</a> <a id="4301" class="Symbol">:</a> <a id="4303" href="blog.Sequent.html#4018" class="Datatype">Prop</a>
  <a id="4310" href="blog.Sequent.html#4291" class="Function">some-prop</a> <a id="4320" class="Symbol">=</a> <a id="4322" href="blog.Sequent.html#4039" class="InductiveConstructor">⊤</a> <a id="4324" href="blog.Sequent.html#4065" class="InductiveConstructor Operator">∧</a> <a id="4326" href="blog.Sequent.html#4127" class="InductiveConstructor Operator">¬</a> <a id="4328" href="blog.Sequent.html#4052" class="InductiveConstructor">⊥</a>
</pre>


<p>
Now that we have defined the language of propositions, we need to define the language of contexts
</p>
</div>

<div id="outline-container-org790cc39" class="outline-3">
<h3 id="org790cc39"><span class="section-number-3">2.1.</span> Contexts</h3>
<div class="outline-text-3" id="text-2-1">
<p>
In logic, it is very important to be able to talk about "hypotheses" that one
can use to prove some proposition. It is common to represent the set of
hypotheses as a "context" which is pretty much just a list of all the
propositions we assume to be true.
</p>

<pre class="Agda">
  <a id="4730" class="Keyword">data</a> <a id="PropositionalLogic.Ctx"></a><a id="4735" href="blog.Sequent.html#4735" class="Datatype">Ctx</a> <a id="4739" class="Symbol">:</a> <a id="4741" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="4745" class="Keyword">where</a>
    <a id="4755" class="Comment">-- The empty context</a>
    <a id="PropositionalLogic.Ctx.·"></a><a id="4780" href="blog.Sequent.html#4780" class="InductiveConstructor">·</a> <a id="4782" class="Symbol">:</a> <a id="4784" href="blog.Sequent.html#4735" class="Datatype">Ctx</a>
    <a id="4792" class="Comment">-- A context with at least one hypothesis</a>
    <a id="PropositionalLogic.Ctx._,_"></a><a id="4838" href="blog.Sequent.html#4838" class="InductiveConstructor Operator">_,_</a> <a id="4842" class="Symbol">:</a> <a id="4844" href="blog.Sequent.html#4735" class="Datatype">Ctx</a> <a id="4848" class="Symbol">-&gt;</a> <a id="4851" href="blog.Sequent.html#4018" class="Datatype">Prop</a> <a id="4856" class="Symbol">-&gt;</a> <a id="4859" href="blog.Sequent.html#4735" class="Datatype">Ctx</a>
  
  <a id="4868" class="Keyword">infixl</a> <a id="4875" class="Number">4</a> <a id="4877" href="blog.Sequent.html#4838" class="InductiveConstructor Operator">_,_</a>
</pre>

<p>
We will also need some way to represent the fact that our context contains some
hypothesis.
</p>

<pre class="Agda">
  <a id="5005" class="Keyword">infix</a> <a id="5011" class="Number">3</a> <a id="5013" href="blog.Sequent.html#5027" class="Datatype Operator">_∋_</a>
  
  <a id="5022" class="Keyword">data</a> <a id="PropositionalLogic._∋_"></a><a id="5027" href="blog.Sequent.html#5027" class="Datatype Operator">_∋_</a> <a id="5031" class="Symbol">:</a> <a id="5033" href="blog.Sequent.html#4735" class="Datatype">Ctx</a> <a id="5037" class="Symbol">-&gt;</a> <a id="5040" href="blog.Sequent.html#4018" class="Datatype">Prop</a> <a id="5045" class="Symbol">-&gt;</a> <a id="5048" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="5052" class="Keyword">where</a>
    <a id="5062" class="Comment">-- it&#39;s the rightmost hypothesis</a>
    <a id="PropositionalLogic._∋_.here"></a><a id="5099" href="blog.Sequent.html#5099" class="InductiveConstructor">here</a> <a id="5104" class="Symbol">:</a> <a id="5106" class="Symbol">∀{</a><a id="5108" href="blog.Sequent.html#5108" class="Bound">Γ</a> <a id="5110" href="blog.Sequent.html#5110" class="Bound">P</a><a id="5111" class="Symbol">}</a> <a id="5113" class="Symbol">-&gt;</a> <a id="5116" href="blog.Sequent.html#5108" class="Bound">Γ</a> <a id="5118" href="blog.Sequent.html#4838" class="InductiveConstructor Operator">,</a> <a id="5120" href="blog.Sequent.html#5110" class="Bound">P</a> <a id="5122" href="blog.Sequent.html#5027" class="Datatype Operator">∋</a> <a id="5124" href="blog.Sequent.html#5110" class="Bound">P</a>
    <a id="5130" class="Comment">-- it&#39;s further left</a>
    <a id="PropositionalLogic._∋_.there"></a><a id="5155" href="blog.Sequent.html#5155" class="InductiveConstructor">there</a> <a id="5161" class="Symbol">:</a> <a id="5163" class="Symbol">∀{</a><a id="5165" href="blog.Sequent.html#5165" class="Bound">Γ</a> <a id="5167" href="blog.Sequent.html#5167" class="Bound">P</a> <a id="5169" href="blog.Sequent.html#5169" class="Bound">Q</a><a id="5170" class="Symbol">}</a> <a id="5172" class="Symbol">-&gt;</a> <a id="5175" href="blog.Sequent.html#5165" class="Bound">Γ</a> <a id="5177" href="blog.Sequent.html#5027" class="Datatype Operator">∋</a> <a id="5179" href="blog.Sequent.html#5167" class="Bound">P</a> <a id="5181" class="Symbol">-&gt;</a> <a id="5184" href="blog.Sequent.html#5165" class="Bound">Γ</a> <a id="5186" href="blog.Sequent.html#4838" class="InductiveConstructor Operator">,</a> <a id="5188" href="blog.Sequent.html#5169" class="Bound">Q</a> <a id="5190" href="blog.Sequent.html#5027" class="Datatype Operator">∋</a> <a id="5192" href="blog.Sequent.html#5167" class="Bound">P</a>
  
  <a id="5199" href="blog.Sequent.html#5199" class="Function">_</a> <a id="5201" class="Symbol">:</a> <a id="5203" class="Symbol">∀{</a><a id="5205" href="blog.Sequent.html#5205" class="Bound">P</a> <a id="5207" href="blog.Sequent.html#5207" class="Bound">Q</a> <a id="5209" href="blog.Sequent.html#5209" class="Bound">R</a><a id="5210" class="Symbol">}</a> <a id="5212" class="Symbol">-&gt;</a> <a id="5215" href="blog.Sequent.html#4780" class="InductiveConstructor">·</a> <a id="5217" href="blog.Sequent.html#4838" class="InductiveConstructor Operator">,</a> <a id="5219" href="blog.Sequent.html#5205" class="Bound">P</a> <a id="5221" href="blog.Sequent.html#4838" class="InductiveConstructor Operator">,</a> <a id="5223" href="blog.Sequent.html#5207" class="Bound">Q</a> <a id="5225" href="blog.Sequent.html#4838" class="InductiveConstructor Operator">,</a> <a id="5227" href="blog.Sequent.html#5209" class="Bound">R</a> <a id="5229" href="blog.Sequent.html#5027" class="Datatype Operator">∋</a> <a id="5231" href="blog.Sequent.html#5205" class="Bound">P</a>
  <a id="5235" class="Symbol">_</a> <a id="5237" class="Symbol">=</a> <a id="5239" href="blog.Sequent.html#5155" class="InductiveConstructor">there</a> <a id="5245" class="Symbol">(</a><a id="5246" href="blog.Sequent.html#5155" class="InductiveConstructor">there</a> <a id="5252" href="blog.Sequent.html#5099" class="InductiveConstructor">here</a><a id="5256" class="Symbol">)</a>
</pre>
</div>
</div>

<div id="outline-container-org61a0ee2" class="outline-3">
<h3 id="org61a0ee2"><span class="section-number-3">2.2.</span> Judgments</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Finally, we have everything necessary to define the derivation rules of classical
logic.
</p>

<p>
Usually, rules can be put into either of two categories: structural rules, or
logical rules. Logical rules are the ones which describe how certain constructs
interact, whereas structural rules describe how the context can be manipulated.
In the case of classical logic, we will have only one such structural rule, <code>hypo</code>
(which let us use a hypothesis), which will be sufficient for all of our
context-manipulation needs. Logics which have more restrictions in the way in
which the context is manipulated are usually called <a href="https://en.wikipedia.org/wiki/Substructural_logic">substructural logics</a> and
they instead use weaker, but more numerous structural rules.
</p>

<p>
Each construct in a logical system is usually associated with three logical
rules:
</p>

<ol class="org-ol">
<li>A <b>formation</b> rule which asserts the existence of your construct.</li>
<li>An <b>introduction</b> rule which gives you a way to create a proof of the
construct.</li>
<li>An <b>elimination</b> rule which lets you use the proof.</li>
</ol>

<p>
Since we have defined all of our constructs in the <code>Prop</code> type, we won't be
writing down formation rules, but introduction and elimination rules will still
be there. Note that eliminators usually follow a certain pattern: the subject
(the thing to eliminate) is the first argument and the different branches (think
of \( \vee \)) follow.
</p>

<pre class="Agda">
  <a id="6694" class="Keyword">infix</a> <a id="6700" class="Number">3</a> <a id="6702" href="blog.Sequent.html#6716" class="Datatype Operator">_⊢_</a>
  
  <a id="6711" class="Keyword">data</a> <a id="PropositionalLogic._⊢_"></a><a id="6716" href="blog.Sequent.html#6716" class="Datatype Operator">_⊢_</a> <a id="6720" class="Symbol">:</a> <a id="6722" href="blog.Sequent.html#4735" class="Datatype">Ctx</a> <a id="6726" class="Symbol">-&gt;</a> <a id="6729" href="blog.Sequent.html#4018" class="Datatype">Prop</a> <a id="6734" class="Symbol">-&gt;</a> <a id="6737" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="6741" class="Keyword">where</a>
    <a id="PropositionalLogic._⊢_.hypo"></a><a id="6751" href="blog.Sequent.html#6751" class="InductiveConstructor">hypo</a> <a id="6756" class="Symbol">:</a> <a id="6758" class="Symbol">∀{</a><a id="6760" href="blog.Sequent.html#6760" class="Bound">Γ</a> <a id="6762" href="blog.Sequent.html#6762" class="Bound">P</a><a id="6763" class="Symbol">}</a> <a id="6765" class="Symbol">-&gt;</a> <a id="6768" href="blog.Sequent.html#6760" class="Bound">Γ</a> <a id="6770" href="blog.Sequent.html#5027" class="Datatype Operator">∋</a> <a id="6772" href="blog.Sequent.html#6762" class="Bound">P</a> <a id="6774" class="Symbol">-&gt;</a> <a id="6777" href="blog.Sequent.html#6760" class="Bound">Γ</a> <a id="6779" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="6781" href="blog.Sequent.html#6762" class="Bound">P</a>
</pre>


<div id="org26b27f1" class="figure">
<p><img src="assets/hypo.svg" alt="hypo.svg" class="org-svg" />
</p>
</div>

<pre class="Agda">
    <a id="7035" class="Comment">-- ⊤ is true in every context</a>
    <a id="PropositionalLogic._⊢_.⊤-intro"></a><a id="7069" href="blog.Sequent.html#7069" class="InductiveConstructor">⊤-intro</a> <a id="7077" class="Symbol">:</a> <a id="7079" class="Symbol">∀{</a><a id="7081" href="blog.Sequent.html#7081" class="Bound">Γ</a><a id="7082" class="Symbol">}</a> <a id="7084" class="Symbol">-&gt;</a> <a id="7087" href="blog.Sequent.html#7081" class="Bound">Γ</a> <a id="7089" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="7091" href="blog.Sequent.html#4039" class="InductiveConstructor">⊤</a>
</pre>


<div id="orgc208d3c" class="figure">
<p><img src="assets/top-intro.svg" alt="top-intro.svg" class="org-svg" />
</p>
</div>

<pre class="Agda">
    <a id="PropositionalLogic._⊢_.⊤-elim"></a><a id="7336" href="blog.Sequent.html#7336" class="InductiveConstructor">⊤-elim</a> <a id="7343" class="Symbol">:</a> <a id="7345" class="Symbol">∀{</a><a id="7347" href="blog.Sequent.html#7347" class="Bound">Γ</a> <a id="7349" href="blog.Sequent.html#7349" class="Bound">P</a><a id="7350" class="Symbol">}</a> <a id="7352" class="Symbol">-&gt;</a> <a id="7355" href="blog.Sequent.html#7347" class="Bound">Γ</a> <a id="7357" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="7359" href="blog.Sequent.html#4039" class="InductiveConstructor">⊤</a> <a id="7361" class="Symbol">-&gt;</a> <a id="7364" href="blog.Sequent.html#7347" class="Bound">Γ</a> <a id="7366" href="blog.Sequent.html#4838" class="InductiveConstructor Operator">,</a> <a id="7368" href="blog.Sequent.html#4039" class="InductiveConstructor">⊤</a> <a id="7370" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="7372" href="blog.Sequent.html#7349" class="Bound">P</a> <a id="7374" class="Symbol">-&gt;</a> <a id="7377" href="blog.Sequent.html#7347" class="Bound">Γ</a> <a id="7379" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="7381" href="blog.Sequent.html#7349" class="Bound">P</a>
  
    <a id="7390" class="Comment">-- ⊥ has no introduction rule as it is the false proposition</a>
  
    <a id="7458" class="Comment">-- ex falso quodlibet</a>
    <a id="PropositionalLogic._⊢_.⊥-elim"></a><a id="7484" href="blog.Sequent.html#7484" class="InductiveConstructor">⊥-elim</a> <a id="7491" class="Symbol">:</a> <a id="7493" class="Symbol">∀{</a><a id="7495" href="blog.Sequent.html#7495" class="Bound">Γ</a> <a id="7497" href="blog.Sequent.html#7497" class="Bound">P</a><a id="7498" class="Symbol">}</a> <a id="7500" class="Symbol">-&gt;</a> <a id="7503" href="blog.Sequent.html#7495" class="Bound">Γ</a> <a id="7505" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="7507" href="blog.Sequent.html#4052" class="InductiveConstructor">⊥</a> <a id="7509" class="Symbol">-&gt;</a> <a id="7512" href="blog.Sequent.html#7495" class="Bound">Γ</a> <a id="7514" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="7516" href="blog.Sequent.html#7497" class="Bound">P</a>
</pre>


<div id="org345d5be" class="figure">
<p><img src="assets/bot-elim.svg" alt="bot-elim.svg" class="org-svg" />
</p>
</div>

<pre class="Agda">
    <a id="7789" class="Comment">-- To prove P ∨ Q, it suffices to prove either P or Q</a>
    <a id="PropositionalLogic._⊢_.∨-intro-left"></a><a id="7847" href="blog.Sequent.html#7847" class="InductiveConstructor">∨-intro-left</a> <a id="7860" class="Symbol">:</a> <a id="7862" class="Symbol">∀{</a><a id="7864" href="blog.Sequent.html#7864" class="Bound">Γ</a><a id="7865" class="Symbol">}</a> <a id="7867" class="Symbol">{</a><a id="7868" href="blog.Sequent.html#7868" class="Bound">P</a> <a id="7870" href="blog.Sequent.html#7870" class="Bound">Q</a> <a id="7872" class="Symbol">:</a> <a id="7874" href="blog.Sequent.html#4018" class="Datatype">Prop</a><a id="7878" class="Symbol">}</a> <a id="7880" class="Symbol">-&gt;</a> <a id="7883" href="blog.Sequent.html#7864" class="Bound">Γ</a> <a id="7885" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="7887" href="blog.Sequent.html#7868" class="Bound">P</a> <a id="7889" class="Symbol">-&gt;</a> <a id="7892" href="blog.Sequent.html#7864" class="Bound">Γ</a> <a id="7894" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="7896" href="blog.Sequent.html#7868" class="Bound">P</a> <a id="7898" href="blog.Sequent.html#4096" class="InductiveConstructor Operator">∨</a> <a id="7900" href="blog.Sequent.html#7870" class="Bound">Q</a>
    <a id="PropositionalLogic._⊢_.∨-intro-right"></a><a id="7906" href="blog.Sequent.html#7906" class="InductiveConstructor">∨-intro-right</a> <a id="7920" class="Symbol">:</a> <a id="7922" class="Symbol">∀{</a><a id="7924" href="blog.Sequent.html#7924" class="Bound">Γ</a><a id="7925" class="Symbol">}</a> <a id="7927" class="Symbol">{</a><a id="7928" href="blog.Sequent.html#7928" class="Bound">P</a> <a id="7930" href="blog.Sequent.html#7930" class="Bound">Q</a> <a id="7932" class="Symbol">:</a> <a id="7934" href="blog.Sequent.html#4018" class="Datatype">Prop</a><a id="7938" class="Symbol">}</a> <a id="7940" class="Symbol">-&gt;</a> <a id="7943" href="blog.Sequent.html#7924" class="Bound">Γ</a> <a id="7945" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="7947" href="blog.Sequent.html#7930" class="Bound">Q</a> <a id="7949" class="Symbol">-&gt;</a> <a id="7952" href="blog.Sequent.html#7924" class="Bound">Γ</a> <a id="7954" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="7956" href="blog.Sequent.html#7928" class="Bound">P</a> <a id="7958" href="blog.Sequent.html#4096" class="InductiveConstructor Operator">∨</a> <a id="7960" href="blog.Sequent.html#7930" class="Bound">Q</a>
    <a id="7966" class="Comment">-- To use P ∨ Q, it suffices to be able to use both P and Q</a>
    <a id="PropositionalLogic._⊢_.∨-elim"></a><a id="8030" href="blog.Sequent.html#8030" class="InductiveConstructor">∨-elim</a> <a id="8037" class="Symbol">:</a> <a id="8039" class="Symbol">∀{</a><a id="8041" href="blog.Sequent.html#8041" class="Bound">Γ</a> <a id="8043" href="blog.Sequent.html#8043" class="Bound">P</a> <a id="8045" href="blog.Sequent.html#8045" class="Bound">Q</a> <a id="8047" href="blog.Sequent.html#8047" class="Bound">R</a><a id="8048" class="Symbol">}</a> <a id="8050" class="Symbol">-&gt;</a> <a id="8053" href="blog.Sequent.html#8041" class="Bound">Γ</a> <a id="8055" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="8057" href="blog.Sequent.html#8043" class="Bound">P</a> <a id="8059" href="blog.Sequent.html#4096" class="InductiveConstructor Operator">∨</a> <a id="8061" href="blog.Sequent.html#8045" class="Bound">Q</a> <a id="8063" class="Symbol">-&gt;</a> <a id="8066" href="blog.Sequent.html#8041" class="Bound">Γ</a> <a id="8068" href="blog.Sequent.html#4838" class="InductiveConstructor Operator">,</a> <a id="8070" href="blog.Sequent.html#8043" class="Bound">P</a> <a id="8072" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="8074" href="blog.Sequent.html#8047" class="Bound">R</a> <a id="8076" class="Symbol">-&gt;</a> <a id="8079" href="blog.Sequent.html#8041" class="Bound">Γ</a> <a id="8081" href="blog.Sequent.html#4838" class="InductiveConstructor Operator">,</a> <a id="8083" href="blog.Sequent.html#8045" class="Bound">Q</a> <a id="8085" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="8087" href="blog.Sequent.html#8047" class="Bound">R</a> <a id="8089" class="Symbol">-&gt;</a> <a id="8092" href="blog.Sequent.html#8041" class="Bound">Γ</a> <a id="8094" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="8096" href="blog.Sequent.html#8047" class="Bound">R</a>
</pre>


<div id="org652866f" class="figure">
<p><img src="assets/vee-rules.svg" alt="vee-rules.svg" class="org-svg" />
</p>
</div>

<pre class="Agda">
    <a id="8608" class="Comment">-- To prove P ∧ Q, you must prove both P and Q</a>
    <a id="PropositionalLogic._⊢_.∧-intro"></a><a id="8659" href="blog.Sequent.html#8659" class="InductiveConstructor">∧-intro</a> <a id="8667" class="Symbol">:</a> <a id="8669" class="Symbol">∀{</a><a id="8671" href="blog.Sequent.html#8671" class="Bound">Γ</a> <a id="8673" href="blog.Sequent.html#8673" class="Bound">P</a> <a id="8675" href="blog.Sequent.html#8675" class="Bound">Q</a><a id="8676" class="Symbol">}</a> <a id="8678" class="Symbol">-&gt;</a> <a id="8681" href="blog.Sequent.html#8671" class="Bound">Γ</a> <a id="8683" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="8685" href="blog.Sequent.html#8673" class="Bound">P</a> <a id="8687" class="Symbol">-&gt;</a> <a id="8690" href="blog.Sequent.html#8671" class="Bound">Γ</a> <a id="8692" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="8694" href="blog.Sequent.html#8675" class="Bound">Q</a> <a id="8696" class="Symbol">-&gt;</a> <a id="8699" href="blog.Sequent.html#8671" class="Bound">Γ</a> <a id="8701" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="8703" href="blog.Sequent.html#8673" class="Bound">P</a> <a id="8705" href="blog.Sequent.html#4065" class="InductiveConstructor Operator">∧</a> <a id="8707" href="blog.Sequent.html#8675" class="Bound">Q</a>
    <a id="PropositionalLogic._⊢_.∧-elim"></a><a id="8713" href="blog.Sequent.html#8713" class="InductiveConstructor">∧-elim</a> <a id="8720" class="Symbol">:</a> <a id="8722" class="Symbol">∀{</a><a id="8724" href="blog.Sequent.html#8724" class="Bound">Γ</a> <a id="8726" href="blog.Sequent.html#8726" class="Bound">P</a> <a id="8728" href="blog.Sequent.html#8728" class="Bound">Q</a> <a id="8730" href="blog.Sequent.html#8730" class="Bound">R</a><a id="8731" class="Symbol">}</a> <a id="8733" class="Symbol">-&gt;</a> <a id="8736" href="blog.Sequent.html#8724" class="Bound">Γ</a> <a id="8738" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="8740" href="blog.Sequent.html#8726" class="Bound">P</a> <a id="8742" href="blog.Sequent.html#4065" class="InductiveConstructor Operator">∧</a> <a id="8744" href="blog.Sequent.html#8728" class="Bound">Q</a> <a id="8746" class="Symbol">-&gt;</a> <a id="8749" href="blog.Sequent.html#8724" class="Bound">Γ</a> <a id="8751" href="blog.Sequent.html#4838" class="InductiveConstructor Operator">,</a> <a id="8753" href="blog.Sequent.html#8726" class="Bound">P</a> <a id="8755" href="blog.Sequent.html#4838" class="InductiveConstructor Operator">,</a> <a id="8757" href="blog.Sequent.html#8728" class="Bound">Q</a> <a id="8759" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="8761" href="blog.Sequent.html#8730" class="Bound">R</a> <a id="8763" class="Symbol">-&gt;</a> <a id="8766" href="blog.Sequent.html#8724" class="Bound">Γ</a> <a id="8768" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="8770" href="blog.Sequent.html#8730" class="Bound">R</a>
</pre>


<div id="org3c35a56" class="figure">
<p><img src="assets/wedge-rules.svg" alt="wedge-rules.svg" class="org-svg" />
</p>
</div>


<pre class="Agda">
    <a id="PropositionalLogic._⊢_.explosion"></a><a id="9177" href="blog.Sequent.html#9177" class="InductiveConstructor">explosion</a> <a id="9187" class="Symbol">:</a> <a id="9189" class="Symbol">∀{</a><a id="9191" href="blog.Sequent.html#9191" class="Bound">Γ</a> <a id="9193" href="blog.Sequent.html#9193" class="Bound">P</a><a id="9194" class="Symbol">}</a> <a id="9196" class="Symbol">-&gt;</a> <a id="9199" href="blog.Sequent.html#9191" class="Bound">Γ</a> <a id="9201" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="9203" href="blog.Sequent.html#9193" class="Bound">P</a> <a id="9205" href="blog.Sequent.html#4065" class="InductiveConstructor Operator">∧</a> <a id="9207" href="blog.Sequent.html#4127" class="InductiveConstructor Operator">¬</a> <a id="9209" href="blog.Sequent.html#9193" class="Bound">P</a> <a id="9211" class="Symbol">-&gt;</a> <a id="9214" href="blog.Sequent.html#9191" class="Bound">Γ</a> <a id="9216" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="9218" href="blog.Sequent.html#4052" class="InductiveConstructor">⊥</a>
</pre>


<div id="org02710db" class="figure">
<p><img src="assets/explosion.svg" alt="explosion.svg" class="org-svg" />
</p>
</div>


<pre class="Agda">
    <a id="PropositionalLogic._⊢_.excluded-middle"></a><a id="9462" href="blog.Sequent.html#9462" class="InductiveConstructor">excluded-middle</a> <a id="9478" class="Symbol">:</a> <a id="9480" class="Symbol">∀{</a><a id="9482" href="blog.Sequent.html#9482" class="Bound">Γ</a> <a id="9484" href="blog.Sequent.html#9484" class="Bound">P</a><a id="9485" class="Symbol">}</a> <a id="9487" class="Symbol">-&gt;</a> <a id="9490" href="blog.Sequent.html#9482" class="Bound">Γ</a> <a id="9492" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="9494" href="blog.Sequent.html#9484" class="Bound">P</a> <a id="9496" href="blog.Sequent.html#4096" class="InductiveConstructor Operator">∨</a> <a id="9498" href="blog.Sequent.html#4127" class="InductiveConstructor Operator">¬</a> <a id="9500" href="blog.Sequent.html#9484" class="Bound">P</a>
</pre>


<div id="org536ed03" class="figure">
<p><img src="assets/excluded-middle.svg" alt="excluded-middle.svg" class="org-svg" />
</p>
</div>
</div>
</div>

<div id="outline-container-org27e0ff1" class="outline-3">
<h3 id="org27e0ff1"><span class="section-number-3">2.3.</span> Context manipulations and renaming</h3>
<div class="outline-text-3" id="text-2-3">
<p>
Earlier, I said that the <code>hypo</code> deduction rule is sufficient to do any context
manipulation we might want, let's study what that means. Concretely, we want to
verify that renaming or introducing new hypotheses won't change the truth value
of some proposition.
</p>

<p>
First, let's define what a "renaming" is
</p>

<pre class="Agda">
  <a id="PropositionalLogic.Renaming"></a><a id="10073" href="blog.Sequent.html#10073" class="Function">Renaming</a> <a id="10082" class="Symbol">:</a> <a id="10084" href="blog.Sequent.html#4735" class="Datatype">Ctx</a> <a id="10088" class="Symbol">-&gt;</a> <a id="10091" href="blog.Sequent.html#4735" class="Datatype">Ctx</a> <a id="10095" class="Symbol">-&gt;</a> <a id="10098" href="Agda.Primitive.html#388" class="Primitive">Set</a>
  <a id="10104" href="blog.Sequent.html#10073" class="Function">Renaming</a> <a id="10113" href="blog.Sequent.html#10113" class="Bound">Γ</a> <a id="10115" href="blog.Sequent.html#10115" class="Bound">Δ</a> <a id="10117" class="Symbol">=</a> <a id="10119" class="Symbol">∀{</a><a id="10121" href="blog.Sequent.html#10121" class="Bound">P</a><a id="10122" class="Symbol">}</a> <a id="10124" class="Symbol">-&gt;</a> <a id="10127" href="blog.Sequent.html#10113" class="Bound">Γ</a> <a id="10129" href="blog.Sequent.html#5027" class="Datatype Operator">∋</a> <a id="10131" href="blog.Sequent.html#10121" class="Bound">P</a> <a id="10133" class="Symbol">-&gt;</a> <a id="10136" href="blog.Sequent.html#10115" class="Bound">Δ</a> <a id="10138" href="blog.Sequent.html#5027" class="Datatype Operator">∋</a> <a id="10140" href="blog.Sequent.html#10121" class="Bound">P</a>
</pre>

<p>
It is a procedure that, for any proposition present in the old context, tells
you where to find it in the new context. If you think about it, you will notice
that such a renaming:
</p>

<ol class="org-ol">
<li>Can introduce new hypotheses.</li>
<li>Can merge identical hypotheses.</li>
<li>Cannot eliminate hypotheses.</li>
</ol>

<p>
It has exactly the behaviour we would expect from a renaming procedure. Let's
see what we can do to a renaming procedure:
</p>

<pre class="Agda">
  <a id="PropositionalLogic.extend"></a><a id="10578" href="blog.Sequent.html#10578" class="Function">extend</a> <a id="10585" class="Symbol">:</a> <a id="10587" class="Symbol">∀{</a><a id="10589" href="blog.Sequent.html#10589" class="Bound">Γ</a> <a id="10591" href="blog.Sequent.html#10591" class="Bound">Δ</a> <a id="10593" href="blog.Sequent.html#10593" class="Bound">P</a><a id="10594" class="Symbol">}</a> <a id="10596" class="Symbol">-&gt;</a> <a id="10599" href="blog.Sequent.html#10073" class="Function">Renaming</a> <a id="10608" href="blog.Sequent.html#10589" class="Bound">Γ</a> <a id="10610" href="blog.Sequent.html#10591" class="Bound">Δ</a> <a id="10612" class="Symbol">-&gt;</a> <a id="10615" href="blog.Sequent.html#10073" class="Function">Renaming</a> <a id="10624" class="Symbol">(</a><a id="10625" href="blog.Sequent.html#10589" class="Bound">Γ</a> <a id="10627" href="blog.Sequent.html#4838" class="InductiveConstructor Operator">,</a> <a id="10629" href="blog.Sequent.html#10593" class="Bound">P</a><a id="10630" class="Symbol">)</a> <a id="10632" class="Symbol">(</a><a id="10633" href="blog.Sequent.html#10591" class="Bound">Δ</a> <a id="10635" href="blog.Sequent.html#4838" class="InductiveConstructor Operator">,</a> <a id="10637" href="blog.Sequent.html#10593" class="Bound">P</a><a id="10638" class="Symbol">)</a>
  <a id="10642" href="blog.Sequent.html#10578" class="Function">extend</a> <a id="10649" href="blog.Sequent.html#10649" class="Bound">σ</a> <a id="10651" href="blog.Sequent.html#5099" class="InductiveConstructor">here</a> <a id="10656" class="Symbol">=</a> <a id="10658" href="blog.Sequent.html#5099" class="InductiveConstructor">here</a>
  <a id="10665" href="blog.Sequent.html#10578" class="Function">extend</a> <a id="10672" href="blog.Sequent.html#10672" class="Bound">σ</a> <a id="10674" class="Symbol">(</a><a id="10675" href="blog.Sequent.html#5155" class="InductiveConstructor">there</a> <a id="10681" href="blog.Sequent.html#10681" class="Bound">n</a><a id="10682" class="Symbol">)</a> <a id="10684" class="Symbol">=</a> <a id="10686" href="blog.Sequent.html#5155" class="InductiveConstructor">there</a> <a id="10692" class="Symbol">(</a><a id="10693" href="blog.Sequent.html#10672" class="Bound">σ</a> <a id="10695" href="blog.Sequent.html#10681" class="Bound">n</a><a id="10696" class="Symbol">)</a>
</pre>

<p>
This means that when we can rename \( \Gamma \) into \( \Delta \), we can extend this
renaming so that it considers one more hypothesis, but doesn't do anything to
it.
</p>

<p>
Let's see how we can use a renaming procedure
</p>

<pre class="Agda">
  <a id="10945" href="blog.Sequent.html#10945" class="Function">_</a> <a id="10947" class="Symbol">:</a> <a id="10949" class="Symbol">∀{</a><a id="10951" href="blog.Sequent.html#10951" class="Bound">Γ</a> <a id="10953" href="blog.Sequent.html#10953" class="Bound">P</a> <a id="10955" href="blog.Sequent.html#10955" class="Bound">Q</a><a id="10956" class="Symbol">}</a> <a id="10958" class="Symbol">-&gt;</a> <a id="10961" href="blog.Sequent.html#10951" class="Bound">Γ</a> <a id="10963" href="blog.Sequent.html#4838" class="InductiveConstructor Operator">,</a> <a id="10965" href="blog.Sequent.html#10953" class="Bound">P</a> <a id="10967" href="blog.Sequent.html#4838" class="InductiveConstructor Operator">,</a> <a id="10969" href="blog.Sequent.html#10955" class="Bound">Q</a> <a id="10971" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="10973" href="blog.Sequent.html#10953" class="Bound">P</a> <a id="10975" href="blog.Sequent.html#4065" class="InductiveConstructor Operator">∧</a> <a id="10977" href="blog.Sequent.html#10955" class="Bound">Q</a>
  <a id="10981" class="Symbol">_</a> <a id="10983" class="Symbol">=</a> <a id="10985" href="blog.Sequent.html#8659" class="InductiveConstructor">∧-intro</a> <a id="10993" class="Symbol">(</a><a id="10994" href="blog.Sequent.html#6751" class="InductiveConstructor">hypo</a> <a id="10999" class="Symbol">(</a><a id="11000" href="blog.Sequent.html#5155" class="InductiveConstructor">there</a> <a id="11006" href="blog.Sequent.html#5099" class="InductiveConstructor">here</a><a id="11010" class="Symbol">))</a> <a id="11013" class="Symbol">(</a><a id="11014" href="blog.Sequent.html#6751" class="InductiveConstructor">hypo</a> <a id="11019" href="blog.Sequent.html#5099" class="InductiveConstructor">here</a><a id="11023" class="Symbol">)</a>
  
  <a id="PropositionalLogic.rename"></a><a id="11030" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11037" class="Symbol">:</a> <a id="11039" class="Symbol">∀{</a><a id="11041" href="blog.Sequent.html#11041" class="Bound">Γ</a> <a id="11043" href="blog.Sequent.html#11043" class="Bound">Δ</a> <a id="11045" href="blog.Sequent.html#11045" class="Bound">P</a><a id="11046" class="Symbol">}</a> <a id="11048" class="Symbol">-&gt;</a> <a id="11051" href="blog.Sequent.html#10073" class="Function">Renaming</a> <a id="11060" href="blog.Sequent.html#11041" class="Bound">Γ</a> <a id="11062" href="blog.Sequent.html#11043" class="Bound">Δ</a> <a id="11064" class="Symbol">-&gt;</a> <a id="11067" href="blog.Sequent.html#11041" class="Bound">Γ</a> <a id="11069" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="11071" href="blog.Sequent.html#11045" class="Bound">P</a> <a id="11073" class="Symbol">-&gt;</a> <a id="11076" href="blog.Sequent.html#11043" class="Bound">Δ</a> <a id="11078" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="11080" href="blog.Sequent.html#11045" class="Bound">P</a>
  <a id="11084" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11091" href="blog.Sequent.html#11091" class="Bound">σ</a> <a id="11093" class="Symbol">(</a><a id="11094" href="blog.Sequent.html#6751" class="InductiveConstructor">hypo</a> <a id="11099" href="blog.Sequent.html#11099" class="Bound">x</a><a id="11100" class="Symbol">)</a> <a id="11102" class="Symbol">=</a> <a id="11104" href="blog.Sequent.html#6751" class="InductiveConstructor">hypo</a> <a id="11109" class="Symbol">(</a><a id="11110" href="blog.Sequent.html#11091" class="Bound">σ</a> <a id="11112" href="blog.Sequent.html#11099" class="Bound">x</a><a id="11113" class="Symbol">)</a>
  <a id="11117" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11124" href="blog.Sequent.html#11124" class="Bound">σ</a> <a id="11126" href="blog.Sequent.html#7069" class="InductiveConstructor">⊤-intro</a> <a id="11134" class="Symbol">=</a> <a id="11136" href="blog.Sequent.html#7069" class="InductiveConstructor">⊤-intro</a>
  <a id="11146" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11153" href="blog.Sequent.html#11153" class="Bound">σ</a> <a id="11155" class="Symbol">(</a><a id="11156" href="blog.Sequent.html#7336" class="InductiveConstructor">⊤-elim</a> <a id="11163" href="blog.Sequent.html#11163" class="Bound">p</a> <a id="11165" href="blog.Sequent.html#11165" class="Bound">q</a><a id="11166" class="Symbol">)</a> <a id="11168" class="Symbol">=</a> <a id="11170" href="blog.Sequent.html#7336" class="InductiveConstructor">⊤-elim</a> <a id="11177" class="Symbol">(</a><a id="11178" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11185" href="blog.Sequent.html#11153" class="Bound">σ</a> <a id="11187" href="blog.Sequent.html#11163" class="Bound">p</a><a id="11188" class="Symbol">)</a> <a id="11190" class="Symbol">(</a><a id="11191" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11198" class="Symbol">(</a><a id="11199" href="blog.Sequent.html#10578" class="Function">extend</a> <a id="11206" href="blog.Sequent.html#11153" class="Bound">σ</a><a id="11207" class="Symbol">)</a> <a id="11209" href="blog.Sequent.html#11165" class="Bound">q</a><a id="11210" class="Symbol">)</a>
  <a id="11214" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11221" href="blog.Sequent.html#11221" class="Bound">σ</a> <a id="11223" class="Symbol">(</a><a id="11224" href="blog.Sequent.html#7484" class="InductiveConstructor">⊥-elim</a> <a id="11231" href="blog.Sequent.html#11231" class="Bound">p</a><a id="11232" class="Symbol">)</a> <a id="11234" class="Symbol">=</a> <a id="11236" href="blog.Sequent.html#7484" class="InductiveConstructor">⊥-elim</a> <a id="11243" class="Symbol">(</a><a id="11244" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11251" href="blog.Sequent.html#11221" class="Bound">σ</a> <a id="11253" href="blog.Sequent.html#11231" class="Bound">p</a><a id="11254" class="Symbol">)</a>
  <a id="11258" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11265" href="blog.Sequent.html#11265" class="Bound">σ</a> <a id="11267" class="Symbol">(</a><a id="11268" href="blog.Sequent.html#7847" class="InductiveConstructor">∨-intro-left</a> <a id="11281" href="blog.Sequent.html#11281" class="Bound">p</a><a id="11282" class="Symbol">)</a> <a id="11284" class="Symbol">=</a> <a id="11286" href="blog.Sequent.html#7847" class="InductiveConstructor">∨-intro-left</a> <a id="11299" class="Symbol">(</a><a id="11300" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11307" href="blog.Sequent.html#11265" class="Bound">σ</a> <a id="11309" href="blog.Sequent.html#11281" class="Bound">p</a><a id="11310" class="Symbol">)</a>
  <a id="11314" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11321" href="blog.Sequent.html#11321" class="Bound">σ</a> <a id="11323" class="Symbol">(</a><a id="11324" href="blog.Sequent.html#7906" class="InductiveConstructor">∨-intro-right</a> <a id="11338" href="blog.Sequent.html#11338" class="Bound">p</a><a id="11339" class="Symbol">)</a> <a id="11341" class="Symbol">=</a> <a id="11343" href="blog.Sequent.html#7906" class="InductiveConstructor">∨-intro-right</a> <a id="11357" class="Symbol">(</a><a id="11358" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11365" href="blog.Sequent.html#11321" class="Bound">σ</a> <a id="11367" href="blog.Sequent.html#11338" class="Bound">p</a><a id="11368" class="Symbol">)</a>
  <a id="11372" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11379" href="blog.Sequent.html#11379" class="Bound">σ</a> <a id="11381" class="Symbol">(</a><a id="11382" href="blog.Sequent.html#8030" class="InductiveConstructor">∨-elim</a> <a id="11389" href="blog.Sequent.html#11389" class="Bound">s</a> <a id="11391" href="blog.Sequent.html#11391" class="Bound">p</a> <a id="11393" href="blog.Sequent.html#11393" class="Bound">q</a><a id="11394" class="Symbol">)</a> <a id="11396" class="Symbol">=</a> <a id="11398" href="blog.Sequent.html#8030" class="InductiveConstructor">∨-elim</a> <a id="11405" class="Symbol">(</a><a id="11406" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11413" href="blog.Sequent.html#11379" class="Bound">σ</a> <a id="11415" href="blog.Sequent.html#11389" class="Bound">s</a><a id="11416" class="Symbol">)</a> <a id="11418" class="Symbol">(</a><a id="11419" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11426" class="Symbol">(</a><a id="11427" href="blog.Sequent.html#10578" class="Function">extend</a> <a id="11434" href="blog.Sequent.html#11379" class="Bound">σ</a><a id="11435" class="Symbol">)</a> <a id="11437" href="blog.Sequent.html#11391" class="Bound">p</a><a id="11438" class="Symbol">)</a> <a id="11440" class="Symbol">(</a><a id="11441" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11448" class="Symbol">(</a><a id="11449" href="blog.Sequent.html#10578" class="Function">extend</a> <a id="11456" href="blog.Sequent.html#11379" class="Bound">σ</a><a id="11457" class="Symbol">)</a> <a id="11459" href="blog.Sequent.html#11393" class="Bound">q</a><a id="11460" class="Symbol">)</a>
  <a id="11464" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11471" href="blog.Sequent.html#11471" class="Bound">σ</a> <a id="11473" class="Symbol">(</a><a id="11474" href="blog.Sequent.html#8659" class="InductiveConstructor">∧-intro</a> <a id="11482" href="blog.Sequent.html#11482" class="Bound">p</a> <a id="11484" href="blog.Sequent.html#11484" class="Bound">q</a><a id="11485" class="Symbol">)</a> <a id="11487" class="Symbol">=</a> <a id="11489" href="blog.Sequent.html#8659" class="InductiveConstructor">∧-intro</a> <a id="11497" class="Symbol">(</a><a id="11498" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11505" href="blog.Sequent.html#11471" class="Bound">σ</a> <a id="11507" href="blog.Sequent.html#11482" class="Bound">p</a><a id="11508" class="Symbol">)</a> <a id="11510" class="Symbol">(</a><a id="11511" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11518" href="blog.Sequent.html#11471" class="Bound">σ</a> <a id="11520" href="blog.Sequent.html#11484" class="Bound">q</a><a id="11521" class="Symbol">)</a>
  <a id="11525" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11532" href="blog.Sequent.html#11532" class="Bound">σ</a> <a id="11534" class="Symbol">(</a><a id="11535" href="blog.Sequent.html#8713" class="InductiveConstructor">∧-elim</a> <a id="11542" href="blog.Sequent.html#11542" class="Bound">s</a> <a id="11544" href="blog.Sequent.html#11544" class="Bound">p</a><a id="11545" class="Symbol">)</a> <a id="11547" class="Symbol">=</a> <a id="11549" href="blog.Sequent.html#8713" class="InductiveConstructor">∧-elim</a> <a id="11556" class="Symbol">(</a><a id="11557" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11564" href="blog.Sequent.html#11532" class="Bound">σ</a> <a id="11566" href="blog.Sequent.html#11542" class="Bound">s</a><a id="11567" class="Symbol">)</a> <a id="11569" class="Symbol">(</a><a id="11570" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11577" class="Symbol">(</a><a id="11578" href="blog.Sequent.html#10578" class="Function">extend</a> <a id="11585" class="Symbol">(</a><a id="11586" href="blog.Sequent.html#10578" class="Function">extend</a> <a id="11593" href="blog.Sequent.html#11532" class="Bound">σ</a><a id="11594" class="Symbol">))</a> <a id="11597" href="blog.Sequent.html#11544" class="Bound">p</a><a id="11598" class="Symbol">)</a>
  <a id="11602" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11609" href="blog.Sequent.html#11609" class="Bound">σ</a> <a id="11611" class="Symbol">(</a><a id="11612" href="blog.Sequent.html#9177" class="InductiveConstructor">explosion</a> <a id="11622" href="blog.Sequent.html#11622" class="Bound">p</a><a id="11623" class="Symbol">)</a> <a id="11625" class="Symbol">=</a> <a id="11627" href="blog.Sequent.html#9177" class="InductiveConstructor">explosion</a> <a id="11637" class="Symbol">(</a><a id="11638" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11645" href="blog.Sequent.html#11609" class="Bound">σ</a> <a id="11647" href="blog.Sequent.html#11622" class="Bound">p</a><a id="11648" class="Symbol">)</a>
  <a id="11652" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="11659" href="blog.Sequent.html#11659" class="Bound">σ</a> <a id="11661" href="blog.Sequent.html#9462" class="InductiveConstructor">excluded-middle</a> <a id="11677" class="Symbol">=</a> <a id="11679" href="blog.Sequent.html#9462" class="InductiveConstructor">excluded-middle</a>
</pre>

<p>
Now that we know how to manipulate contexts, we can use that to define (strictly
in terms of our already-existing connectives) an implication operator.
</p>
</div>
</div>

<div id="outline-container-org5ac88b5" class="outline-3">
<h3 id="org5ac88b5"><span class="section-number-3">2.4.</span> Defining \( \Rightarrow \)</h3>
<div class="outline-text-3" id="text-2-4">
<pre class="Agda">
  <a id="PropositionalLogic._=&gt;_"></a><a id="11910" href="blog.Sequent.html#11910" class="Function Operator">_=&gt;_</a> <a id="11915" class="Symbol">:</a> <a id="11917" href="blog.Sequent.html#4018" class="Datatype">Prop</a> <a id="11922" class="Symbol">-&gt;</a> <a id="11925" href="blog.Sequent.html#4018" class="Datatype">Prop</a> <a id="11930" class="Symbol">-&gt;</a> <a id="11933" href="blog.Sequent.html#4018" class="Datatype">Prop</a>
  <a id="11940" href="blog.Sequent.html#11940" class="Bound">P</a> <a id="11942" href="blog.Sequent.html#11910" class="Function Operator">=&gt;</a> <a id="11945" href="blog.Sequent.html#11945" class="Bound">Q</a> <a id="11947" class="Symbol">=</a> <a id="11949" href="blog.Sequent.html#4127" class="InductiveConstructor Operator">¬</a> <a id="11951" href="blog.Sequent.html#11940" class="Bound">P</a> <a id="11953" href="blog.Sequent.html#4096" class="InductiveConstructor Operator">∨</a> <a id="11955" href="blog.Sequent.html#11945" class="Bound">Q</a>
</pre>

<p>
and show that it behaves as expected
</p>

<pre class="Agda">
  <a id="PropositionalLogic.=&gt;-intro"></a><a id="12026" href="blog.Sequent.html#12026" class="Function">=&gt;-intro</a> <a id="12035" class="Symbol">:</a> <a id="12037" class="Symbol">∀{</a><a id="12039" href="blog.Sequent.html#12039" class="Bound">Γ</a> <a id="12041" href="blog.Sequent.html#12041" class="Bound">P</a> <a id="12043" href="blog.Sequent.html#12043" class="Bound">Q</a><a id="12044" class="Symbol">}</a> <a id="12046" class="Symbol">-&gt;</a> <a id="12049" href="blog.Sequent.html#12039" class="Bound">Γ</a> <a id="12051" href="blog.Sequent.html#4838" class="InductiveConstructor Operator">,</a> <a id="12053" href="blog.Sequent.html#12041" class="Bound">P</a> <a id="12055" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="12057" href="blog.Sequent.html#12043" class="Bound">Q</a> <a id="12059" class="Symbol">-&gt;</a> <a id="12062" href="blog.Sequent.html#12039" class="Bound">Γ</a> <a id="12064" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="12066" class="Symbol">(</a><a id="12067" href="blog.Sequent.html#12041" class="Bound">P</a> <a id="12069" href="blog.Sequent.html#11910" class="Function Operator">=&gt;</a> <a id="12072" href="blog.Sequent.html#12043" class="Bound">Q</a><a id="12073" class="Symbol">)</a>
  <a id="12077" href="blog.Sequent.html#12026" class="Function">=&gt;-intro</a> <a id="12086" class="Symbol">{</a><a id="12087" class="Argument">P</a> <a id="12089" class="Symbol">=</a> <a id="12091" href="blog.Sequent.html#12091" class="Bound">P</a><a id="12092" class="Symbol">}</a> <a id="12094" href="blog.Sequent.html#12094" class="Bound">t</a> <a id="12096" class="Symbol">=</a> <a id="12098" href="blog.Sequent.html#8030" class="InductiveConstructor">∨-elim</a> <a id="12105" class="Symbol">(</a><a id="12106" href="blog.Sequent.html#9462" class="InductiveConstructor">excluded-middle</a> <a id="12122" class="Symbol">{</a><a id="12123" class="Argument">P</a> <a id="12125" class="Symbol">=</a> <a id="12127" href="blog.Sequent.html#12091" class="Bound">P</a><a id="12128" class="Symbol">})</a> <a id="12131" class="Symbol">(</a><a id="12132" href="blog.Sequent.html#7906" class="InductiveConstructor">∨-intro-right</a> <a id="12146" href="blog.Sequent.html#12094" class="Bound">t</a><a id="12147" class="Symbol">)</a> <a id="12149" class="Symbol">(</a><a id="12150" href="blog.Sequent.html#7847" class="InductiveConstructor">∨-intro-left</a> <a id="12163" class="Symbol">(</a><a id="12164" href="blog.Sequent.html#6751" class="InductiveConstructor">hypo</a> <a id="12169" href="blog.Sequent.html#5099" class="InductiveConstructor">here</a><a id="12173" class="Symbol">))</a>

  <a id="PropositionalLogic.=&gt;-elim"></a><a id="12179" href="blog.Sequent.html#12179" class="Function">=&gt;-elim</a> <a id="12187" class="Symbol">:</a> <a id="12189" class="Symbol">∀{</a><a id="12191" href="blog.Sequent.html#12191" class="Bound">Γ</a> <a id="12193" href="blog.Sequent.html#12193" class="Bound">P</a> <a id="12195" href="blog.Sequent.html#12195" class="Bound">Q</a><a id="12196" class="Symbol">}</a> <a id="12198" class="Symbol">-&gt;</a> <a id="12201" href="blog.Sequent.html#12191" class="Bound">Γ</a> <a id="12203" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="12205" class="Symbol">(</a><a id="12206" href="blog.Sequent.html#12193" class="Bound">P</a> <a id="12208" href="blog.Sequent.html#11910" class="Function Operator">=&gt;</a> <a id="12211" href="blog.Sequent.html#12195" class="Bound">Q</a><a id="12212" class="Symbol">)</a> <a id="12214" class="Symbol">-&gt;</a> <a id="12217" href="blog.Sequent.html#12191" class="Bound">Γ</a> <a id="12219" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="12221" href="blog.Sequent.html#12193" class="Bound">P</a> <a id="12223" class="Symbol">-&gt;</a> <a id="12226" href="blog.Sequent.html#12191" class="Bound">Γ</a> <a id="12228" href="blog.Sequent.html#6716" class="Datatype Operator">⊢</a> <a id="12230" href="blog.Sequent.html#12195" class="Bound">Q</a>
  <a id="12234" href="blog.Sequent.html#12179" class="Function">=&gt;-elim</a> <a id="12242" href="blog.Sequent.html#12242" class="Bound">P=&gt;Q</a> <a id="12247" href="blog.Sequent.html#12247" class="Bound">P</a> <a id="12249" class="Symbol">=</a>
    <a id="12255" href="blog.Sequent.html#8030" class="InductiveConstructor">∨-elim</a> <a id="12262" href="blog.Sequent.html#12242" class="Bound">P=&gt;Q</a>
           <a id="12278" class="Symbol">(</a><a id="12279" href="blog.Sequent.html#7484" class="InductiveConstructor">⊥-elim</a> <a id="12286" class="Symbol">(</a><a id="12287" href="blog.Sequent.html#9177" class="InductiveConstructor">explosion</a> <a id="12297" class="Symbol">(</a><a id="12298" href="blog.Sequent.html#8659" class="InductiveConstructor">∧-intro</a> <a id="12306" class="Symbol">(</a><a id="12307" href="blog.Sequent.html#11030" class="Function">rename</a> <a id="12314" href="blog.Sequent.html#5155" class="InductiveConstructor">there</a> <a id="12320" href="blog.Sequent.html#12247" class="Bound">P</a><a id="12321" class="Symbol">)</a>
                                       <a id="12362" class="Symbol">(</a><a id="12363" href="blog.Sequent.html#6751" class="InductiveConstructor">hypo</a> <a id="12368" href="blog.Sequent.html#5099" class="InductiveConstructor">here</a><a id="12372" class="Symbol">))))</a>
           <a id="12388" class="Symbol">(</a><a id="12389" href="blog.Sequent.html#6751" class="InductiveConstructor">hypo</a> <a id="12394" href="blog.Sequent.html#5099" class="InductiveConstructor">here</a><a id="12398" class="Symbol">)</a>
</pre>


<div id="org9b73161" class="figure">
<p><img src="assets/impl-rules.svg" alt="impl-rules.svg" class="org-svg" />
</p>
</div>

<p>
Such rules that can be derived without adding new ones are called admissible.
</p>

<p>
Notice that the Agda version of the proofs are quite hard to read, especially
because unlike me, you don't have access to the <a href="https://agda.readthedocs.io/en/v2.7.0.1/language/lexical-structure.html#holes">holes</a> and intermediate proof
states. However, the sequent calculus versions are more visual and give you
every intermediate proof state.
</p>
</div>
</div>
</div>

<div id="outline-container-org24fddb7" class="outline-2">
<h2 id="org24fddb7"><span class="section-number-2">3.</span> Simply typed lambda calculus</h2>
<div class="outline-text-2" id="text-3">
<pre class="Agda">
<a id="13910" class="Keyword">module</a> <a id="STLC"></a><a id="13917" href="blog.Sequent.html#13917" class="Module">STLC</a> <a id="13922" class="Keyword">where</a>
  <a id="13930" class="Keyword">open</a> <a id="13935" class="Keyword">import</a> <a id="13942" href="Terra.Data.Sigma.html" class="Module">Terra.Data.Sigma</a>
    <a id="13963" class="Keyword">renaming</a> <a id="13972" class="Symbol">(</a><a id="13973" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="13977" class="Symbol">to</a> <a id="13980" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="13985" class="Symbol">)</a>
  <a id="13989" class="Keyword">open</a> <a id="13994" class="Keyword">import</a> <a id="14001" href="Terra.Data.Sigma.Syntax.html" class="Module">Terra.Data.Sigma.Syntax</a>
  <a id="14027" class="Keyword">open</a> <a id="14032" class="Keyword">import</a> <a id="14039" href="Terra.Data.Negation.html" class="Module">Terra.Data.Negation</a>

  <a id="14062" class="Keyword">infixr</a> <a id="14069" class="Number">4</a> <a id="14071" href="blog.Sequent.html#14784" class="InductiveConstructor Operator">_=&gt;_</a>
  <a id="14078" class="Keyword">infixl</a> <a id="14085" class="Number">6</a> <a id="14087" href="blog.Sequent.html#14816" class="InductiveConstructor Operator">_×_</a>
  <a id="14093" class="Keyword">infixl</a> <a id="14100" class="Number">5</a> <a id="14102" href="blog.Sequent.html#14847" class="InductiveConstructor Operator">_+_</a>
  <a id="14108" class="Keyword">infixl</a> <a id="14115" class="Number">4</a> <a id="14117" href="blog.Sequent.html#14983" class="InductiveConstructor Operator">_,_</a>
  <a id="14123" class="Keyword">infix</a> <a id="14129" class="Number">3</a> <a id="14131" href="blog.Sequent.html#15016" class="Datatype Operator">_∋_</a> <a id="14135" href="blog.Sequent.html#15167" class="Datatype Operator">_⊢_</a>
</pre>

<p>
You might know about a thing called the <a href="https://en.wikipedia.org/wiki/Curry%E2%80%93Howard_correspondence">Curry Howard correspondance</a>. It is name
given to the observation type systems are like logics and that programs are like
proofs. It turns out that the type system of the simply typed lambda calculus,
when translated into a logic, gives us intuitionistic propositional logic.
</p>

<p>
Let's quickly define the language of types (very similar to propositions in the
propositional logic we defined earlier). Everything is pretty much the same.
</p>
</div>

<div id="outline-container-org756257a" class="outline-3">
<h3 id="org756257a"><span class="section-number-3">3.1.</span> Types</h3>
<div class="outline-text-3" id="text-3-1">
<pre class="Agda">
  <a id="14725" class="Keyword">data</a> <a id="STLC.Type"></a><a id="14730" href="blog.Sequent.html#14730" class="Datatype">Type</a> <a id="14735" class="Symbol">:</a> <a id="14737" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="14741" class="Keyword">where</a>
    <a id="STLC.Type.Unit"></a><a id="14751" href="blog.Sequent.html#14751" class="InductiveConstructor">Unit</a> <a id="14756" class="Symbol">:</a> <a id="14758" href="blog.Sequent.html#14730" class="Datatype">Type</a>
    <a id="STLC.Type.Null"></a><a id="14767" href="blog.Sequent.html#14767" class="InductiveConstructor">Null</a> <a id="14772" class="Symbol">:</a> <a id="14774" href="blog.Sequent.html#14730" class="Datatype">Type</a>

    <a id="STLC.Type._=&gt;_"></a><a id="14784" href="blog.Sequent.html#14784" class="InductiveConstructor Operator">_=&gt;_</a> <a id="14789" class="Symbol">:</a> <a id="14791" href="blog.Sequent.html#14730" class="Datatype">Type</a> <a id="14796" class="Symbol">-&gt;</a> <a id="14799" href="blog.Sequent.html#14730" class="Datatype">Type</a> <a id="14804" class="Symbol">-&gt;</a> <a id="14807" href="blog.Sequent.html#14730" class="Datatype">Type</a>
    <a id="STLC.Type._×_"></a><a id="14816" href="blog.Sequent.html#14816" class="InductiveConstructor Operator">_×_</a> <a id="14820" class="Symbol">:</a> <a id="14822" href="blog.Sequent.html#14730" class="Datatype">Type</a> <a id="14827" class="Symbol">-&gt;</a> <a id="14830" href="blog.Sequent.html#14730" class="Datatype">Type</a> <a id="14835" class="Symbol">-&gt;</a> <a id="14838" href="blog.Sequent.html#14730" class="Datatype">Type</a>
    <a id="STLC.Type._+_"></a><a id="14847" href="blog.Sequent.html#14847" class="InductiveConstructor Operator">_+_</a> <a id="14851" class="Symbol">:</a> <a id="14853" href="blog.Sequent.html#14730" class="Datatype">Type</a> <a id="14858" class="Symbol">-&gt;</a> <a id="14861" href="blog.Sequent.html#14730" class="Datatype">Type</a> <a id="14866" class="Symbol">-&gt;</a> <a id="14869" href="blog.Sequent.html#14730" class="Datatype">Type</a>

    <a id="STLC.Type.ℕ"></a><a id="14879" href="blog.Sequent.html#14879" class="InductiveConstructor">ℕ</a> <a id="14881" class="Symbol">:</a> <a id="14883" href="blog.Sequent.html#14730" class="Datatype">Type</a>
</pre>
</div>
</div>

<div id="outline-container-orgeee8b0c" class="outline-3">
<h3 id="orgeee8b0c"><span class="section-number-3">3.2.</span> Context and references</h3>
<div class="outline-text-3" id="text-3-2">
<pre class="Agda">
  <a id="14946" class="Keyword">data</a> <a id="STLC.Ctx"></a><a id="14951" href="blog.Sequent.html#14951" class="Datatype">Ctx</a> <a id="14955" class="Symbol">:</a> <a id="14957" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="14961" class="Keyword">where</a>
    <a id="STLC.Ctx.·"></a><a id="14971" href="blog.Sequent.html#14971" class="InductiveConstructor">·</a> <a id="14973" class="Symbol">:</a> <a id="14975" href="blog.Sequent.html#14951" class="Datatype">Ctx</a>
    <a id="STLC.Ctx._,_"></a><a id="14983" href="blog.Sequent.html#14983" class="InductiveConstructor Operator">_,_</a> <a id="14987" class="Symbol">:</a> <a id="14989" href="blog.Sequent.html#14951" class="Datatype">Ctx</a> <a id="14993" class="Symbol">-&gt;</a> <a id="14996" href="blog.Sequent.html#14730" class="Datatype">Type</a> <a id="15001" class="Symbol">-&gt;</a> <a id="15004" href="blog.Sequent.html#14951" class="Datatype">Ctx</a>

  <a id="15011" class="Keyword">data</a> <a id="STLC._∋_"></a><a id="15016" href="blog.Sequent.html#15016" class="Datatype Operator">_∋_</a> <a id="15020" class="Symbol">:</a> <a id="15022" href="blog.Sequent.html#14951" class="Datatype">Ctx</a> <a id="15026" class="Symbol">-&gt;</a> <a id="15029" href="blog.Sequent.html#14730" class="Datatype">Type</a> <a id="15034" class="Symbol">-&gt;</a> <a id="15037" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="15041" class="Keyword">where</a>
    <a id="STLC._∋_.here"></a><a id="15051" href="blog.Sequent.html#15051" class="InductiveConstructor">here</a> <a id="15056" class="Symbol">:</a> <a id="15058" class="Symbol">∀{</a><a id="15060" href="blog.Sequent.html#15060" class="Bound">Γ</a> <a id="15062" href="blog.Sequent.html#15062" class="Bound">T</a><a id="15063" class="Symbol">}</a> <a id="15065" class="Symbol">-&gt;</a> <a id="15068" href="blog.Sequent.html#15060" class="Bound">Γ</a> <a id="15070" href="blog.Sequent.html#14983" class="InductiveConstructor Operator">,</a> <a id="15072" href="blog.Sequent.html#15062" class="Bound">T</a> <a id="15074" href="blog.Sequent.html#15016" class="Datatype Operator">∋</a> <a id="15076" href="blog.Sequent.html#15062" class="Bound">T</a>
    <a id="STLC._∋_.there"></a><a id="15082" href="blog.Sequent.html#15082" class="InductiveConstructor">there</a> <a id="15088" class="Symbol">:</a> <a id="15090" class="Symbol">∀{</a><a id="15092" href="blog.Sequent.html#15092" class="Bound">Γ</a> <a id="15094" href="blog.Sequent.html#15094" class="Bound">S</a> <a id="15096" href="blog.Sequent.html#15096" class="Bound">T</a><a id="15097" class="Symbol">}</a> <a id="15099" class="Symbol">-&gt;</a> <a id="15102" href="blog.Sequent.html#15092" class="Bound">Γ</a> <a id="15104" href="blog.Sequent.html#15016" class="Datatype Operator">∋</a> <a id="15106" href="blog.Sequent.html#15096" class="Bound">T</a> <a id="15108" class="Symbol">-&gt;</a> <a id="15111" href="blog.Sequent.html#15092" class="Bound">Γ</a> <a id="15113" href="blog.Sequent.html#14983" class="InductiveConstructor Operator">,</a> <a id="15115" href="blog.Sequent.html#15094" class="Bound">S</a> <a id="15117" href="blog.Sequent.html#15016" class="Datatype Operator">∋</a> <a id="15119" href="blog.Sequent.html#15096" class="Bound">T</a>
</pre>
</div>
</div>

<div id="outline-container-orge3bf212" class="outline-3">
<h3 id="orge3bf212"><span class="section-number-3">3.3.</span> Terms</h3>
<div class="outline-text-3" id="text-3-3">
<pre class="Agda">
  <a id="15162" class="Keyword">data</a> <a id="STLC._⊢_"></a><a id="15167" href="blog.Sequent.html#15167" class="Datatype Operator">_⊢_</a> <a id="15171" class="Symbol">:</a> <a id="15173" href="blog.Sequent.html#14951" class="Datatype">Ctx</a> <a id="15177" class="Symbol">-&gt;</a> <a id="15180" href="blog.Sequent.html#14730" class="Datatype">Type</a> <a id="15185" class="Symbol">-&gt;</a> <a id="15188" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="15192" class="Keyword">where</a>
    <a id="STLC._⊢_.var"></a><a id="15202" href="blog.Sequent.html#15202" class="InductiveConstructor">var</a> <a id="15206" class="Symbol">:</a> <a id="15208" class="Symbol">∀{</a><a id="15210" href="blog.Sequent.html#15210" class="Bound">Γ</a> <a id="15212" href="blog.Sequent.html#15212" class="Bound">T</a><a id="15213" class="Symbol">}</a> <a id="15215" class="Symbol">-&gt;</a> <a id="15218" href="blog.Sequent.html#15210" class="Bound">Γ</a> <a id="15220" href="blog.Sequent.html#15016" class="Datatype Operator">∋</a> <a id="15222" href="blog.Sequent.html#15212" class="Bound">T</a> <a id="15224" class="Symbol">-&gt;</a> <a id="15227" href="blog.Sequent.html#15210" class="Bound">Γ</a> <a id="15229" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15231" href="blog.Sequent.html#15212" class="Bound">T</a>

    <a id="STLC._⊢_.unit-intro"></a><a id="15238" href="blog.Sequent.html#15238" class="InductiveConstructor">unit-intro</a> <a id="15249" class="Symbol">:</a> <a id="15251" class="Symbol">∀{</a><a id="15253" href="blog.Sequent.html#15253" class="Bound">Γ</a><a id="15254" class="Symbol">}</a> <a id="15256" class="Symbol">-&gt;</a> <a id="15259" href="blog.Sequent.html#15253" class="Bound">Γ</a> <a id="15261" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15263" href="blog.Sequent.html#14751" class="InductiveConstructor">Unit</a>
    <a id="STLC._⊢_.null-elim"></a><a id="15272" href="blog.Sequent.html#15272" class="InductiveConstructor">null-elim</a> <a id="15282" class="Symbol">:</a> <a id="15284" class="Symbol">∀{</a><a id="15286" href="blog.Sequent.html#15286" class="Bound">Γ</a> <a id="15288" href="blog.Sequent.html#15288" class="Bound">T</a><a id="15289" class="Symbol">}</a> <a id="15291" class="Symbol">-&gt;</a> <a id="15294" href="blog.Sequent.html#15286" class="Bound">Γ</a> <a id="15296" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15298" href="blog.Sequent.html#14767" class="InductiveConstructor">Null</a> <a id="15303" class="Symbol">-&gt;</a> <a id="15306" href="blog.Sequent.html#15286" class="Bound">Γ</a> <a id="15308" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15310" href="blog.Sequent.html#15288" class="Bound">T</a>

    <a id="15317" class="Comment">-- also known as =&gt;-intro or even λ</a>
    <a id="STLC._⊢_.abs"></a><a id="15357" href="blog.Sequent.html#15357" class="InductiveConstructor">abs</a> <a id="15361" class="Symbol">:</a> <a id="15363" class="Symbol">∀{</a><a id="15365" href="blog.Sequent.html#15365" class="Bound">Γ</a> <a id="15367" href="blog.Sequent.html#15367" class="Bound">S</a> <a id="15369" href="blog.Sequent.html#15369" class="Bound">T</a><a id="15370" class="Symbol">}</a> <a id="15372" class="Symbol">-&gt;</a> <a id="15375" href="blog.Sequent.html#15365" class="Bound">Γ</a> <a id="15377" href="blog.Sequent.html#14983" class="InductiveConstructor Operator">,</a> <a id="15379" href="blog.Sequent.html#15367" class="Bound">S</a> <a id="15381" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15383" href="blog.Sequent.html#15369" class="Bound">T</a> <a id="15385" class="Symbol">-&gt;</a> <a id="15388" href="blog.Sequent.html#15365" class="Bound">Γ</a> <a id="15390" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15392" class="Symbol">(</a><a id="15393" href="blog.Sequent.html#15367" class="Bound">S</a> <a id="15395" href="blog.Sequent.html#14784" class="InductiveConstructor Operator">=&gt;</a> <a id="15398" href="blog.Sequent.html#15369" class="Bound">T</a><a id="15399" class="Symbol">)</a>
    <a id="15405" class="Comment">-- also known as =&gt;-elim</a>
    <a id="STLC._⊢_.app"></a><a id="15434" href="blog.Sequent.html#15434" class="InductiveConstructor">app</a> <a id="15438" class="Symbol">:</a> <a id="15440" class="Symbol">∀{</a><a id="15442" href="blog.Sequent.html#15442" class="Bound">Γ</a> <a id="15444" href="blog.Sequent.html#15444" class="Bound">S</a> <a id="15446" href="blog.Sequent.html#15446" class="Bound">T</a><a id="15447" class="Symbol">}</a> <a id="15449" class="Symbol">-&gt;</a> <a id="15452" href="blog.Sequent.html#15442" class="Bound">Γ</a> <a id="15454" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15456" class="Symbol">(</a><a id="15457" href="blog.Sequent.html#15444" class="Bound">S</a> <a id="15459" href="blog.Sequent.html#14784" class="InductiveConstructor Operator">=&gt;</a> <a id="15462" href="blog.Sequent.html#15446" class="Bound">T</a><a id="15463" class="Symbol">)</a> <a id="15465" class="Symbol">-&gt;</a> <a id="15468" href="blog.Sequent.html#15442" class="Bound">Γ</a> <a id="15470" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15472" href="blog.Sequent.html#15444" class="Bound">S</a> <a id="15474" class="Symbol">-&gt;</a> <a id="15477" href="blog.Sequent.html#15442" class="Bound">Γ</a> <a id="15479" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15481" href="blog.Sequent.html#15446" class="Bound">T</a>

    <a id="STLC._⊢_.×-intro"></a><a id="15488" href="blog.Sequent.html#15488" class="InductiveConstructor">×-intro</a> <a id="15496" class="Symbol">:</a> <a id="15498" class="Symbol">∀{</a><a id="15500" href="blog.Sequent.html#15500" class="Bound">Γ</a> <a id="15502" href="blog.Sequent.html#15502" class="Bound">S</a> <a id="15504" href="blog.Sequent.html#15504" class="Bound">T</a><a id="15505" class="Symbol">}</a> <a id="15507" class="Symbol">-&gt;</a> <a id="15510" href="blog.Sequent.html#15500" class="Bound">Γ</a> <a id="15512" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15514" href="blog.Sequent.html#15502" class="Bound">S</a> <a id="15516" class="Symbol">-&gt;</a> <a id="15519" href="blog.Sequent.html#15500" class="Bound">Γ</a> <a id="15521" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15523" href="blog.Sequent.html#15504" class="Bound">T</a> <a id="15525" class="Symbol">-&gt;</a> <a id="15528" href="blog.Sequent.html#15500" class="Bound">Γ</a> <a id="15530" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15532" href="blog.Sequent.html#15502" class="Bound">S</a> <a id="15534" href="blog.Sequent.html#14816" class="InductiveConstructor Operator">×</a> <a id="15536" href="blog.Sequent.html#15504" class="Bound">T</a>
    <a id="STLC._⊢_.×-elim"></a><a id="15542" href="blog.Sequent.html#15542" class="InductiveConstructor">×-elim</a> <a id="15549" class="Symbol">:</a> <a id="15551" class="Symbol">∀{</a><a id="15553" href="blog.Sequent.html#15553" class="Bound">Γ</a> <a id="15555" href="blog.Sequent.html#15555" class="Bound">S</a> <a id="15557" href="blog.Sequent.html#15557" class="Bound">T</a> <a id="15559" href="blog.Sequent.html#15559" class="Bound">U</a><a id="15560" class="Symbol">}</a> <a id="15562" class="Symbol">-&gt;</a> <a id="15565" href="blog.Sequent.html#15553" class="Bound">Γ</a> <a id="15567" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15569" href="blog.Sequent.html#15555" class="Bound">S</a> <a id="15571" href="blog.Sequent.html#14816" class="InductiveConstructor Operator">×</a> <a id="15573" href="blog.Sequent.html#15557" class="Bound">T</a> <a id="15575" class="Symbol">-&gt;</a> <a id="15578" href="blog.Sequent.html#15553" class="Bound">Γ</a> <a id="15580" href="blog.Sequent.html#14983" class="InductiveConstructor Operator">,</a> <a id="15582" href="blog.Sequent.html#15555" class="Bound">S</a> <a id="15584" href="blog.Sequent.html#14983" class="InductiveConstructor Operator">,</a> <a id="15586" href="blog.Sequent.html#15557" class="Bound">T</a> <a id="15588" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15590" href="blog.Sequent.html#15559" class="Bound">U</a> <a id="15592" class="Symbol">-&gt;</a> <a id="15595" href="blog.Sequent.html#15553" class="Bound">Γ</a> <a id="15597" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15599" href="blog.Sequent.html#15559" class="Bound">U</a>

    <a id="STLC._⊢_.+-intro-left"></a><a id="15606" href="blog.Sequent.html#15606" class="InductiveConstructor">+-intro-left</a> <a id="15619" class="Symbol">:</a> <a id="15621" class="Symbol">∀{</a><a id="15623" href="blog.Sequent.html#15623" class="Bound">Γ</a> <a id="15625" href="blog.Sequent.html#15625" class="Bound">S</a> <a id="15627" href="blog.Sequent.html#15627" class="Bound">T</a><a id="15628" class="Symbol">}</a> <a id="15630" class="Symbol">-&gt;</a> <a id="15633" href="blog.Sequent.html#15623" class="Bound">Γ</a> <a id="15635" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15637" href="blog.Sequent.html#15625" class="Bound">S</a> <a id="15639" class="Symbol">-&gt;</a> <a id="15642" href="blog.Sequent.html#15623" class="Bound">Γ</a> <a id="15644" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15646" href="blog.Sequent.html#15625" class="Bound">S</a> <a id="15648" href="blog.Sequent.html#14847" class="InductiveConstructor Operator">+</a> <a id="15650" href="blog.Sequent.html#15627" class="Bound">T</a>
    <a id="STLC._⊢_.+-intro-right"></a><a id="15656" href="blog.Sequent.html#15656" class="InductiveConstructor">+-intro-right</a> <a id="15670" class="Symbol">:</a> <a id="15672" class="Symbol">∀{</a><a id="15674" href="blog.Sequent.html#15674" class="Bound">Γ</a> <a id="15676" href="blog.Sequent.html#15676" class="Bound">S</a> <a id="15678" href="blog.Sequent.html#15678" class="Bound">T</a><a id="15679" class="Symbol">}</a> <a id="15681" class="Symbol">-&gt;</a> <a id="15684" href="blog.Sequent.html#15674" class="Bound">Γ</a> <a id="15686" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15688" href="blog.Sequent.html#15678" class="Bound">T</a> <a id="15690" class="Symbol">-&gt;</a> <a id="15693" href="blog.Sequent.html#15674" class="Bound">Γ</a> <a id="15695" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15697" href="blog.Sequent.html#15676" class="Bound">S</a> <a id="15699" href="blog.Sequent.html#14847" class="InductiveConstructor Operator">+</a> <a id="15701" href="blog.Sequent.html#15678" class="Bound">T</a>
    <a id="STLC._⊢_.+-elim"></a><a id="15707" href="blog.Sequent.html#15707" class="InductiveConstructor">+-elim</a> <a id="15714" class="Symbol">:</a> <a id="15716" class="Symbol">∀{</a><a id="15718" href="blog.Sequent.html#15718" class="Bound">Γ</a> <a id="15720" href="blog.Sequent.html#15720" class="Bound">S</a> <a id="15722" href="blog.Sequent.html#15722" class="Bound">T</a> <a id="15724" href="blog.Sequent.html#15724" class="Bound">U</a><a id="15725" class="Symbol">}</a> <a id="15727" class="Symbol">-&gt;</a> <a id="15730" href="blog.Sequent.html#15718" class="Bound">Γ</a> <a id="15732" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15734" class="Symbol">(</a><a id="15735" href="blog.Sequent.html#15720" class="Bound">S</a> <a id="15737" href="blog.Sequent.html#14847" class="InductiveConstructor Operator">+</a> <a id="15739" href="blog.Sequent.html#15722" class="Bound">T</a><a id="15740" class="Symbol">)</a> <a id="15742" class="Symbol">-&gt;</a> <a id="15745" href="blog.Sequent.html#15718" class="Bound">Γ</a> <a id="15747" href="blog.Sequent.html#14983" class="InductiveConstructor Operator">,</a> <a id="15749" href="blog.Sequent.html#15720" class="Bound">S</a> <a id="15751" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15753" href="blog.Sequent.html#15724" class="Bound">U</a> <a id="15755" class="Symbol">-&gt;</a> <a id="15758" href="blog.Sequent.html#15718" class="Bound">Γ</a> <a id="15760" href="blog.Sequent.html#14983" class="InductiveConstructor Operator">,</a> <a id="15762" href="blog.Sequent.html#15722" class="Bound">T</a> <a id="15764" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15766" href="blog.Sequent.html#15724" class="Bound">U</a> <a id="15768" class="Symbol">-&gt;</a> <a id="15771" href="blog.Sequent.html#15718" class="Bound">Γ</a> <a id="15773" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15775" href="blog.Sequent.html#15724" class="Bound">U</a>

    <a id="STLC._⊢_.ℕ-intro-zero"></a><a id="15782" href="blog.Sequent.html#15782" class="InductiveConstructor">ℕ-intro-zero</a> <a id="15795" class="Symbol">:</a> <a id="15797" class="Symbol">∀{</a><a id="15799" href="blog.Sequent.html#15799" class="Bound">Γ</a><a id="15800" class="Symbol">}</a> <a id="15802" class="Symbol">-&gt;</a> <a id="15805" href="blog.Sequent.html#15799" class="Bound">Γ</a> <a id="15807" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15809" href="blog.Sequent.html#14879" class="InductiveConstructor">ℕ</a>
    <a id="STLC._⊢_.ℕ-intro-suc"></a><a id="15815" href="blog.Sequent.html#15815" class="InductiveConstructor">ℕ-intro-suc</a> <a id="15827" class="Symbol">:</a> <a id="15829" class="Symbol">∀{</a><a id="15831" href="blog.Sequent.html#15831" class="Bound">Γ</a><a id="15832" class="Symbol">}</a>
      <a id="15840" class="Symbol">-&gt;</a> <a id="15843" href="blog.Sequent.html#15831" class="Bound">Γ</a> <a id="15845" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15847" href="blog.Sequent.html#14879" class="InductiveConstructor">ℕ</a>
      <a id="15855" class="Symbol">-&gt;</a> <a id="15858" href="blog.Sequent.html#15831" class="Bound">Γ</a> <a id="15860" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15862" href="blog.Sequent.html#14879" class="InductiveConstructor">ℕ</a>

    <a id="STLC._⊢_.ℕ-elim"></a><a id="15869" href="blog.Sequent.html#15869" class="InductiveConstructor">ℕ-elim</a> <a id="15876" class="Symbol">:</a> <a id="15878" class="Symbol">∀{</a><a id="15880" href="blog.Sequent.html#15880" class="Bound">Γ</a> <a id="15882" href="blog.Sequent.html#15882" class="Bound">T</a><a id="15883" class="Symbol">}</a>
      <a id="15891" class="Symbol">-&gt;</a> <a id="15894" href="blog.Sequent.html#15880" class="Bound">Γ</a> <a id="15896" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15898" href="blog.Sequent.html#14879" class="InductiveConstructor">ℕ</a>
      <a id="15906" class="Symbol">-&gt;</a> <a id="15909" href="blog.Sequent.html#15880" class="Bound">Γ</a> <a id="15911" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15913" href="blog.Sequent.html#15882" class="Bound">T</a>
      <a id="15921" class="Symbol">-&gt;</a> <a id="15924" href="blog.Sequent.html#15880" class="Bound">Γ</a> <a id="15926" href="blog.Sequent.html#14983" class="InductiveConstructor Operator">,</a> <a id="15928" href="blog.Sequent.html#15882" class="Bound">T</a> <a id="15930" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15932" href="blog.Sequent.html#15882" class="Bound">T</a>
      <a id="15940" class="Symbol">-&gt;</a> <a id="15943" href="blog.Sequent.html#15880" class="Bound">Γ</a> <a id="15945" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="15947" href="blog.Sequent.html#15882" class="Bound">T</a>
</pre>
</div>
</div>

<div id="outline-container-org08600c1" class="outline-3">
<h3 id="org08600c1"><span class="section-number-3">3.4.</span> Renaming</h3>
<div class="outline-text-3" id="text-3-4">
<p>
Once again, we can apply renaming procedures to terms in contexts.
</p>

<pre class="Agda">
  <a id="STLC.Renaming"></a><a id="16061" href="blog.Sequent.html#16061" class="Function">Renaming</a> <a id="16070" class="Symbol">:</a> <a id="16072" href="blog.Sequent.html#14951" class="Datatype">Ctx</a> <a id="16076" class="Symbol">-&gt;</a> <a id="16079" href="blog.Sequent.html#14951" class="Datatype">Ctx</a> <a id="16083" class="Symbol">-&gt;</a> <a id="16086" href="Agda.Primitive.html#388" class="Primitive">Set</a>
  <a id="16092" href="blog.Sequent.html#16061" class="Function">Renaming</a> <a id="16101" href="blog.Sequent.html#16101" class="Bound">Γ</a> <a id="16103" href="blog.Sequent.html#16103" class="Bound">Δ</a> <a id="16105" class="Symbol">=</a> <a id="16107" class="Symbol">∀{</a><a id="16109" href="blog.Sequent.html#16109" class="Bound">T</a><a id="16110" class="Symbol">}</a> <a id="16112" class="Symbol">-&gt;</a> <a id="16115" href="blog.Sequent.html#16101" class="Bound">Γ</a> <a id="16117" href="blog.Sequent.html#15016" class="Datatype Operator">∋</a> <a id="16119" href="blog.Sequent.html#16109" class="Bound">T</a> <a id="16121" class="Symbol">-&gt;</a> <a id="16124" href="blog.Sequent.html#16103" class="Bound">Δ</a> <a id="16126" href="blog.Sequent.html#15016" class="Datatype Operator">∋</a> <a id="16128" href="blog.Sequent.html#16109" class="Bound">T</a>

  <a id="STLC.extend"></a><a id="16133" href="blog.Sequent.html#16133" class="Function">extend</a> <a id="16140" class="Symbol">:</a> <a id="16142" class="Symbol">∀{</a><a id="16144" href="blog.Sequent.html#16144" class="Bound">Γ</a> <a id="16146" href="blog.Sequent.html#16146" class="Bound">Δ</a> <a id="16148" href="blog.Sequent.html#16148" class="Bound">T</a><a id="16149" class="Symbol">}</a> <a id="16151" class="Symbol">-&gt;</a> <a id="16154" href="blog.Sequent.html#16061" class="Function">Renaming</a> <a id="16163" href="blog.Sequent.html#16144" class="Bound">Γ</a> <a id="16165" href="blog.Sequent.html#16146" class="Bound">Δ</a> <a id="16167" class="Symbol">-&gt;</a> <a id="16170" href="blog.Sequent.html#16061" class="Function">Renaming</a> <a id="16179" class="Symbol">(</a><a id="16180" href="blog.Sequent.html#16144" class="Bound">Γ</a> <a id="16182" href="blog.Sequent.html#14983" class="InductiveConstructor Operator">,</a> <a id="16184" href="blog.Sequent.html#16148" class="Bound">T</a><a id="16185" class="Symbol">)</a> <a id="16187" class="Symbol">(</a><a id="16188" href="blog.Sequent.html#16146" class="Bound">Δ</a> <a id="16190" href="blog.Sequent.html#14983" class="InductiveConstructor Operator">,</a> <a id="16192" href="blog.Sequent.html#16148" class="Bound">T</a><a id="16193" class="Symbol">)</a>
  <a id="16197" href="blog.Sequent.html#16133" class="Function">extend</a> <a id="16204" href="blog.Sequent.html#16204" class="Bound">r</a> <a id="16206" href="blog.Sequent.html#15051" class="InductiveConstructor">here</a> <a id="16211" class="Symbol">=</a> <a id="16213" href="blog.Sequent.html#15051" class="InductiveConstructor">here</a>
  <a id="16220" href="blog.Sequent.html#16133" class="Function">extend</a> <a id="16227" href="blog.Sequent.html#16227" class="Bound">r</a> <a id="16229" class="Symbol">(</a><a id="16230" href="blog.Sequent.html#15082" class="InductiveConstructor">there</a> <a id="16236" href="blog.Sequent.html#16236" class="Bound">ref</a><a id="16239" class="Symbol">)</a> <a id="16241" class="Symbol">=</a> <a id="16243" href="blog.Sequent.html#15082" class="InductiveConstructor">there</a> <a id="16249" class="Symbol">(</a><a id="16250" href="blog.Sequent.html#16227" class="Bound">r</a> <a id="16252" href="blog.Sequent.html#16236" class="Bound">ref</a><a id="16255" class="Symbol">)</a>

  <a id="STLC.rename"></a><a id="16260" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16267" class="Symbol">:</a> <a id="16269" class="Symbol">∀{</a><a id="16271" href="blog.Sequent.html#16271" class="Bound">Γ</a> <a id="16273" href="blog.Sequent.html#16273" class="Bound">Δ</a> <a id="16275" href="blog.Sequent.html#16275" class="Bound">T</a><a id="16276" class="Symbol">}</a> <a id="16278" class="Symbol">-&gt;</a> <a id="16281" href="blog.Sequent.html#16061" class="Function">Renaming</a> <a id="16290" href="blog.Sequent.html#16271" class="Bound">Γ</a> <a id="16292" href="blog.Sequent.html#16273" class="Bound">Δ</a> <a id="16294" class="Symbol">-&gt;</a> <a id="16297" href="blog.Sequent.html#16271" class="Bound">Γ</a> <a id="16299" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="16301" href="blog.Sequent.html#16275" class="Bound">T</a> <a id="16303" class="Symbol">-&gt;</a> <a id="16306" href="blog.Sequent.html#16273" class="Bound">Δ</a> <a id="16308" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="16310" href="blog.Sequent.html#16275" class="Bound">T</a>
  <a id="16314" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16321" href="blog.Sequent.html#16321" class="Bound">r</a> <a id="16323" class="Symbol">(</a><a id="16324" href="blog.Sequent.html#15202" class="InductiveConstructor">var</a> <a id="16328" href="blog.Sequent.html#16328" class="Bound">x</a><a id="16329" class="Symbol">)</a> <a id="16331" class="Symbol">=</a> <a id="16333" href="blog.Sequent.html#15202" class="InductiveConstructor">var</a> <a id="16337" class="Symbol">(</a><a id="16338" href="blog.Sequent.html#16321" class="Bound">r</a> <a id="16340" href="blog.Sequent.html#16328" class="Bound">x</a><a id="16341" class="Symbol">)</a>
  <a id="16345" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16352" href="blog.Sequent.html#16352" class="Bound">r</a> <a id="16354" href="blog.Sequent.html#15238" class="InductiveConstructor">unit-intro</a> <a id="16365" class="Symbol">=</a> <a id="16367" href="blog.Sequent.html#15238" class="InductiveConstructor">unit-intro</a>
  <a id="16380" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16387" href="blog.Sequent.html#16387" class="Bound">r</a> <a id="16389" class="Symbol">(</a><a id="16390" href="blog.Sequent.html#15272" class="InductiveConstructor">null-elim</a> <a id="16400" href="blog.Sequent.html#16400" class="Bound">t</a><a id="16401" class="Symbol">)</a> <a id="16403" class="Symbol">=</a> <a id="16405" href="blog.Sequent.html#15272" class="InductiveConstructor">null-elim</a> <a id="16415" class="Symbol">(</a><a id="16416" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16423" href="blog.Sequent.html#16387" class="Bound">r</a> <a id="16425" href="blog.Sequent.html#16400" class="Bound">t</a><a id="16426" class="Symbol">)</a>
  <a id="16430" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16437" href="blog.Sequent.html#16437" class="Bound">r</a> <a id="16439" class="Symbol">(</a><a id="16440" href="blog.Sequent.html#15357" class="InductiveConstructor">abs</a> <a id="16444" href="blog.Sequent.html#16444" class="Bound">t</a><a id="16445" class="Symbol">)</a> <a id="16447" class="Symbol">=</a> <a id="16449" href="blog.Sequent.html#15357" class="InductiveConstructor">abs</a> <a id="16453" class="Symbol">(</a><a id="16454" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16461" class="Symbol">(</a><a id="16462" href="blog.Sequent.html#16133" class="Function">extend</a> <a id="16469" href="blog.Sequent.html#16437" class="Bound">r</a><a id="16470" class="Symbol">)</a> <a id="16472" href="blog.Sequent.html#16444" class="Bound">t</a><a id="16473" class="Symbol">)</a>
  <a id="16477" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16484" href="blog.Sequent.html#16484" class="Bound">r</a> <a id="16486" class="Symbol">(</a><a id="16487" href="blog.Sequent.html#15434" class="InductiveConstructor">app</a> <a id="16491" href="blog.Sequent.html#16491" class="Bound">t</a> <a id="16493" href="blog.Sequent.html#16493" class="Bound">t₁</a><a id="16495" class="Symbol">)</a> <a id="16497" class="Symbol">=</a> <a id="16499" href="blog.Sequent.html#15434" class="InductiveConstructor">app</a> <a id="16503" class="Symbol">(</a><a id="16504" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16511" href="blog.Sequent.html#16484" class="Bound">r</a> <a id="16513" href="blog.Sequent.html#16491" class="Bound">t</a><a id="16514" class="Symbol">)</a> <a id="16516" class="Symbol">(</a><a id="16517" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16524" href="blog.Sequent.html#16484" class="Bound">r</a> <a id="16526" href="blog.Sequent.html#16493" class="Bound">t₁</a><a id="16528" class="Symbol">)</a>
  <a id="16532" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16539" href="blog.Sequent.html#16539" class="Bound">r</a> <a id="16541" class="Symbol">(</a><a id="16542" href="blog.Sequent.html#15488" class="InductiveConstructor">×-intro</a> <a id="16550" href="blog.Sequent.html#16550" class="Bound">t</a> <a id="16552" href="blog.Sequent.html#16552" class="Bound">t₁</a><a id="16554" class="Symbol">)</a> <a id="16556" class="Symbol">=</a> <a id="16558" href="blog.Sequent.html#15488" class="InductiveConstructor">×-intro</a> <a id="16566" class="Symbol">(</a><a id="16567" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16574" href="blog.Sequent.html#16539" class="Bound">r</a> <a id="16576" href="blog.Sequent.html#16550" class="Bound">t</a><a id="16577" class="Symbol">)</a> <a id="16579" class="Symbol">(</a><a id="16580" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16587" href="blog.Sequent.html#16539" class="Bound">r</a> <a id="16589" href="blog.Sequent.html#16552" class="Bound">t₁</a><a id="16591" class="Symbol">)</a>
  <a id="16595" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16602" href="blog.Sequent.html#16602" class="Bound">r</a> <a id="16604" class="Symbol">(</a><a id="16605" href="blog.Sequent.html#15542" class="InductiveConstructor">×-elim</a> <a id="16612" href="blog.Sequent.html#16612" class="Bound">s</a> <a id="16614" href="blog.Sequent.html#16614" class="Bound">t</a><a id="16615" class="Symbol">)</a> <a id="16617" class="Symbol">=</a> <a id="16619" href="blog.Sequent.html#15542" class="InductiveConstructor">×-elim</a> <a id="16626" class="Symbol">(</a><a id="16627" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16634" href="blog.Sequent.html#16602" class="Bound">r</a> <a id="16636" href="blog.Sequent.html#16612" class="Bound">s</a><a id="16637" class="Symbol">)</a> <a id="16639" class="Symbol">(</a><a id="16640" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16647" class="Symbol">(</a><a id="16648" href="blog.Sequent.html#16133" class="Function">extend</a> <a id="16655" class="Symbol">(</a><a id="16656" href="blog.Sequent.html#16133" class="Function">extend</a> <a id="16663" href="blog.Sequent.html#16602" class="Bound">r</a><a id="16664" class="Symbol">))</a> <a id="16667" href="blog.Sequent.html#16614" class="Bound">t</a><a id="16668" class="Symbol">)</a>
  <a id="16672" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16679" href="blog.Sequent.html#16679" class="Bound">r</a> <a id="16681" class="Symbol">(</a><a id="16682" href="blog.Sequent.html#15606" class="InductiveConstructor">+-intro-left</a> <a id="16695" href="blog.Sequent.html#16695" class="Bound">t</a><a id="16696" class="Symbol">)</a> <a id="16698" class="Symbol">=</a> <a id="16700" href="blog.Sequent.html#15606" class="InductiveConstructor">+-intro-left</a> <a id="16713" class="Symbol">(</a><a id="16714" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16721" href="blog.Sequent.html#16679" class="Bound">r</a> <a id="16723" href="blog.Sequent.html#16695" class="Bound">t</a><a id="16724" class="Symbol">)</a>
  <a id="16728" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16735" href="blog.Sequent.html#16735" class="Bound">r</a> <a id="16737" class="Symbol">(</a><a id="16738" href="blog.Sequent.html#15656" class="InductiveConstructor">+-intro-right</a> <a id="16752" href="blog.Sequent.html#16752" class="Bound">t</a><a id="16753" class="Symbol">)</a> <a id="16755" class="Symbol">=</a> <a id="16757" href="blog.Sequent.html#15656" class="InductiveConstructor">+-intro-right</a> <a id="16771" class="Symbol">(</a><a id="16772" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16779" href="blog.Sequent.html#16735" class="Bound">r</a> <a id="16781" href="blog.Sequent.html#16752" class="Bound">t</a><a id="16782" class="Symbol">)</a>
  <a id="16786" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16793" href="blog.Sequent.html#16793" class="Bound">r</a> <a id="16795" class="Symbol">(</a><a id="16796" href="blog.Sequent.html#15707" class="InductiveConstructor">+-elim</a> <a id="16803" href="blog.Sequent.html#16803" class="Bound">s</a> <a id="16805" href="blog.Sequent.html#16805" class="Bound">x</a> <a id="16807" href="blog.Sequent.html#16807" class="Bound">y</a><a id="16808" class="Symbol">)</a> <a id="16810" class="Symbol">=</a> <a id="16812" href="blog.Sequent.html#15707" class="InductiveConstructor">+-elim</a> <a id="16819" class="Symbol">(</a><a id="16820" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16827" href="blog.Sequent.html#16793" class="Bound">r</a> <a id="16829" href="blog.Sequent.html#16803" class="Bound">s</a><a id="16830" class="Symbol">)</a> <a id="16832" class="Symbol">(</a><a id="16833" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16840" class="Symbol">(</a><a id="16841" href="blog.Sequent.html#16133" class="Function">extend</a> <a id="16848" href="blog.Sequent.html#16793" class="Bound">r</a><a id="16849" class="Symbol">)</a> <a id="16851" href="blog.Sequent.html#16805" class="Bound">x</a><a id="16852" class="Symbol">)</a> <a id="16854" class="Symbol">(</a><a id="16855" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16862" class="Symbol">(</a><a id="16863" href="blog.Sequent.html#16133" class="Function">extend</a> <a id="16870" href="blog.Sequent.html#16793" class="Bound">r</a><a id="16871" class="Symbol">)</a> <a id="16873" href="blog.Sequent.html#16807" class="Bound">y</a><a id="16874" class="Symbol">)</a>
  <a id="16878" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16885" href="blog.Sequent.html#16885" class="Bound">r</a> <a id="16887" href="blog.Sequent.html#15782" class="InductiveConstructor">ℕ-intro-zero</a> <a id="16900" class="Symbol">=</a> <a id="16902" href="blog.Sequent.html#15782" class="InductiveConstructor">ℕ-intro-zero</a>
  <a id="16917" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16924" href="blog.Sequent.html#16924" class="Bound">r</a> <a id="16926" class="Symbol">(</a><a id="16927" href="blog.Sequent.html#15815" class="InductiveConstructor">ℕ-intro-suc</a> <a id="16939" href="blog.Sequent.html#16939" class="Bound">t</a><a id="16940" class="Symbol">)</a> <a id="16942" class="Symbol">=</a> <a id="16944" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16951" href="blog.Sequent.html#16924" class="Bound">r</a> <a id="16953" href="blog.Sequent.html#16939" class="Bound">t</a>
  <a id="16957" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="16964" href="blog.Sequent.html#16964" class="Bound">r</a> <a id="16966" class="Symbol">(</a><a id="16967" href="blog.Sequent.html#15869" class="InductiveConstructor">ℕ-elim</a> <a id="16974" href="blog.Sequent.html#16974" class="Bound">sub</a> <a id="16978" href="blog.Sequent.html#16978" class="Bound">z</a> <a id="16980" href="blog.Sequent.html#16980" class="Bound">s</a><a id="16981" class="Symbol">)</a> <a id="16983" class="Symbol">=</a> <a id="16985" href="blog.Sequent.html#15869" class="InductiveConstructor">ℕ-elim</a> <a id="16992" class="Symbol">(</a><a id="16993" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="17000" href="blog.Sequent.html#16964" class="Bound">r</a> <a id="17002" href="blog.Sequent.html#16974" class="Bound">sub</a><a id="17005" class="Symbol">)</a> <a id="17007" class="Symbol">(</a><a id="17008" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="17015" href="blog.Sequent.html#16964" class="Bound">r</a> <a id="17017" href="blog.Sequent.html#16978" class="Bound">z</a><a id="17018" class="Symbol">)</a> <a id="17020" class="Symbol">(</a><a id="17021" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="17028" class="Symbol">(</a><a id="17029" href="blog.Sequent.html#16133" class="Function">extend</a> <a id="17036" href="blog.Sequent.html#16964" class="Bound">r</a><a id="17037" class="Symbol">)</a> <a id="17039" href="blog.Sequent.html#16980" class="Bound">s</a><a id="17040" class="Symbol">)</a>
</pre>

<p>
However, this time, because we are working with a programming language, we are
also interested in the <b>reduction rules</b> of our terms which did not exist before
for propositional logic. To be able to properly express reduction rules, we will
need a new type of transformations on terms: substitutions.
</p>
</div>
</div>

<div id="outline-container-org5bbd697" class="outline-3">
<h3 id="org5bbd697"><span class="section-number-3">3.5.</span> Substitution</h3>
<div class="outline-text-3" id="text-3-5">
<pre class="Agda">
  <a id="STLC.Substitution"></a><a id="17392" href="blog.Sequent.html#17392" class="Function">Substitution</a> <a id="17405" class="Symbol">:</a> <a id="17407" href="blog.Sequent.html#14951" class="Datatype">Ctx</a> <a id="17411" class="Symbol">-&gt;</a> <a id="17414" href="blog.Sequent.html#14951" class="Datatype">Ctx</a> <a id="17418" class="Symbol">-&gt;</a> <a id="17421" href="Agda.Primitive.html#388" class="Primitive">Set</a>
  <a id="17427" href="blog.Sequent.html#17392" class="Function">Substitution</a> <a id="17440" href="blog.Sequent.html#17440" class="Bound">Γ</a> <a id="17442" href="blog.Sequent.html#17442" class="Bound">Δ</a> <a id="17444" class="Symbol">=</a> <a id="17446" class="Symbol">∀{</a><a id="17448" href="blog.Sequent.html#17448" class="Bound">T</a><a id="17449" class="Symbol">}</a> <a id="17451" class="Symbol">-&gt;</a> <a id="17454" href="blog.Sequent.html#17440" class="Bound">Γ</a> <a id="17456" href="blog.Sequent.html#15016" class="Datatype Operator">∋</a> <a id="17458" href="blog.Sequent.html#17448" class="Bound">T</a> <a id="17460" class="Symbol">-&gt;</a> <a id="17463" href="blog.Sequent.html#17442" class="Bound">Δ</a> <a id="17465" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="17467" href="blog.Sequent.html#17448" class="Bound">T</a>

  <a id="STLC.extend-sub"></a><a id="17472" href="blog.Sequent.html#17472" class="Function">extend-sub</a> <a id="17483" class="Symbol">:</a> <a id="17485" class="Symbol">∀{</a><a id="17487" href="blog.Sequent.html#17487" class="Bound">Γ</a> <a id="17489" href="blog.Sequent.html#17489" class="Bound">Δ</a> <a id="17491" href="blog.Sequent.html#17491" class="Bound">T</a><a id="17492" class="Symbol">}</a> <a id="17494" class="Symbol">-&gt;</a> <a id="17497" href="blog.Sequent.html#17392" class="Function">Substitution</a> <a id="17510" href="blog.Sequent.html#17487" class="Bound">Γ</a> <a id="17512" href="blog.Sequent.html#17489" class="Bound">Δ</a> <a id="17514" class="Symbol">-&gt;</a> <a id="17517" href="blog.Sequent.html#17392" class="Function">Substitution</a> <a id="17530" class="Symbol">(</a><a id="17531" href="blog.Sequent.html#17487" class="Bound">Γ</a> <a id="17533" href="blog.Sequent.html#14983" class="InductiveConstructor Operator">,</a> <a id="17535" href="blog.Sequent.html#17491" class="Bound">T</a><a id="17536" class="Symbol">)</a> <a id="17538" class="Symbol">(</a><a id="17539" href="blog.Sequent.html#17489" class="Bound">Δ</a> <a id="17541" href="blog.Sequent.html#14983" class="InductiveConstructor Operator">,</a> <a id="17543" href="blog.Sequent.html#17491" class="Bound">T</a><a id="17544" class="Symbol">)</a>
  <a id="17548" href="blog.Sequent.html#17472" class="Function">extend-sub</a> <a id="17559" href="blog.Sequent.html#17559" class="Bound">σ</a> <a id="17561" href="blog.Sequent.html#15051" class="InductiveConstructor">here</a> <a id="17566" class="Symbol">=</a> <a id="17568" href="blog.Sequent.html#15202" class="InductiveConstructor">var</a> <a id="17572" href="blog.Sequent.html#15051" class="InductiveConstructor">here</a>
  <a id="17579" href="blog.Sequent.html#17472" class="Function">extend-sub</a> <a id="17590" href="blog.Sequent.html#17590" class="Bound">σ</a> <a id="17592" class="Symbol">(</a><a id="17593" href="blog.Sequent.html#15082" class="InductiveConstructor">there</a> <a id="17599" href="blog.Sequent.html#17599" class="Bound">t</a><a id="17600" class="Symbol">)</a> <a id="17602" class="Symbol">=</a> <a id="17604" href="blog.Sequent.html#16260" class="Function">rename</a> <a id="17611" href="blog.Sequent.html#15082" class="InductiveConstructor">there</a> <a id="17617" class="Symbol">(</a><a id="17618" href="blog.Sequent.html#17590" class="Bound">σ</a> <a id="17620" href="blog.Sequent.html#17599" class="Bound">t</a><a id="17621" class="Symbol">)</a>

  <a id="STLC.substitute"></a><a id="17626" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="17637" class="Symbol">:</a> <a id="17639" class="Symbol">∀{</a><a id="17641" href="blog.Sequent.html#17641" class="Bound">Γ</a> <a id="17643" href="blog.Sequent.html#17643" class="Bound">Δ</a> <a id="17645" href="blog.Sequent.html#17645" class="Bound">T</a><a id="17646" class="Symbol">}</a> <a id="17648" class="Symbol">-&gt;</a> <a id="17651" href="blog.Sequent.html#17392" class="Function">Substitution</a> <a id="17664" href="blog.Sequent.html#17641" class="Bound">Γ</a> <a id="17666" href="blog.Sequent.html#17643" class="Bound">Δ</a> <a id="17668" class="Symbol">-&gt;</a> <a id="17671" href="blog.Sequent.html#17641" class="Bound">Γ</a> <a id="17673" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="17675" href="blog.Sequent.html#17645" class="Bound">T</a> <a id="17677" class="Symbol">-&gt;</a> <a id="17680" href="blog.Sequent.html#17643" class="Bound">Δ</a> <a id="17682" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="17684" href="blog.Sequent.html#17645" class="Bound">T</a>
  <a id="17688" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="17699" href="blog.Sequent.html#17699" class="Bound">σ</a> <a id="17701" class="Symbol">(</a><a id="17702" href="blog.Sequent.html#15202" class="InductiveConstructor">var</a> <a id="17706" href="blog.Sequent.html#17706" class="Bound">x</a><a id="17707" class="Symbol">)</a> <a id="17709" class="Symbol">=</a> <a id="17711" href="blog.Sequent.html#17699" class="Bound">σ</a> <a id="17713" href="blog.Sequent.html#17706" class="Bound">x</a>
  <a id="17717" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="17728" href="blog.Sequent.html#17728" class="Bound">σ</a> <a id="17730" href="blog.Sequent.html#15238" class="InductiveConstructor">unit-intro</a> <a id="17741" class="Symbol">=</a> <a id="17743" href="blog.Sequent.html#15238" class="InductiveConstructor">unit-intro</a>
  <a id="17756" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="17767" href="blog.Sequent.html#17767" class="Bound">σ</a> <a id="17769" class="Symbol">(</a><a id="17770" href="blog.Sequent.html#15272" class="InductiveConstructor">null-elim</a> <a id="17780" href="blog.Sequent.html#17780" class="Bound">t</a><a id="17781" class="Symbol">)</a> <a id="17783" class="Symbol">=</a> <a id="17785" href="blog.Sequent.html#15272" class="InductiveConstructor">null-elim</a> <a id="17795" class="Symbol">(</a><a id="17796" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="17807" href="blog.Sequent.html#17767" class="Bound">σ</a> <a id="17809" href="blog.Sequent.html#17780" class="Bound">t</a><a id="17810" class="Symbol">)</a>
  <a id="17814" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="17825" href="blog.Sequent.html#17825" class="Bound">σ</a> <a id="17827" class="Symbol">(</a><a id="17828" href="blog.Sequent.html#15357" class="InductiveConstructor">abs</a> <a id="17832" href="blog.Sequent.html#17832" class="Bound">t</a><a id="17833" class="Symbol">)</a> <a id="17835" class="Symbol">=</a> <a id="17837" href="blog.Sequent.html#15357" class="InductiveConstructor">abs</a> <a id="17841" class="Symbol">(</a><a id="17842" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="17853" class="Symbol">(</a><a id="17854" href="blog.Sequent.html#17472" class="Function">extend-sub</a> <a id="17865" href="blog.Sequent.html#17825" class="Bound">σ</a><a id="17866" class="Symbol">)</a> <a id="17868" href="blog.Sequent.html#17832" class="Bound">t</a><a id="17869" class="Symbol">)</a>
  <a id="17873" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="17884" href="blog.Sequent.html#17884" class="Bound">σ</a> <a id="17886" class="Symbol">(</a><a id="17887" href="blog.Sequent.html#15434" class="InductiveConstructor">app</a> <a id="17891" href="blog.Sequent.html#17891" class="Bound">t</a> <a id="17893" href="blog.Sequent.html#17893" class="Bound">t₁</a><a id="17895" class="Symbol">)</a> <a id="17897" class="Symbol">=</a> <a id="17899" href="blog.Sequent.html#15434" class="InductiveConstructor">app</a> <a id="17903" class="Symbol">(</a><a id="17904" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="17915" href="blog.Sequent.html#17884" class="Bound">σ</a> <a id="17917" href="blog.Sequent.html#17891" class="Bound">t</a><a id="17918" class="Symbol">)</a> <a id="17920" class="Symbol">(</a><a id="17921" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="17932" href="blog.Sequent.html#17884" class="Bound">σ</a> <a id="17934" href="blog.Sequent.html#17893" class="Bound">t₁</a><a id="17936" class="Symbol">)</a>
  <a id="17940" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="17951" href="blog.Sequent.html#17951" class="Bound">σ</a> <a id="17953" class="Symbol">(</a><a id="17954" href="blog.Sequent.html#15488" class="InductiveConstructor">×-intro</a> <a id="17962" href="blog.Sequent.html#17962" class="Bound">t</a> <a id="17964" href="blog.Sequent.html#17964" class="Bound">t₁</a><a id="17966" class="Symbol">)</a> <a id="17968" class="Symbol">=</a> <a id="17970" href="blog.Sequent.html#15488" class="InductiveConstructor">×-intro</a> <a id="17978" class="Symbol">(</a><a id="17979" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="17990" href="blog.Sequent.html#17951" class="Bound">σ</a> <a id="17992" href="blog.Sequent.html#17962" class="Bound">t</a><a id="17993" class="Symbol">)</a> <a id="17995" class="Symbol">(</a><a id="17996" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="18007" href="blog.Sequent.html#17951" class="Bound">σ</a> <a id="18009" href="blog.Sequent.html#17964" class="Bound">t₁</a><a id="18011" class="Symbol">)</a>
  <a id="18015" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="18026" href="blog.Sequent.html#18026" class="Bound">σ</a> <a id="18028" class="Symbol">(</a><a id="18029" href="blog.Sequent.html#15542" class="InductiveConstructor">×-elim</a> <a id="18036" href="blog.Sequent.html#18036" class="Bound">s</a> <a id="18038" href="blog.Sequent.html#18038" class="Bound">b</a><a id="18039" class="Symbol">)</a> <a id="18041" class="Symbol">=</a> <a id="18043" href="blog.Sequent.html#15542" class="InductiveConstructor">×-elim</a> <a id="18050" class="Symbol">(</a><a id="18051" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="18062" href="blog.Sequent.html#18026" class="Bound">σ</a> <a id="18064" href="blog.Sequent.html#18036" class="Bound">s</a><a id="18065" class="Symbol">)</a> <a id="18067" class="Symbol">(</a><a id="18068" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="18079" class="Symbol">(</a><a id="18080" href="blog.Sequent.html#17472" class="Function">extend-sub</a> <a id="18091" class="Symbol">(</a><a id="18092" href="blog.Sequent.html#17472" class="Function">extend-sub</a> <a id="18103" href="blog.Sequent.html#18026" class="Bound">σ</a><a id="18104" class="Symbol">))</a> <a id="18107" href="blog.Sequent.html#18038" class="Bound">b</a><a id="18108" class="Symbol">)</a>
  <a id="18112" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="18123" href="blog.Sequent.html#18123" class="Bound">σ</a> <a id="18125" class="Symbol">(</a><a id="18126" href="blog.Sequent.html#15606" class="InductiveConstructor">+-intro-left</a> <a id="18139" href="blog.Sequent.html#18139" class="Bound">t</a><a id="18140" class="Symbol">)</a> <a id="18142" class="Symbol">=</a> <a id="18144" href="blog.Sequent.html#15606" class="InductiveConstructor">+-intro-left</a> <a id="18157" class="Symbol">(</a><a id="18158" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="18169" href="blog.Sequent.html#18123" class="Bound">σ</a> <a id="18171" href="blog.Sequent.html#18139" class="Bound">t</a><a id="18172" class="Symbol">)</a>
  <a id="18176" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="18187" href="blog.Sequent.html#18187" class="Bound">σ</a> <a id="18189" class="Symbol">(</a><a id="18190" href="blog.Sequent.html#15656" class="InductiveConstructor">+-intro-right</a> <a id="18204" href="blog.Sequent.html#18204" class="Bound">t</a><a id="18205" class="Symbol">)</a> <a id="18207" class="Symbol">=</a> <a id="18209" href="blog.Sequent.html#15656" class="InductiveConstructor">+-intro-right</a> <a id="18223" class="Symbol">(</a><a id="18224" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="18235" href="blog.Sequent.html#18187" class="Bound">σ</a> <a id="18237" href="blog.Sequent.html#18204" class="Bound">t</a><a id="18238" class="Symbol">)</a>
  <a id="18242" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="18253" href="blog.Sequent.html#18253" class="Bound">σ</a> <a id="18255" class="Symbol">(</a><a id="18256" href="blog.Sequent.html#15707" class="InductiveConstructor">+-elim</a> <a id="18263" href="blog.Sequent.html#18263" class="Bound">s</a> <a id="18265" href="blog.Sequent.html#18265" class="Bound">x</a> <a id="18267" href="blog.Sequent.html#18267" class="Bound">y</a><a id="18268" class="Symbol">)</a> <a id="18270" class="Symbol">=</a> <a id="18272" href="blog.Sequent.html#15707" class="InductiveConstructor">+-elim</a> <a id="18279" class="Symbol">(</a><a id="18280" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="18291" href="blog.Sequent.html#18253" class="Bound">σ</a> <a id="18293" href="blog.Sequent.html#18263" class="Bound">s</a><a id="18294" class="Symbol">)</a> <a id="18296" class="Symbol">(</a><a id="18297" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="18308" class="Symbol">(</a><a id="18309" href="blog.Sequent.html#17472" class="Function">extend-sub</a> <a id="18320" href="blog.Sequent.html#18253" class="Bound">σ</a><a id="18321" class="Symbol">)</a> <a id="18323" href="blog.Sequent.html#18265" class="Bound">x</a><a id="18324" class="Symbol">)</a> <a id="18326" class="Symbol">(</a><a id="18327" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="18338" class="Symbol">(</a><a id="18339" href="blog.Sequent.html#17472" class="Function">extend-sub</a> <a id="18350" href="blog.Sequent.html#18253" class="Bound">σ</a><a id="18351" class="Symbol">)</a> <a id="18353" href="blog.Sequent.html#18267" class="Bound">y</a><a id="18354" class="Symbol">)</a>
  <a id="18358" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="18369" href="blog.Sequent.html#18369" class="Bound">σ</a> <a id="18371" href="blog.Sequent.html#15782" class="InductiveConstructor">ℕ-intro-zero</a> <a id="18384" class="Symbol">=</a> <a id="18386" href="blog.Sequent.html#15782" class="InductiveConstructor">ℕ-intro-zero</a>
  <a id="18401" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="18412" href="blog.Sequent.html#18412" class="Bound">σ</a> <a id="18414" class="Symbol">(</a><a id="18415" href="blog.Sequent.html#15815" class="InductiveConstructor">ℕ-intro-suc</a> <a id="18427" href="blog.Sequent.html#18427" class="Bound">t</a><a id="18428" class="Symbol">)</a> <a id="18430" class="Symbol">=</a> <a id="18432" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="18443" href="blog.Sequent.html#18412" class="Bound">σ</a> <a id="18445" href="blog.Sequent.html#18427" class="Bound">t</a>
  <a id="18449" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="18460" href="blog.Sequent.html#18460" class="Bound">σ</a> <a id="18462" class="Symbol">(</a><a id="18463" href="blog.Sequent.html#15869" class="InductiveConstructor">ℕ-elim</a> <a id="18470" href="blog.Sequent.html#18470" class="Bound">sub</a> <a id="18474" href="blog.Sequent.html#18474" class="Bound">z</a> <a id="18476" href="blog.Sequent.html#18476" class="Bound">s</a><a id="18477" class="Symbol">)</a> <a id="18479" class="Symbol">=</a> <a id="18481" href="blog.Sequent.html#15869" class="InductiveConstructor">ℕ-elim</a> <a id="18488" class="Symbol">(</a><a id="18489" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="18500" href="blog.Sequent.html#18460" class="Bound">σ</a> <a id="18502" href="blog.Sequent.html#18470" class="Bound">sub</a><a id="18505" class="Symbol">)</a> <a id="18507" class="Symbol">(</a><a id="18508" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="18519" href="blog.Sequent.html#18460" class="Bound">σ</a> <a id="18521" href="blog.Sequent.html#18474" class="Bound">z</a><a id="18522" class="Symbol">)</a> <a id="18524" class="Symbol">(</a><a id="18525" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="18536" class="Symbol">(</a><a id="18537" href="blog.Sequent.html#17472" class="Function">extend-sub</a> <a id="18548" href="blog.Sequent.html#18460" class="Bound">σ</a><a id="18549" class="Symbol">)</a> <a id="18551" href="blog.Sequent.html#18476" class="Bound">s</a><a id="18552" class="Symbol">)</a>

  <a id="18557" class="Comment">-- Special syntax for single variable substitution that we will use later</a>
  <a id="STLC._[_]"></a><a id="18633" href="blog.Sequent.html#18633" class="Function Operator">_[_]</a> <a id="18638" class="Symbol">:</a> <a id="18640" class="Symbol">∀{</a><a id="18642" href="blog.Sequent.html#18642" class="Bound">Γ</a> <a id="18644" href="blog.Sequent.html#18644" class="Bound">T</a> <a id="18646" href="blog.Sequent.html#18646" class="Bound">S</a><a id="18647" class="Symbol">}</a> <a id="18649" class="Symbol">-&gt;</a> <a id="18652" href="blog.Sequent.html#18642" class="Bound">Γ</a> <a id="18654" href="blog.Sequent.html#14983" class="InductiveConstructor Operator">,</a> <a id="18656" href="blog.Sequent.html#18644" class="Bound">T</a> <a id="18658" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="18660" href="blog.Sequent.html#18646" class="Bound">S</a> <a id="18662" class="Symbol">-&gt;</a> <a id="18665" href="blog.Sequent.html#18642" class="Bound">Γ</a> <a id="18667" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="18669" href="blog.Sequent.html#18644" class="Bound">T</a> <a id="18671" class="Symbol">-&gt;</a> <a id="18674" href="blog.Sequent.html#18642" class="Bound">Γ</a> <a id="18676" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="18678" href="blog.Sequent.html#18646" class="Bound">S</a>
  <a id="18682" href="blog.Sequent.html#18682" class="Bound">a</a> <a id="18684" href="blog.Sequent.html#18633" class="Function Operator">[</a> <a id="18686" href="blog.Sequent.html#18686" class="Bound">b</a> <a id="18688" href="blog.Sequent.html#18633" class="Function Operator">]</a> <a id="18690" class="Symbol">=</a> <a id="18692" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="18703" class="Symbol">(λ</a> <a id="18706" class="Symbol">{</a> <a id="18708" href="blog.Sequent.html#15051" class="InductiveConstructor">here</a> <a id="18713" class="Symbol">→</a> <a id="18715" href="blog.Sequent.html#18686" class="Bound">b</a>
                          <a id="18743" class="Symbol">;</a> <a id="18745" class="Symbol">(</a><a id="18746" href="blog.Sequent.html#15082" class="InductiveConstructor">there</a> <a id="18752" href="blog.Sequent.html#18752" class="Bound">x</a><a id="18753" class="Symbol">)</a> <a id="18755" class="Symbol">→</a> <a id="18757" href="blog.Sequent.html#15202" class="InductiveConstructor">var</a> <a id="18761" href="blog.Sequent.html#18752" class="Bound">x</a><a id="18762" class="Symbol">})</a> <a id="18765" href="blog.Sequent.html#18682" class="Bound">a</a>

  <a id="18770" class="Keyword">infix</a> <a id="18776" class="Number">6</a> <a id="18778" href="blog.Sequent.html#18633" class="Function Operator">_[_]</a>

  <a id="STLC._`"></a><a id="18786" href="blog.Sequent.html#18786" class="Function Operator">_`</a> <a id="18789" class="Symbol">:</a> <a id="18791" class="Symbol">∀{</a><a id="18793" href="blog.Sequent.html#18793" class="Bound">Γ</a> <a id="18795" href="blog.Sequent.html#18795" class="Bound">T</a> <a id="18797" href="blog.Sequent.html#18797" class="Bound">S</a><a id="18798" class="Symbol">}</a> <a id="18800" class="Symbol">-&gt;</a> <a id="18803" href="blog.Sequent.html#18793" class="Bound">Γ</a> <a id="18805" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="18807" href="blog.Sequent.html#18797" class="Bound">S</a> <a id="18809" class="Symbol">-&gt;</a> <a id="18812" href="blog.Sequent.html#18793" class="Bound">Γ</a> <a id="18814" href="blog.Sequent.html#14983" class="InductiveConstructor Operator">,</a> <a id="18816" href="blog.Sequent.html#18795" class="Bound">T</a> <a id="18818" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="18820" href="blog.Sequent.html#18797" class="Bound">S</a>
  <a id="18824" href="blog.Sequent.html#18824" class="Bound">t</a> <a id="18826" href="blog.Sequent.html#18786" class="Function Operator">`</a>  <a id="18829" class="Symbol">=</a> <a id="18831" href="blog.Sequent.html#17626" class="Function">substitute</a> <a id="18842" class="Symbol">(λ</a> <a id="18845" href="blog.Sequent.html#18845" class="Bound">x</a> <a id="18847" class="Symbol">→</a> <a id="18849" href="blog.Sequent.html#15202" class="InductiveConstructor">var</a> <a id="18853" class="Symbol">(</a><a id="18854" href="blog.Sequent.html#15082" class="InductiveConstructor">there</a> <a id="18860" href="blog.Sequent.html#18845" class="Bound">x</a><a id="18861" class="Symbol">))</a> <a id="18864" href="blog.Sequent.html#18824" class="Bound">t</a>
</pre>

<p>
Note: If you think that the definition of substitution and renaming are very
similar, you are right. This is because the term is a functor (through rename)
and also a monad (through substitute). In fact, I have (kind of) explored the
relation between substitution and renaming an earlier post <a href="scoped-lambda-terms.html#ID-6d25ece7-27de-4847-a5d8-a5586c72bc6f">Well scoped lambda
terms</a>.
</p>

<p>
Now that we are done with defining every necessary required concept, we can
write down our reduction rules!
</p>
</div>
</div>

<div id="outline-container-org48c15e7" class="outline-3">
<h3 id="org48c15e7"><span class="section-number-3">3.6.</span> Naturals</h3>
<div class="outline-text-3" id="text-3-6">
<pre class="Agda">
  <a id="STLC.plus"></a><a id="19384" href="blog.Sequent.html#19384" class="Function">plus</a> <a id="19389" class="Symbol">:</a> <a id="19391" class="Symbol">∀{</a><a id="19393" href="blog.Sequent.html#19393" class="Bound">Γ</a><a id="19394" class="Symbol">}</a> <a id="19396" class="Symbol">-&gt;</a> <a id="19399" href="blog.Sequent.html#19393" class="Bound">Γ</a> <a id="19401" href="blog.Sequent.html#15167" class="Datatype Operator">⊢</a> <a id="19403" href="blog.Sequent.html#14879" class="InductiveConstructor">ℕ</a> <a id="19405" href="blog.Sequent.html#14784" class="InductiveConstructor Operator">=&gt;</a> <a id="19408" href="blog.Sequent.html#14879" class="InductiveConstructor">ℕ</a> <a id="19410" href="blog.Sequent.html#14784" class="InductiveConstructor Operator">=&gt;</a> <a id="19413" href="blog.Sequent.html#14879" class="InductiveConstructor">ℕ</a>
  <a id="19417" href="blog.Sequent.html#19384" class="Function">plus</a> <a id="19422" class="Symbol">=</a> <a id="19424" href="blog.Sequent.html#15357" class="InductiveConstructor">abs</a> <a id="19428" class="Symbol">(</a><a id="19429" href="blog.Sequent.html#15357" class="InductiveConstructor">abs</a> <a id="19433" class="Symbol">(</a><a id="19434" href="blog.Sequent.html#15869" class="InductiveConstructor">ℕ-elim</a> <a id="19441" class="Symbol">(</a><a id="19442" href="blog.Sequent.html#15202" class="InductiveConstructor">var</a> <a id="19446" class="Symbol">(</a><a id="19447" href="blog.Sequent.html#15082" class="InductiveConstructor">there</a> <a id="19453" href="blog.Sequent.html#15051" class="InductiveConstructor">here</a><a id="19457" class="Symbol">))</a> <a id="19460" class="Symbol">(</a><a id="19461" href="blog.Sequent.html#15202" class="InductiveConstructor">var</a> <a id="19465" href="blog.Sequent.html#15051" class="InductiveConstructor">here</a><a id="19469" class="Symbol">)</a> <a id="19471" class="Symbol">(</a><a id="19472" href="blog.Sequent.html#15815" class="InductiveConstructor">ℕ-intro-suc</a> <a id="19484" class="Symbol">(</a><a id="19485" href="blog.Sequent.html#15202" class="InductiveConstructor">var</a> <a id="19489" href="blog.Sequent.html#15051" class="InductiveConstructor">here</a><a id="19493" class="Symbol">))))</a>


  <a id="19502" class="Comment">-- _ : ∀{Γ}</a>
  <a id="19516" class="Comment">--   -&gt; app {Γ} (app plus (ℕ-intro-suc (ℕ-intro-suc ℕ-intro-zero))) (ℕ-intro-suc (ℕ-intro-suc ℕ-intro-zero))</a>
  <a id="19627" class="Comment">--      ~~&gt; (ℕ-intro-suc (ℕ-intro-suc (ℕ-intro-suc (ℕ-intro-suc ℕ-intro-zero))))</a>
  <a id="19710" class="Comment">-- _ = {!!}</a>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf98b224" class="outline-2">
<h2 id="orgf98b224"><span class="section-number-2">4.</span> System F</h2>
<div class="outline-text-2" id="text-4">
<pre class="Agda">
<a id="19763" class="Keyword">module</a> <a id="SystemF"></a><a id="19770" href="blog.Sequent.html#19770" class="Module">SystemF</a> <a id="19778" class="Keyword">where</a>
  <a id="19786" class="Keyword">infix</a> <a id="19792" class="Number">2</a> <a id="19794" href="blog.Sequent.html#21297" class="Datatype Operator">_⊢_</a> <a id="19798" href="blog.Sequent.html#21144" class="Datatype Operator">_⊢*</a> <a id="19802" href="blog.Sequent.html#21457" class="Datatype Operator">_∋*</a> <a id="19806" href="blog.Sequent.html#21624" class="Datatype Operator">_∋_</a>
  <a id="19812" class="Keyword">infixl</a> <a id="19819" class="Number">3</a> <a id="19821" href="blog.Sequent.html#22031" class="InductiveConstructor Operator">_,_</a> <a id="19825" href="blog.Sequent.html#22104" class="InductiveConstructor Operator">_,*</a>
  <a id="19831" class="Keyword">infixr</a> <a id="19838" class="Number">4</a> <a id="19840" href="blog.Sequent.html#22952" class="InductiveConstructor Operator">_=&gt;_</a>
  <a id="19847" class="Keyword">infixr</a> <a id="19854" class="Number">5</a> <a id="19856" href="blog.Sequent.html#22896" class="InductiveConstructor Operator">_+_</a>
  <a id="19862" class="Keyword">infixr</a> <a id="19869" class="Number">6</a> <a id="19871" href="blog.Sequent.html#22840" class="InductiveConstructor Operator">_×_</a>
</pre>

<p>
<a href="https://en.wikipedia.org/wiki/System_F">System F</a> extends the simply typed lambda calculus with type quantification. This
means that in System F, it is possible to give a type to the polymorphic
identity function
</p>

<p>
\[ \Lambda \alpha. \lambda x_\alpha.x : \forall \alpha. \alpha \Rightarrow \alpha \]
</p>

<p>
However, formalizing System F in agda will be harder than for the simply typed
&lambda;-calculus for a couple of reasons:
</p>

<ol class="org-ol">
<li>In the STLC, a context is simply a list of types and types don't depend on
anytying. In System F, a type depends on its context.</li>
<li>In the STLC, there are no type variable. Every type is concrete. This is not
the case for System F in which types AND terms might refer to type variables.</li>
</ol>

<p>
Because we don't have the nice "terms depend on contexts depend on types depend
on nothing" hierarchy, we will use Agda's <code>interleaved mutual</code> block to define
everyting all at once and let us express the cyclic dependencies.
</p>

<pre class="Agda">
  <a id="20854" class="Keyword">interleaved</a> <a id="20866" class="Keyword">mutual</a>
</pre>

<p>
Our formalization will be made of five different entities.
</p>

<ul class="org-ul">
<li>Contexts which contain term and type variables.</li>
</ul>

<pre class="Agda">
    <a id="21017" class="Keyword">data</a> <a id="SystemF.Ctx"></a><a id="21022" href="blog.Sequent.html#21022" class="Datatype">Ctx</a> <a id="21026" class="Symbol">:</a> <a id="21028" href="Agda.Primitive.html#388" class="Primitive">Set</a>
</pre>

<ul class="org-ul">
<li>Types where a \( \Gamma \vdash * \) is a type in context \( \Gamma \).</li>
</ul>

<pre class="Agda">
    <a id="21139" class="Keyword">data</a> <a id="SystemF._⊢*"></a><a id="21144" href="blog.Sequent.html#21144" class="Datatype Operator">_⊢*</a> <a id="21148" class="Symbol">:</a> <a id="21150" href="blog.Sequent.html#21022" class="Datatype">Ctx</a> <a id="21154" class="Symbol">-&gt;</a> <a id="21157" href="Agda.Primitive.html#388" class="Primitive">Set</a>
</pre>
<ul class="org-ul">
<li>Terms where a \( \Gamma \vdash \tau \) means a term of type \( \tau \) in context \( \Gamma \).</li>
</ul>

<pre class="Agda">
    <a id="21292" class="Keyword">data</a> <a id="SystemF._⊢_"></a><a id="21297" href="blog.Sequent.html#21297" class="Datatype Operator">_⊢_</a> <a id="21301" class="Symbol">:</a> <a id="21303" class="Symbol">(</a><a id="21304" href="blog.Sequent.html#21304" class="Bound">Γ</a> <a id="21306" class="Symbol">:</a> <a id="21308" href="blog.Sequent.html#21022" class="Datatype">Ctx</a><a id="21311" class="Symbol">)</a> <a id="21313" class="Symbol">-&gt;</a> <a id="21316" href="blog.Sequent.html#21304" class="Bound">Γ</a> <a id="21318" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a> <a id="21321" class="Symbol">-&gt;</a> <a id="21324" href="Agda.Primitive.html#388" class="Primitive">Set</a>
</pre>

<ul class="org-ul">
<li>Type variables where a \( \Gamma \ni * \)  refers to some type variable in the context.</li>
</ul>

<pre class="Agda">
    <a id="21452" class="Keyword">data</a> <a id="SystemF._∋*"></a><a id="21457" href="blog.Sequent.html#21457" class="Datatype Operator">_∋*</a> <a id="21461" class="Symbol">:</a> <a id="21463" class="Symbol">(</a><a id="21464" href="blog.Sequent.html#21464" class="Bound">Γ</a> <a id="21466" class="Symbol">:</a> <a id="21468" href="blog.Sequent.html#21022" class="Datatype">Ctx</a><a id="21471" class="Symbol">)</a> <a id="21473" class="Symbol">-&gt;</a> <a id="21476" href="Agda.Primitive.html#388" class="Primitive">Set</a>
</pre>

<ul class="org-ul">
<li>Term variables where a \( \Gamma \ni \tau \) refers to a variable of type \( \tau \)
in the context.</li>
</ul>

<pre class="Agda">
    <a id="21619" class="Keyword">data</a> <a id="SystemF._∋_"></a><a id="21624" href="blog.Sequent.html#21624" class="Datatype Operator">_∋_</a> <a id="21628" class="Symbol">:</a> <a id="21630" class="Symbol">(</a><a id="21631" href="blog.Sequent.html#21631" class="Bound">Γ</a> <a id="21633" class="Symbol">:</a> <a id="21635" href="blog.Sequent.html#21022" class="Datatype">Ctx</a><a id="21638" class="Symbol">)</a> <a id="21640" class="Symbol">-&gt;</a> <a id="21643" href="blog.Sequent.html#21631" class="Bound">Γ</a> <a id="21645" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a> <a id="21648" class="Symbol">-&gt;</a> <a id="21651" href="Agda.Primitive.html#388" class="Primitive">Set</a>
</pre>
</div>

<div id="outline-container-org7d1098b" class="outline-3">
<h3 id="org7d1098b"><span class="section-number-3">4.1.</span> Context</h3>
<div class="outline-text-3" id="text-4-1">
<p>
In the STLC, a context was a list of the term variable's types. Now, it will be
containing two things: the (term level) variable's types (in the polymorphic
identity function, we had \( x : \alpha \)) and the type variables themselves (\(
\alpha : * \)).
</p>

<pre class="Agda">
    <a id="21956" class="Keyword">data</a> <a id="21961" href="blog.Sequent.html#21022" class="Datatype">Ctx</a> <a id="21965" class="Keyword">where</a>
      <a id="SystemF.Ctx.●"></a><a id="21977" href="blog.Sequent.html#21977" class="InductiveConstructor">●</a> <a id="21979" class="Symbol">:</a> <a id="21981" href="blog.Sequent.html#21022" class="Datatype">Ctx</a>
      <a id="21991" class="Comment">-- Term level variables of type t</a>
      <a id="SystemF.Ctx._,_"></a><a id="22031" href="blog.Sequent.html#22031" class="InductiveConstructor Operator">_,_</a> <a id="22035" class="Symbol">:</a> <a id="22037" class="Symbol">(</a><a id="22038" href="blog.Sequent.html#22038" class="Bound">Γ</a> <a id="22040" class="Symbol">:</a> <a id="22042" href="blog.Sequent.html#21022" class="Datatype">Ctx</a><a id="22045" class="Symbol">)</a> <a id="22047" class="Symbol">-&gt;</a> <a id="22050" class="Symbol">(</a><a id="22051" href="blog.Sequent.html#22051" class="Bound">t</a> <a id="22053" class="Symbol">:</a> <a id="22055" href="blog.Sequent.html#22038" class="Bound">Γ</a> <a id="22057" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a><a id="22059" class="Symbol">)</a> <a id="22061" class="Symbol">-&gt;</a> <a id="22064" href="blog.Sequent.html#21022" class="Datatype">Ctx</a>
      <a id="22074" class="Comment">-- Type level variables</a>
      <a id="SystemF.Ctx._,*"></a><a id="22104" href="blog.Sequent.html#22104" class="InductiveConstructor Operator">_,*</a> <a id="22108" class="Symbol">:</a> <a id="22110" href="blog.Sequent.html#21022" class="Datatype">Ctx</a> <a id="22114" class="Symbol">-&gt;</a> <a id="22117" href="blog.Sequent.html#21022" class="Datatype">Ctx</a>
</pre>
</div>
</div>

<div id="outline-container-org0d77abf" class="outline-3">
<h3 id="org0d77abf"><span class="section-number-3">4.2.</span> Type references</h3>
<div class="outline-text-3" id="text-4-2">
<p>
When a type exists in a context, it may refer to type variables in the context.
Since our context now contains to kinds of variables (type variables and term
variables), we have to account for this by adding a constructor <code>skip</code> .
</p>

<pre class="Agda">
    <a id="22406" class="Keyword">data</a> <a id="22411" href="blog.Sequent.html#21457" class="Datatype Operator">_∋*</a> <a id="22415" class="Keyword">where</a>
      <a id="SystemF._∋*.here"></a><a id="22427" href="blog.Sequent.html#22427" class="InductiveConstructor">here</a> <a id="22432" class="Symbol">:</a> <a id="22434" class="Symbol">∀{</a><a id="22436" href="blog.Sequent.html#22436" class="Bound">Γ</a><a id="22437" class="Symbol">}</a> <a id="22439" class="Symbol">-&gt;</a> <a id="22442" href="blog.Sequent.html#22436" class="Bound">Γ</a> <a id="22444" href="blog.Sequent.html#22104" class="InductiveConstructor Operator">,*</a> <a id="22447" href="blog.Sequent.html#21457" class="Datatype Operator">∋*</a>
      <a id="SystemF._∋*.there"></a><a id="22456" href="blog.Sequent.html#22456" class="InductiveConstructor">there</a> <a id="22462" class="Symbol">:</a> <a id="22464" class="Symbol">∀{</a><a id="22466" href="blog.Sequent.html#22466" class="Bound">Γ</a><a id="22467" class="Symbol">}</a> <a id="22469" class="Symbol">-&gt;</a> <a id="22472" href="blog.Sequent.html#22466" class="Bound">Γ</a> <a id="22474" href="blog.Sequent.html#21457" class="Datatype Operator">∋*</a> <a id="22477" class="Symbol">-&gt;</a> <a id="22480" href="blog.Sequent.html#22466" class="Bound">Γ</a> <a id="22482" href="blog.Sequent.html#22104" class="InductiveConstructor Operator">,*</a> <a id="22485" href="blog.Sequent.html#21457" class="Datatype Operator">∋*</a>
      <a id="SystemF._∋*.skip"></a><a id="22494" href="blog.Sequent.html#22494" class="InductiveConstructor">skip</a> <a id="22499" class="Symbol">:</a> <a id="22501" class="Symbol">∀{</a><a id="22503" href="blog.Sequent.html#22503" class="Bound">Γ</a><a id="22504" class="Symbol">}</a> <a id="22506" class="Symbol">{</a><a id="22507" href="blog.Sequent.html#22507" class="Bound">t</a> <a id="22509" class="Symbol">:</a> <a id="22511" href="blog.Sequent.html#22503" class="Bound">Γ</a> <a id="22513" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a><a id="22515" class="Symbol">}</a> <a id="22517" class="Symbol">-&gt;</a> <a id="22520" href="blog.Sequent.html#22503" class="Bound">Γ</a> <a id="22522" href="blog.Sequent.html#21457" class="Datatype Operator">∋*</a> <a id="22525" class="Symbol">-&gt;</a> <a id="22528" href="blog.Sequent.html#22503" class="Bound">Γ</a> <a id="22530" href="blog.Sequent.html#22031" class="InductiveConstructor Operator">,</a> <a id="22532" href="blog.Sequent.html#22507" class="Bound">t</a> <a id="22534" href="blog.Sequent.html#21457" class="Datatype Operator">∋*</a>
</pre>
</div>
</div>

<div id="outline-container-orga83d5b8" class="outline-3">
<h3 id="orga83d5b8"><span class="section-number-3">4.3.</span> Types</h3>
<div class="outline-text-3" id="text-4-3">
<p>
The universe of types is very similar to what we had in the STLC, but this time,
it depends on the context in which the type lives. Most old types that we had in
the STLC, don't change much.
</p>

<pre class="Agda">
    <a id="22772" class="Keyword">data</a> <a id="22777" href="blog.Sequent.html#21144" class="Datatype Operator">_⊢*</a> <a id="22781" class="Keyword">where</a>
      <a id="SystemF._⊢*.⊤"></a><a id="22793" href="blog.Sequent.html#22793" class="InductiveConstructor">⊤</a> <a id="22795" class="Symbol">:</a> <a id="22797" class="Symbol">∀{</a><a id="22799" href="blog.Sequent.html#22799" class="Bound">Γ</a><a id="22800" class="Symbol">}</a> <a id="22802" class="Symbol">-&gt;</a> <a id="22805" href="blog.Sequent.html#22799" class="Bound">Γ</a> <a id="22807" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a>
      <a id="SystemF._⊢*.⊥"></a><a id="22816" href="blog.Sequent.html#22816" class="InductiveConstructor">⊥</a> <a id="22818" class="Symbol">:</a> <a id="22820" class="Symbol">∀{</a><a id="22822" href="blog.Sequent.html#22822" class="Bound">Γ</a><a id="22823" class="Symbol">}</a> <a id="22825" class="Symbol">-&gt;</a> <a id="22828" href="blog.Sequent.html#22822" class="Bound">Γ</a> <a id="22830" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a>

      <a id="SystemF._⊢*._×_"></a><a id="22840" href="blog.Sequent.html#22840" class="InductiveConstructor Operator">_×_</a> <a id="22844" class="Symbol">:</a> <a id="22846" class="Symbol">∀{</a><a id="22848" href="blog.Sequent.html#22848" class="Bound">Γ</a><a id="22849" class="Symbol">}</a> <a id="22851" class="Symbol">(</a><a id="22852" href="blog.Sequent.html#22852" class="Bound">a</a> <a id="22854" class="Symbol">:</a> <a id="22856" href="blog.Sequent.html#22848" class="Bound">Γ</a> <a id="22858" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a><a id="22860" class="Symbol">)</a> <a id="22862" class="Symbol">(</a><a id="22863" href="blog.Sequent.html#22863" class="Bound">b</a> <a id="22865" class="Symbol">:</a> <a id="22867" href="blog.Sequent.html#22848" class="Bound">Γ</a> <a id="22869" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a><a id="22871" class="Symbol">)</a>
        <a id="22881" class="Symbol">-&gt;</a> <a id="22884" href="blog.Sequent.html#22848" class="Bound">Γ</a> <a id="22886" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a>

      <a id="SystemF._⊢*._+_"></a><a id="22896" href="blog.Sequent.html#22896" class="InductiveConstructor Operator">_+_</a> <a id="22900" class="Symbol">:</a> <a id="22902" class="Symbol">∀{</a><a id="22904" href="blog.Sequent.html#22904" class="Bound">Γ</a><a id="22905" class="Symbol">}</a> <a id="22907" class="Symbol">(</a><a id="22908" href="blog.Sequent.html#22908" class="Bound">a</a> <a id="22910" class="Symbol">:</a> <a id="22912" href="blog.Sequent.html#22904" class="Bound">Γ</a> <a id="22914" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a><a id="22916" class="Symbol">)</a> <a id="22918" class="Symbol">(</a><a id="22919" href="blog.Sequent.html#22919" class="Bound">b</a> <a id="22921" class="Symbol">:</a> <a id="22923" href="blog.Sequent.html#22904" class="Bound">Γ</a> <a id="22925" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a><a id="22927" class="Symbol">)</a>
        <a id="22937" class="Symbol">-&gt;</a> <a id="22940" href="blog.Sequent.html#22904" class="Bound">Γ</a> <a id="22942" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a>

      <a id="SystemF._⊢*._=&gt;_"></a><a id="22952" href="blog.Sequent.html#22952" class="InductiveConstructor Operator">_=&gt;_</a> <a id="22957" class="Symbol">:</a> <a id="22959" class="Symbol">∀{</a><a id="22961" href="blog.Sequent.html#22961" class="Bound">Γ</a><a id="22962" class="Symbol">}</a> <a id="22964" class="Symbol">(</a><a id="22965" href="blog.Sequent.html#22965" class="Bound">a</a> <a id="22967" class="Symbol">:</a> <a id="22969" href="blog.Sequent.html#22961" class="Bound">Γ</a> <a id="22971" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a><a id="22973" class="Symbol">)</a> <a id="22975" class="Symbol">(</a><a id="22976" href="blog.Sequent.html#22976" class="Bound">b</a> <a id="22978" class="Symbol">:</a> <a id="22980" href="blog.Sequent.html#22961" class="Bound">Γ</a> <a id="22982" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a><a id="22984" class="Symbol">)</a>
        <a id="22994" class="Symbol">-&gt;</a> <a id="22997" href="blog.Sequent.html#22961" class="Bound">Γ</a> <a id="22999" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a>
</pre>

<p>
But we have new types: type variables and type quantification. A type variable
is pretty much what you would expect: a type reference into the context.
</p>

<pre class="Agda">
      <a id="SystemF._⊢*.var"></a><a id="23190" href="blog.Sequent.html#23190" class="InductiveConstructor">var</a> <a id="23194" class="Symbol">:</a> <a id="23196" class="Symbol">∀{</a><a id="23198" href="blog.Sequent.html#23198" class="Bound">Γ</a><a id="23199" class="Symbol">}</a> <a id="23201" class="Symbol">-&gt;</a> <a id="23204" href="blog.Sequent.html#23198" class="Bound">Γ</a> <a id="23206" href="blog.Sequent.html#21457" class="Datatype Operator">∋*</a> <a id="23209" class="Symbol">-&gt;</a> <a id="23212" href="blog.Sequent.html#23198" class="Bound">Γ</a> <a id="23214" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a>
</pre>

<p>
And type quantification, like the STLC's <code>abs</code> constructor but for types, simply
binds a free type variable in the context.
</p>

<pre class="Agda">
      <a id="23377" class="Comment">-- ∀ is a reserved identifier, so we must add a &#39;</a>
      <a id="SystemF._⊢*.∀&#39;"></a><a id="23433" href="blog.Sequent.html#23433" class="InductiveConstructor">∀&#39;</a> <a id="23436" class="Symbol">:</a> <a id="23438" class="Symbol">∀{</a><a id="23440" href="blog.Sequent.html#23440" class="Bound">Γ</a><a id="23441" class="Symbol">}</a>
        <a id="23451" class="Symbol">-&gt;</a> <a id="23454" href="blog.Sequent.html#23440" class="Bound">Γ</a> <a id="23456" href="blog.Sequent.html#22104" class="InductiveConstructor Operator">,*</a> <a id="23459" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a>
        <a id="23470" class="Symbol">-&gt;</a> <a id="23473" href="blog.Sequent.html#23440" class="Bound">Γ</a> <a id="23475" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a>
</pre>
</div>
</div>

<div id="outline-container-orga051901" class="outline-3">
<h3 id="orga051901"><span class="section-number-3">4.4.</span> Type renaming, substitution et cetera</h3>
<div class="outline-text-3" id="text-4-4">
<p>
If our universe of types admits variables and quantification, it follows that we
will need type level renaming and substitution procedures. Those work pretty
much the same ways as STLC's, but we must pay particular attention not to
confuse type variables which are all indistinguishable from each other.
</p>

<p>
Another change is that since we now have two kinds of variables we can add to a
context (a term variable and a type variable), a couple of functions are
duplicated. Those that add a term variable will keep the old name and those that
add a type variable will have a \( * \) at the end.
</p>

<pre class="Agda">
    <a id="24145" class="Comment">-- Renaming and substitution for types</a>
    <a id="SystemF.tRenaming"></a><a id="24188" href="blog.Sequent.html#24188" class="Function">tRenaming</a> <a id="24198" class="Symbol">:</a> <a id="24200" href="blog.Sequent.html#21022" class="Datatype">Ctx</a> <a id="24204" class="Symbol">-&gt;</a> <a id="24207" href="blog.Sequent.html#21022" class="Datatype">Ctx</a> <a id="24211" class="Symbol">-&gt;</a> <a id="24214" href="Agda.Primitive.html#388" class="Primitive">Set</a>
    <a id="24222" href="blog.Sequent.html#24188" class="Function">tRenaming</a> <a id="24232" href="blog.Sequent.html#24232" class="Bound">Γ</a> <a id="24234" href="blog.Sequent.html#24234" class="Bound">Δ</a> <a id="24236" class="Symbol">=</a> <a id="24238" href="blog.Sequent.html#24232" class="Bound">Γ</a> <a id="24240" href="blog.Sequent.html#21457" class="Datatype Operator">∋*</a> <a id="24243" class="Symbol">-&gt;</a> <a id="24246" href="blog.Sequent.html#24234" class="Bound">Δ</a> <a id="24248" href="blog.Sequent.html#21457" class="Datatype Operator">∋*</a>

    <a id="SystemF.tSubstitution"></a><a id="24256" href="blog.Sequent.html#24256" class="Function">tSubstitution</a> <a id="24270" class="Symbol">:</a> <a id="24272" href="blog.Sequent.html#21022" class="Datatype">Ctx</a> <a id="24276" class="Symbol">-&gt;</a> <a id="24279" href="blog.Sequent.html#21022" class="Datatype">Ctx</a> <a id="24283" class="Symbol">-&gt;</a> <a id="24286" href="Agda.Primitive.html#388" class="Primitive">Set</a>
    <a id="24294" href="blog.Sequent.html#24256" class="Function">tSubstitution</a> <a id="24308" href="blog.Sequent.html#24308" class="Bound">Γ</a> <a id="24310" href="blog.Sequent.html#24310" class="Bound">Δ</a> <a id="24312" class="Symbol">=</a> <a id="24314" href="blog.Sequent.html#24308" class="Bound">Γ</a> <a id="24316" href="blog.Sequent.html#21457" class="Datatype Operator">∋*</a> <a id="24319" class="Symbol">-&gt;</a> <a id="24322" href="blog.Sequent.html#24310" class="Bound">Δ</a> <a id="24324" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a>

    <a id="24332" class="Comment">-- Variable renaming for types</a>
    <a id="SystemF.tRename"></a><a id="24367" href="blog.Sequent.html#24367" class="Function">tRename</a> <a id="24375" class="Symbol">:</a> <a id="24377" class="Symbol">∀{</a><a id="24379" href="blog.Sequent.html#24379" class="Bound">Γ</a> <a id="24381" href="blog.Sequent.html#24381" class="Bound">Δ</a><a id="24382" class="Symbol">}</a> <a id="24384" class="Symbol">-&gt;</a> <a id="24387" href="blog.Sequent.html#24188" class="Function">tRenaming</a> <a id="24397" href="blog.Sequent.html#24379" class="Bound">Γ</a> <a id="24399" href="blog.Sequent.html#24381" class="Bound">Δ</a> <a id="24401" class="Symbol">-&gt;</a> <a id="24404" href="blog.Sequent.html#24379" class="Bound">Γ</a> <a id="24406" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a> <a id="24409" class="Symbol">-&gt;</a> <a id="24412" href="blog.Sequent.html#24381" class="Bound">Δ</a> <a id="24414" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a>

    <a id="24422" class="Comment">-- Renaming extension for types</a>
    <a id="SystemF.tExtend"></a><a id="24458" href="blog.Sequent.html#24458" class="Function">tExtend</a> <a id="24466" class="Symbol">:</a> <a id="24468" class="Symbol">∀{</a><a id="24470" href="blog.Sequent.html#24470" class="Bound">Γ</a> <a id="24472" href="blog.Sequent.html#24472" class="Bound">Δ</a><a id="24473" class="Symbol">}</a> <a id="24475" class="Symbol">{</a><a id="24476" href="blog.Sequent.html#24476" class="Bound">t</a> <a id="24478" class="Symbol">:</a> <a id="24480" href="blog.Sequent.html#24470" class="Bound">Γ</a> <a id="24482" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a><a id="24484" class="Symbol">}</a> <a id="24486" class="Symbol">-&gt;</a> <a id="24489" class="Symbol">(</a><a id="24490" href="blog.Sequent.html#24490" class="Bound">r</a> <a id="24492" class="Symbol">:</a> <a id="24494" href="blog.Sequent.html#24188" class="Function">tRenaming</a> <a id="24504" href="blog.Sequent.html#24470" class="Bound">Γ</a> <a id="24506" href="blog.Sequent.html#24472" class="Bound">Δ</a><a id="24507" class="Symbol">)</a> <a id="24509" class="Symbol">-&gt;</a> <a id="24512" href="blog.Sequent.html#24188" class="Function">tRenaming</a> <a id="24522" class="Symbol">(</a><a id="24523" href="blog.Sequent.html#24470" class="Bound">Γ</a> <a id="24525" href="blog.Sequent.html#22031" class="InductiveConstructor Operator">,</a> <a id="24527" href="blog.Sequent.html#24476" class="Bound">t</a><a id="24528" class="Symbol">)</a> <a id="24530" class="Symbol">(</a><a id="24531" href="blog.Sequent.html#24472" class="Bound">Δ</a> <a id="24533" href="blog.Sequent.html#22031" class="InductiveConstructor Operator">,</a> <a id="24535" href="blog.Sequent.html#24367" class="Function">tRename</a> <a id="24543" href="blog.Sequent.html#24490" class="Bound">r</a> <a id="24545" href="blog.Sequent.html#24476" class="Bound">t</a><a id="24546" class="Symbol">)</a>
    <a id="SystemF.tExtend*"></a><a id="24552" href="blog.Sequent.html#24552" class="Function">tExtend*</a> <a id="24561" class="Symbol">:</a> <a id="24563" class="Symbol">∀{</a><a id="24565" href="blog.Sequent.html#24565" class="Bound">Γ</a> <a id="24567" href="blog.Sequent.html#24567" class="Bound">Δ</a><a id="24568" class="Symbol">}</a>           <a id="24580" class="Symbol">-&gt;</a> <a id="24583" href="blog.Sequent.html#24188" class="Function">tRenaming</a> <a id="24593" href="blog.Sequent.html#24565" class="Bound">Γ</a> <a id="24595" href="blog.Sequent.html#24567" class="Bound">Δ</a>       <a id="24603" class="Symbol">-&gt;</a> <a id="24606" href="blog.Sequent.html#24188" class="Function">tRenaming</a> <a id="24616" class="Symbol">(</a><a id="24617" href="blog.Sequent.html#24565" class="Bound">Γ</a> <a id="24619" href="blog.Sequent.html#22104" class="InductiveConstructor Operator">,*</a><a id="24621" class="Symbol">)</a>  <a id="24624" class="Symbol">(</a><a id="24625" href="blog.Sequent.html#24567" class="Bound">Δ</a> <a id="24627" href="blog.Sequent.html#22104" class="InductiveConstructor Operator">,*</a><a id="24629" class="Symbol">)</a>

    <a id="24636" class="Comment">-- Context extension for types</a>
    <a id="SystemF.tShift"></a><a id="24671" href="blog.Sequent.html#24671" class="Function">tShift</a>  <a id="24679" class="Symbol">:</a> <a id="24681" class="Symbol">∀{</a><a id="24683" href="blog.Sequent.html#24683" class="Bound">Γ</a><a id="24684" class="Symbol">}</a> <a id="24686" class="Symbol">{</a><a id="24687" href="blog.Sequent.html#24687" class="Bound">t</a> <a id="24689" class="Symbol">:</a> <a id="24691" href="blog.Sequent.html#24683" class="Bound">Γ</a> <a id="24693" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a><a id="24695" class="Symbol">}</a> <a id="24697" class="Symbol">-&gt;</a> <a id="24700" href="blog.Sequent.html#24683" class="Bound">Γ</a> <a id="24702" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a> <a id="24705" class="Symbol">-&gt;</a> <a id="24708" href="blog.Sequent.html#24683" class="Bound">Γ</a> <a id="24710" href="blog.Sequent.html#22031" class="InductiveConstructor Operator">,</a> <a id="24712" href="blog.Sequent.html#24687" class="Bound">t</a> <a id="24714" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a>
    <a id="SystemF.tShift*"></a><a id="24721" href="blog.Sequent.html#24721" class="Function">tShift*</a> <a id="24729" class="Symbol">:</a> <a id="24731" class="Symbol">∀{</a><a id="24733" href="blog.Sequent.html#24733" class="Bound">Γ</a><a id="24734" class="Symbol">}</a>            <a id="24747" class="Symbol">-&gt;</a> <a id="24750" href="blog.Sequent.html#24733" class="Bound">Γ</a> <a id="24752" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a> <a id="24755" class="Symbol">-&gt;</a> <a id="24758" href="blog.Sequent.html#24733" class="Bound">Γ</a> <a id="24760" href="blog.Sequent.html#22104" class="InductiveConstructor Operator">,*</a>  <a id="24764" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a>

    
    <a id="24777" href="blog.Sequent.html#24367" class="Function">tRename</a> <a id="24785" href="blog.Sequent.html#24785" class="Bound">r</a> <a id="24787" class="Symbol">(</a><a id="24788" href="blog.Sequent.html#23190" class="InductiveConstructor">var</a> <a id="24792" href="blog.Sequent.html#24792" class="Bound">x</a><a id="24793" class="Symbol">)</a> <a id="24795" class="Symbol">=</a> <a id="24797" href="blog.Sequent.html#23190" class="InductiveConstructor">var</a> <a id="24801" class="Symbol">(</a><a id="24802" href="blog.Sequent.html#24785" class="Bound">r</a> <a id="24804" href="blog.Sequent.html#24792" class="Bound">x</a><a id="24805" class="Symbol">)</a>
    <a id="24811" href="blog.Sequent.html#24367" class="Function">tRename</a> <a id="24819" href="blog.Sequent.html#24819" class="Bound">r</a> <a id="24821" href="blog.Sequent.html#22793" class="InductiveConstructor">⊤</a> <a id="24823" class="Symbol">=</a> <a id="24825" href="blog.Sequent.html#22793" class="InductiveConstructor">⊤</a>
    <a id="24831" href="blog.Sequent.html#24367" class="Function">tRename</a> <a id="24839" href="blog.Sequent.html#24839" class="Bound">r</a> <a id="24841" href="blog.Sequent.html#22816" class="InductiveConstructor">⊥</a> <a id="24843" class="Symbol">=</a> <a id="24845" href="blog.Sequent.html#22816" class="InductiveConstructor">⊥</a>
    <a id="24851" href="blog.Sequent.html#24367" class="Function">tRename</a> <a id="24859" href="blog.Sequent.html#24859" class="Bound">r</a> <a id="24861" class="Symbol">(</a><a id="24862" href="blog.Sequent.html#24862" class="Bound">t1</a> <a id="24865" href="blog.Sequent.html#22840" class="InductiveConstructor Operator">×</a> <a id="24867" href="blog.Sequent.html#24867" class="Bound">t2</a><a id="24869" class="Symbol">)</a> <a id="24871" class="Symbol">=</a> <a id="24873" href="blog.Sequent.html#24367" class="Function">tRename</a> <a id="24881" href="blog.Sequent.html#24859" class="Bound">r</a> <a id="24883" href="blog.Sequent.html#24862" class="Bound">t1</a> <a id="24886" href="blog.Sequent.html#22840" class="InductiveConstructor Operator">×</a> <a id="24888" href="blog.Sequent.html#24367" class="Function">tRename</a> <a id="24896" href="blog.Sequent.html#24859" class="Bound">r</a> <a id="24898" href="blog.Sequent.html#24867" class="Bound">t2</a>
    <a id="24905" href="blog.Sequent.html#24367" class="Function">tRename</a> <a id="24913" href="blog.Sequent.html#24913" class="Bound">r</a> <a id="24915" class="Symbol">(</a><a id="24916" href="blog.Sequent.html#24916" class="Bound">t1</a> <a id="24919" href="blog.Sequent.html#22896" class="InductiveConstructor Operator">+</a> <a id="24921" href="blog.Sequent.html#24921" class="Bound">t2</a><a id="24923" class="Symbol">)</a> <a id="24925" class="Symbol">=</a> <a id="24927" href="blog.Sequent.html#24367" class="Function">tRename</a> <a id="24935" href="blog.Sequent.html#24913" class="Bound">r</a> <a id="24937" href="blog.Sequent.html#24916" class="Bound">t1</a> <a id="24940" href="blog.Sequent.html#22896" class="InductiveConstructor Operator">+</a> <a id="24942" href="blog.Sequent.html#24367" class="Function">tRename</a> <a id="24950" href="blog.Sequent.html#24913" class="Bound">r</a> <a id="24952" href="blog.Sequent.html#24921" class="Bound">t2</a>
    <a id="24959" href="blog.Sequent.html#24367" class="Function">tRename</a> <a id="24967" href="blog.Sequent.html#24967" class="Bound">r</a> <a id="24969" class="Symbol">(</a><a id="24970" href="blog.Sequent.html#24970" class="Bound">t1</a> <a id="24973" href="blog.Sequent.html#22952" class="InductiveConstructor Operator">=&gt;</a> <a id="24976" href="blog.Sequent.html#24976" class="Bound">t2</a><a id="24978" class="Symbol">)</a> <a id="24980" class="Symbol">=</a> <a id="24982" href="blog.Sequent.html#24367" class="Function">tRename</a> <a id="24990" href="blog.Sequent.html#24967" class="Bound">r</a> <a id="24992" href="blog.Sequent.html#24970" class="Bound">t1</a> <a id="24995" href="blog.Sequent.html#22952" class="InductiveConstructor Operator">=&gt;</a> <a id="24998" href="blog.Sequent.html#24367" class="Function">tRename</a> <a id="25006" href="blog.Sequent.html#24967" class="Bound">r</a> <a id="25008" href="blog.Sequent.html#24976" class="Bound">t2</a>
    <a id="25015" href="blog.Sequent.html#24367" class="Function">tRename</a> <a id="25023" href="blog.Sequent.html#25023" class="Bound">r</a> <a id="25025" class="Symbol">(</a><a id="25026" href="blog.Sequent.html#23433" class="InductiveConstructor">∀&#39;</a> <a id="25029" href="blog.Sequent.html#25029" class="Bound">t</a><a id="25030" class="Symbol">)</a> <a id="25032" class="Symbol">=</a> <a id="25034" href="blog.Sequent.html#23433" class="InductiveConstructor">∀&#39;</a> <a id="25037" class="Symbol">(</a><a id="25038" href="blog.Sequent.html#24367" class="Function">tRename</a> <a id="25046" class="Symbol">(</a><a id="25047" href="blog.Sequent.html#24552" class="Function">tExtend*</a> <a id="25056" href="blog.Sequent.html#25023" class="Bound">r</a><a id="25057" class="Symbol">)</a> <a id="25059" href="blog.Sequent.html#25029" class="Bound">t</a><a id="25060" class="Symbol">)</a>

    <a id="25067" href="blog.Sequent.html#24458" class="Function">tExtend</a> <a id="25075" href="blog.Sequent.html#25075" class="Bound">r</a> <a id="25077" class="Symbol">(</a><a id="25078" href="blog.Sequent.html#22494" class="InductiveConstructor">skip</a> <a id="25083" href="blog.Sequent.html#25083" class="Bound">t</a><a id="25084" class="Symbol">)</a> <a id="25086" class="Symbol">=</a> <a id="25088" href="blog.Sequent.html#22494" class="InductiveConstructor">skip</a> <a id="25093" class="Symbol">(</a><a id="25094" href="blog.Sequent.html#25075" class="Bound">r</a> <a id="25096" href="blog.Sequent.html#25083" class="Bound">t</a><a id="25097" class="Symbol">)</a>

    <a id="25104" href="blog.Sequent.html#24552" class="Function">tExtend*</a> <a id="25113" href="blog.Sequent.html#25113" class="Bound">r</a> <a id="25115" href="blog.Sequent.html#22427" class="InductiveConstructor">here</a> <a id="25120" class="Symbol">=</a> <a id="25122" href="blog.Sequent.html#22427" class="InductiveConstructor">here</a>
    <a id="25131" href="blog.Sequent.html#24552" class="Function">tExtend*</a> <a id="25140" href="blog.Sequent.html#25140" class="Bound">r</a> <a id="25142" class="Symbol">(</a><a id="25143" href="blog.Sequent.html#22456" class="InductiveConstructor">there</a> <a id="25149" href="blog.Sequent.html#25149" class="Bound">t</a><a id="25150" class="Symbol">)</a> <a id="25152" class="Symbol">=</a> <a id="25154" href="blog.Sequent.html#22456" class="InductiveConstructor">there</a> <a id="25160" class="Symbol">(</a><a id="25161" href="blog.Sequent.html#25140" class="Bound">r</a> <a id="25163" href="blog.Sequent.html#25149" class="Bound">t</a><a id="25164" class="Symbol">)</a>

    <a id="25171" href="blog.Sequent.html#24671" class="Function">tShift</a> <a id="25178" class="Symbol">=</a> <a id="25180" href="blog.Sequent.html#24367" class="Function">tRename</a> <a id="25188" href="blog.Sequent.html#22494" class="InductiveConstructor">skip</a>
    <a id="25197" href="blog.Sequent.html#24721" class="Function">tShift*</a> <a id="25205" class="Symbol">=</a> <a id="25207" href="blog.Sequent.html#24367" class="Function">tRename</a> <a id="25215" href="blog.Sequent.html#22456" class="InductiveConstructor">there</a>

    <a id="25226" class="Comment">-- Substitutions for types</a>

    <a id="25258" class="Comment">-- Substitution extension for types</a>
    <a id="SystemF.subExtend*"></a><a id="25298" href="blog.Sequent.html#25298" class="Function">subExtend*</a> <a id="25309" class="Symbol">:</a> <a id="25311" class="Symbol">∀{</a><a id="25313" href="blog.Sequent.html#25313" class="Bound">Γ</a> <a id="25315" href="blog.Sequent.html#25315" class="Bound">Δ</a><a id="25316" class="Symbol">}</a> <a id="25318" class="Symbol">-&gt;</a> <a id="25321" href="blog.Sequent.html#24256" class="Function">tSubstitution</a> <a id="25335" href="blog.Sequent.html#25313" class="Bound">Γ</a> <a id="25337" href="blog.Sequent.html#25315" class="Bound">Δ</a> <a id="25339" class="Symbol">-&gt;</a> <a id="25342" href="blog.Sequent.html#24256" class="Function">tSubstitution</a> <a id="25356" class="Symbol">(</a><a id="25357" href="blog.Sequent.html#25313" class="Bound">Γ</a> <a id="25359" href="blog.Sequent.html#22104" class="InductiveConstructor Operator">,*</a><a id="25361" class="Symbol">)</a> <a id="25363" class="Symbol">(</a><a id="25364" href="blog.Sequent.html#25315" class="Bound">Δ</a> <a id="25366" href="blog.Sequent.html#22104" class="InductiveConstructor Operator">,*</a><a id="25368" class="Symbol">)</a>
    <a id="25374" href="blog.Sequent.html#25298" class="Function">subExtend*</a> <a id="25385" href="blog.Sequent.html#25385" class="Bound">σ</a> <a id="25387" href="blog.Sequent.html#22427" class="InductiveConstructor">here</a> <a id="25392" class="Symbol">=</a> <a id="25394" href="blog.Sequent.html#23190" class="InductiveConstructor">var</a> <a id="25398" href="blog.Sequent.html#22427" class="InductiveConstructor">here</a>
    <a id="25407" href="blog.Sequent.html#25298" class="Function">subExtend*</a> <a id="25418" href="blog.Sequent.html#25418" class="Bound">σ</a> <a id="25420" class="Symbol">(</a><a id="25421" href="blog.Sequent.html#22456" class="InductiveConstructor">there</a> <a id="25427" href="blog.Sequent.html#25427" class="Bound">t</a><a id="25428" class="Symbol">)</a> <a id="25430" class="Symbol">=</a> <a id="25432" href="blog.Sequent.html#24367" class="Function">tRename</a> <a id="25440" href="blog.Sequent.html#22456" class="InductiveConstructor">there</a> <a id="25446" class="Symbol">(</a><a id="25447" href="blog.Sequent.html#25418" class="Bound">σ</a> <a id="25449" href="blog.Sequent.html#25427" class="Bound">t</a><a id="25450" class="Symbol">)</a>

    <a id="25457" class="Comment">-- Simultaneous substitution</a>
    <a id="SystemF.tSub"></a><a id="25490" href="blog.Sequent.html#25490" class="Function">tSub</a> <a id="25495" class="Symbol">:</a> <a id="25497" class="Symbol">∀{</a><a id="25499" href="blog.Sequent.html#25499" class="Bound">Γ</a> <a id="25501" href="blog.Sequent.html#25501" class="Bound">Δ</a><a id="25502" class="Symbol">}</a> <a id="25504" class="Symbol">-&gt;</a> <a id="25507" href="blog.Sequent.html#24256" class="Function">tSubstitution</a> <a id="25521" href="blog.Sequent.html#25499" class="Bound">Γ</a> <a id="25523" href="blog.Sequent.html#25501" class="Bound">Δ</a> <a id="25525" class="Symbol">-&gt;</a> <a id="25528" href="blog.Sequent.html#25499" class="Bound">Γ</a> <a id="25530" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a> <a id="25533" class="Symbol">-&gt;</a> <a id="25536" href="blog.Sequent.html#25501" class="Bound">Δ</a> <a id="25538" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a>
    <a id="25545" href="blog.Sequent.html#25490" class="Function">tSub</a> <a id="25550" href="blog.Sequent.html#25550" class="Bound">σ</a> <a id="25552" class="Symbol">(</a><a id="25553" href="blog.Sequent.html#23190" class="InductiveConstructor">var</a> <a id="25557" href="blog.Sequent.html#25557" class="Bound">x</a><a id="25558" class="Symbol">)</a> <a id="25560" class="Symbol">=</a> <a id="25562" href="blog.Sequent.html#25550" class="Bound">σ</a> <a id="25564" href="blog.Sequent.html#25557" class="Bound">x</a>
    <a id="25570" href="blog.Sequent.html#25490" class="Function">tSub</a> <a id="25575" href="blog.Sequent.html#25575" class="Bound">σ</a> <a id="25577" href="blog.Sequent.html#22793" class="InductiveConstructor">⊤</a> <a id="25579" class="Symbol">=</a> <a id="25581" href="blog.Sequent.html#22793" class="InductiveConstructor">⊤</a>
    <a id="25587" href="blog.Sequent.html#25490" class="Function">tSub</a> <a id="25592" href="blog.Sequent.html#25592" class="Bound">σ</a> <a id="25594" href="blog.Sequent.html#22816" class="InductiveConstructor">⊥</a> <a id="25596" class="Symbol">=</a> <a id="25598" href="blog.Sequent.html#22816" class="InductiveConstructor">⊥</a>
    <a id="25604" href="blog.Sequent.html#25490" class="Function">tSub</a> <a id="25609" href="blog.Sequent.html#25609" class="Bound">σ</a> <a id="25611" class="Symbol">(</a><a id="25612" href="blog.Sequent.html#25612" class="Bound">t1</a> <a id="25615" href="blog.Sequent.html#22840" class="InductiveConstructor Operator">×</a> <a id="25617" href="blog.Sequent.html#25617" class="Bound">t2</a><a id="25619" class="Symbol">)</a> <a id="25621" class="Symbol">=</a> <a id="25623" href="blog.Sequent.html#25490" class="Function">tSub</a> <a id="25628" href="blog.Sequent.html#25609" class="Bound">σ</a> <a id="25630" href="blog.Sequent.html#25612" class="Bound">t1</a> <a id="25633" href="blog.Sequent.html#22840" class="InductiveConstructor Operator">×</a> <a id="25635" href="blog.Sequent.html#25490" class="Function">tSub</a> <a id="25640" href="blog.Sequent.html#25609" class="Bound">σ</a> <a id="25642" href="blog.Sequent.html#25617" class="Bound">t2</a>
    <a id="25649" href="blog.Sequent.html#25490" class="Function">tSub</a> <a id="25654" href="blog.Sequent.html#25654" class="Bound">σ</a> <a id="25656" class="Symbol">(</a><a id="25657" href="blog.Sequent.html#25657" class="Bound">t1</a> <a id="25660" href="blog.Sequent.html#22896" class="InductiveConstructor Operator">+</a> <a id="25662" href="blog.Sequent.html#25662" class="Bound">t2</a><a id="25664" class="Symbol">)</a> <a id="25666" class="Symbol">=</a> <a id="25668" href="blog.Sequent.html#25490" class="Function">tSub</a> <a id="25673" href="blog.Sequent.html#25654" class="Bound">σ</a> <a id="25675" href="blog.Sequent.html#25657" class="Bound">t1</a> <a id="25678" href="blog.Sequent.html#22896" class="InductiveConstructor Operator">+</a> <a id="25680" href="blog.Sequent.html#25490" class="Function">tSub</a> <a id="25685" href="blog.Sequent.html#25654" class="Bound">σ</a> <a id="25687" href="blog.Sequent.html#25662" class="Bound">t2</a>
    <a id="25694" href="blog.Sequent.html#25490" class="Function">tSub</a> <a id="25699" href="blog.Sequent.html#25699" class="Bound">σ</a> <a id="25701" class="Symbol">(</a><a id="25702" href="blog.Sequent.html#25702" class="Bound">t1</a> <a id="25705" href="blog.Sequent.html#22952" class="InductiveConstructor Operator">=&gt;</a> <a id="25708" href="blog.Sequent.html#25708" class="Bound">t2</a><a id="25710" class="Symbol">)</a> <a id="25712" class="Symbol">=</a> <a id="25714" href="blog.Sequent.html#25490" class="Function">tSub</a> <a id="25719" href="blog.Sequent.html#25699" class="Bound">σ</a> <a id="25721" href="blog.Sequent.html#25702" class="Bound">t1</a> <a id="25724" href="blog.Sequent.html#22952" class="InductiveConstructor Operator">=&gt;</a> <a id="25727" href="blog.Sequent.html#25490" class="Function">tSub</a> <a id="25732" href="blog.Sequent.html#25699" class="Bound">σ</a> <a id="25734" href="blog.Sequent.html#25708" class="Bound">t2</a>
    <a id="25741" href="blog.Sequent.html#25490" class="Function">tSub</a> <a id="25746" href="blog.Sequent.html#25746" class="Bound">σ</a> <a id="25748" class="Symbol">(</a><a id="25749" href="blog.Sequent.html#23433" class="InductiveConstructor">∀&#39;</a> <a id="25752" href="blog.Sequent.html#25752" class="Bound">t</a><a id="25753" class="Symbol">)</a> <a id="25755" class="Symbol">=</a> <a id="25757" href="blog.Sequent.html#23433" class="InductiveConstructor">∀&#39;</a> <a id="25760" class="Symbol">(</a><a id="25761" href="blog.Sequent.html#25490" class="Function">tSub</a> <a id="25766" class="Symbol">(</a><a id="25767" href="blog.Sequent.html#25298" class="Function">subExtend*</a> <a id="25778" href="blog.Sequent.html#25746" class="Bound">σ</a><a id="25779" class="Symbol">)</a> <a id="25781" href="blog.Sequent.html#25752" class="Bound">t</a><a id="25782" class="Symbol">)</a>

    <a id="25789" class="Comment">-- Single variable substitution</a>
    <a id="SystemF._[_]t"></a><a id="25825" href="blog.Sequent.html#25825" class="Function Operator">_[_]t</a> <a id="25831" class="Symbol">:</a> <a id="25833" class="Symbol">∀{</a><a id="25835" href="blog.Sequent.html#25835" class="Bound">Γ</a><a id="25836" class="Symbol">}</a> <a id="25838" class="Symbol">-&gt;</a> <a id="25841" href="blog.Sequent.html#25835" class="Bound">Γ</a> <a id="25843" href="blog.Sequent.html#22104" class="InductiveConstructor Operator">,*</a> <a id="25846" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a> <a id="25849" class="Symbol">-&gt;</a> <a id="25852" href="blog.Sequent.html#25835" class="Bound">Γ</a> <a id="25854" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a> <a id="25857" class="Symbol">-&gt;</a> <a id="25860" href="blog.Sequent.html#25835" class="Bound">Γ</a> <a id="25862" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a>
    <a id="25869" href="blog.Sequent.html#25869" class="Bound">l</a> <a id="25871" href="blog.Sequent.html#25825" class="Function Operator">[</a> <a id="25873" href="blog.Sequent.html#25873" class="Bound">r</a> <a id="25875" href="blog.Sequent.html#25825" class="Function Operator">]t</a> <a id="25878" class="Symbol">=</a> <a id="25880" href="blog.Sequent.html#25490" class="Function">tSub</a> <a id="25885" class="Symbol">(λ</a> <a id="25888" class="Symbol">{</a> <a id="25890" href="blog.Sequent.html#22427" class="InductiveConstructor">here</a> <a id="25895" class="Symbol">→</a> <a id="25897" href="blog.Sequent.html#25873" class="Bound">r</a>
                       <a id="25922" class="Symbol">;</a> <a id="25924" class="Symbol">(</a><a id="25925" href="blog.Sequent.html#22456" class="InductiveConstructor">there</a> <a id="25931" href="blog.Sequent.html#25931" class="Bound">x</a><a id="25932" class="Symbol">)</a> <a id="25934" class="Symbol">→</a> <a id="25936" href="blog.Sequent.html#23190" class="InductiveConstructor">var</a> <a id="25940" href="blog.Sequent.html#25931" class="Bound">x</a><a id="25941" class="Symbol">})</a> <a id="25944" href="blog.Sequent.html#25869" class="Bound">l</a>
</pre>
</div>
</div>

<div id="outline-container-orgb704033" class="outline-3">
<h3 id="orgb704033"><span class="section-number-3">4.5.</span> Term references</h3>
<div class="outline-text-3" id="text-4-5">
<p>
Just as we had to add one constructor to type references earlier, we will do the
same for term references. Note that we re used the same names as for type
references, except we switched the meanings of <code>there</code> and <code>skip</code>.
</p>

<pre class="Agda">
    <a id="26222" class="Keyword">data</a> <a id="26227" href="blog.Sequent.html#21624" class="Datatype Operator">_∋_</a> <a id="26231" class="Keyword">where</a>
      <a id="SystemF._∋_.here"></a><a id="26243" href="blog.Sequent.html#26243" class="InductiveConstructor">here</a> <a id="26248" class="Symbol">:</a> <a id="26250" class="Symbol">∀{</a><a id="26252" href="blog.Sequent.html#26252" class="Bound">Γ</a> <a id="26254" href="blog.Sequent.html#26254" class="Bound">t</a><a id="26255" class="Symbol">}</a>
        <a id="26265" class="Symbol">-&gt;</a> <a id="26268" href="blog.Sequent.html#26252" class="Bound">Γ</a> <a id="26270" href="blog.Sequent.html#22031" class="InductiveConstructor Operator">,</a> <a id="26272" href="blog.Sequent.html#26254" class="Bound">t</a> <a id="26274" href="blog.Sequent.html#21624" class="Datatype Operator">∋</a> <a id="26276" href="blog.Sequent.html#24671" class="Function">tShift</a> <a id="26283" href="blog.Sequent.html#26254" class="Bound">t</a>
      <a id="SystemF._∋_.there"></a><a id="26291" href="blog.Sequent.html#26291" class="InductiveConstructor">there</a> <a id="26297" class="Symbol">:</a> <a id="26299" class="Symbol">∀{</a><a id="26301" href="blog.Sequent.html#26301" class="Bound">Γ</a> <a id="26303" href="blog.Sequent.html#26303" class="Bound">t1</a> <a id="26306" href="blog.Sequent.html#26306" class="Bound">t2</a><a id="26308" class="Symbol">}</a>
        <a id="26318" class="Symbol">-&gt;</a> <a id="26321" href="blog.Sequent.html#26301" class="Bound">Γ</a> <a id="26323" href="blog.Sequent.html#21624" class="Datatype Operator">∋</a> <a id="26325" href="blog.Sequent.html#26303" class="Bound">t1</a>
        <a id="26336" class="Symbol">-&gt;</a> <a id="26339" href="blog.Sequent.html#26301" class="Bound">Γ</a> <a id="26341" href="blog.Sequent.html#22031" class="InductiveConstructor Operator">,</a> <a id="26343" href="blog.Sequent.html#26306" class="Bound">t2</a> <a id="26346" href="blog.Sequent.html#21624" class="Datatype Operator">∋</a> <a id="26348" href="blog.Sequent.html#24671" class="Function">tShift</a> <a id="26355" href="blog.Sequent.html#26303" class="Bound">t1</a>

      <a id="SystemF._∋_.skip"></a><a id="26365" href="blog.Sequent.html#26365" class="InductiveConstructor">skip</a> <a id="26370" class="Symbol">:</a> <a id="26372" class="Symbol">∀{</a><a id="26374" href="blog.Sequent.html#26374" class="Bound">Γ</a> <a id="26376" href="blog.Sequent.html#26376" class="Bound">t</a><a id="26377" class="Symbol">}</a>
        <a id="26387" class="Symbol">-&gt;</a> <a id="26390" href="blog.Sequent.html#26374" class="Bound">Γ</a> <a id="26392" href="blog.Sequent.html#21624" class="Datatype Operator">∋</a> <a id="26394" href="blog.Sequent.html#26376" class="Bound">t</a>
        <a id="26404" class="Symbol">-&gt;</a> <a id="26407" href="blog.Sequent.html#26374" class="Bound">Γ</a> <a id="26409" href="blog.Sequent.html#22104" class="InductiveConstructor Operator">,*</a> <a id="26412" href="blog.Sequent.html#21624" class="Datatype Operator">∋</a> <a id="26414" href="blog.Sequent.html#24721" class="Function">tShift*</a> <a id="26422" href="blog.Sequent.html#26376" class="Bound">t</a>
</pre>
</div>
</div>

<div id="outline-container-orgaff9a7e" class="outline-3">
<h3 id="orgaff9a7e"><span class="section-number-3">4.6.</span> Terms</h3>
<div class="outline-text-3" id="text-4-6">
<p>
The definition of old terms are mostly the same as before, except we have to use
a bunch of <code>tShift</code>'s when we want to consider the same type in multple contexts.
</p>

<pre class="Agda">
    <a id="26631" class="Keyword">data</a> <a id="26636" href="blog.Sequent.html#21297" class="Datatype Operator">_⊢_</a> <a id="26640" class="Keyword">where</a>
      <a id="SystemF._⊢_.var"></a><a id="26652" href="blog.Sequent.html#26652" class="InductiveConstructor">var</a> <a id="26656" class="Symbol">:</a> <a id="26658" class="Symbol">∀{</a><a id="26660" href="blog.Sequent.html#26660" class="Bound">Γ</a> <a id="26662" href="blog.Sequent.html#26662" class="Bound">t</a><a id="26663" class="Symbol">}</a>
        <a id="26673" class="Symbol">-&gt;</a> <a id="26676" href="blog.Sequent.html#26660" class="Bound">Γ</a> <a id="26678" href="blog.Sequent.html#21624" class="Datatype Operator">∋</a> <a id="26680" href="blog.Sequent.html#26662" class="Bound">t</a>
        <a id="26690" class="Symbol">-&gt;</a> <a id="26693" href="blog.Sequent.html#26660" class="Bound">Γ</a> <a id="26695" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="26697" href="blog.Sequent.html#26662" class="Bound">t</a>


      <a id="SystemF._⊢_.×-intro"></a><a id="26707" href="blog.Sequent.html#26707" class="InductiveConstructor">×-intro</a> <a id="26715" class="Symbol">:</a> <a id="26717" class="Symbol">∀{</a><a id="26719" href="blog.Sequent.html#26719" class="Bound">Γ</a> <a id="26721" href="blog.Sequent.html#26721" class="Bound">t1</a> <a id="26724" href="blog.Sequent.html#26724" class="Bound">t2</a><a id="26726" class="Symbol">}</a>
        <a id="26736" class="Symbol">-&gt;</a> <a id="26739" href="blog.Sequent.html#26719" class="Bound">Γ</a> <a id="26741" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="26743" href="blog.Sequent.html#26721" class="Bound">t1</a>
        <a id="26754" class="Symbol">-&gt;</a> <a id="26757" href="blog.Sequent.html#26719" class="Bound">Γ</a> <a id="26759" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="26761" href="blog.Sequent.html#26724" class="Bound">t2</a>
        <a id="26772" class="Symbol">-&gt;</a> <a id="26775" href="blog.Sequent.html#26719" class="Bound">Γ</a> <a id="26777" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="26779" href="blog.Sequent.html#26721" class="Bound">t1</a> <a id="26782" href="blog.Sequent.html#22840" class="InductiveConstructor Operator">×</a> <a id="26784" href="blog.Sequent.html#26724" class="Bound">t2</a>

      <a id="SystemF._⊢_.×-elim"></a><a id="26794" href="blog.Sequent.html#26794" class="InductiveConstructor">×-elim</a> <a id="26801" class="Symbol">:</a> <a id="26803" class="Symbol">∀{</a><a id="26805" href="blog.Sequent.html#26805" class="Bound">Γ</a> <a id="26807" href="blog.Sequent.html#26807" class="Bound">t1</a> <a id="26810" href="blog.Sequent.html#26810" class="Bound">t2</a> <a id="26813" href="blog.Sequent.html#26813" class="Bound">t3</a><a id="26815" class="Symbol">}</a>
        <a id="26825" class="Symbol">-&gt;</a> <a id="26828" href="blog.Sequent.html#26805" class="Bound">Γ</a> <a id="26830" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="26832" href="blog.Sequent.html#26807" class="Bound">t1</a> <a id="26835" href="blog.Sequent.html#22840" class="InductiveConstructor Operator">×</a> <a id="26837" href="blog.Sequent.html#26810" class="Bound">t2</a>
        <a id="26848" class="Symbol">-&gt;</a> <a id="26851" href="blog.Sequent.html#26805" class="Bound">Γ</a> <a id="26853" href="blog.Sequent.html#22031" class="InductiveConstructor Operator">,</a> <a id="26855" href="blog.Sequent.html#26807" class="Bound">t1</a> <a id="26858" href="blog.Sequent.html#22031" class="InductiveConstructor Operator">,</a> <a id="26860" href="blog.Sequent.html#24671" class="Function">tShift</a> <a id="26867" href="blog.Sequent.html#26810" class="Bound">t2</a> <a id="26870" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="26872" href="blog.Sequent.html#24671" class="Function">tShift</a> <a id="26879" class="Symbol">(</a><a id="26880" href="blog.Sequent.html#24671" class="Function">tShift</a> <a id="26887" href="blog.Sequent.html#26813" class="Bound">t3</a><a id="26889" class="Symbol">)</a>
        <a id="26899" class="Symbol">-&gt;</a> <a id="26902" href="blog.Sequent.html#26805" class="Bound">Γ</a> <a id="26904" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="26906" href="blog.Sequent.html#26813" class="Bound">t3</a>


      <a id="SystemF._⊢_.+-intro-left"></a><a id="26917" href="blog.Sequent.html#26917" class="InductiveConstructor">+-intro-left</a> <a id="26930" class="Symbol">:</a> <a id="26932" class="Symbol">∀{</a><a id="26934" href="blog.Sequent.html#26934" class="Bound">Γ</a> <a id="26936" href="blog.Sequent.html#26936" class="Bound">t1</a> <a id="26939" href="blog.Sequent.html#26939" class="Bound">t2</a><a id="26941" class="Symbol">}</a>
        <a id="26951" class="Symbol">-&gt;</a> <a id="26954" href="blog.Sequent.html#26934" class="Bound">Γ</a> <a id="26956" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="26958" href="blog.Sequent.html#26936" class="Bound">t1</a>
        <a id="26969" class="Symbol">-&gt;</a> <a id="26972" href="blog.Sequent.html#26934" class="Bound">Γ</a> <a id="26974" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="26976" href="blog.Sequent.html#26936" class="Bound">t1</a> <a id="26979" href="blog.Sequent.html#22896" class="InductiveConstructor Operator">+</a> <a id="26981" href="blog.Sequent.html#26939" class="Bound">t2</a>

      <a id="SystemF._⊢_.+-intro-right"></a><a id="26991" href="blog.Sequent.html#26991" class="InductiveConstructor">+-intro-right</a> <a id="27005" class="Symbol">:</a> <a id="27007" class="Symbol">∀{</a><a id="27009" href="blog.Sequent.html#27009" class="Bound">Γ</a> <a id="27011" href="blog.Sequent.html#27011" class="Bound">t1</a> <a id="27014" href="blog.Sequent.html#27014" class="Bound">t2</a><a id="27016" class="Symbol">}</a>
        <a id="27026" class="Symbol">-&gt;</a> <a id="27029" href="blog.Sequent.html#27009" class="Bound">Γ</a> <a id="27031" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="27033" href="blog.Sequent.html#27014" class="Bound">t2</a>
        <a id="27044" class="Symbol">-&gt;</a> <a id="27047" href="blog.Sequent.html#27009" class="Bound">Γ</a> <a id="27049" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="27051" href="blog.Sequent.html#27011" class="Bound">t1</a> <a id="27054" href="blog.Sequent.html#22896" class="InductiveConstructor Operator">+</a> <a id="27056" href="blog.Sequent.html#27014" class="Bound">t2</a>

      <a id="SystemF._⊢_.+-elim"></a><a id="27066" href="blog.Sequent.html#27066" class="InductiveConstructor">+-elim</a> <a id="27073" class="Symbol">:</a> <a id="27075" class="Symbol">∀{</a><a id="27077" href="blog.Sequent.html#27077" class="Bound">Γ</a> <a id="27079" href="blog.Sequent.html#27079" class="Bound">t1</a> <a id="27082" href="blog.Sequent.html#27082" class="Bound">t2</a> <a id="27085" href="blog.Sequent.html#27085" class="Bound">t3</a><a id="27087" class="Symbol">}</a>
        <a id="27097" class="Symbol">-&gt;</a> <a id="27100" href="blog.Sequent.html#27077" class="Bound">Γ</a> <a id="27102" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="27104" href="blog.Sequent.html#27079" class="Bound">t1</a> <a id="27107" href="blog.Sequent.html#22896" class="InductiveConstructor Operator">+</a> <a id="27109" href="blog.Sequent.html#27082" class="Bound">t2</a>
        <a id="27120" class="Symbol">-&gt;</a> <a id="27123" href="blog.Sequent.html#27077" class="Bound">Γ</a> <a id="27125" href="blog.Sequent.html#22031" class="InductiveConstructor Operator">,</a> <a id="27127" href="blog.Sequent.html#27079" class="Bound">t1</a> <a id="27130" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="27132" class="Symbol">(</a><a id="27133" href="blog.Sequent.html#24671" class="Function">tShift</a> <a id="27140" href="blog.Sequent.html#27085" class="Bound">t3</a><a id="27142" class="Symbol">)</a>
        <a id="27152" class="Symbol">-&gt;</a> <a id="27155" href="blog.Sequent.html#27077" class="Bound">Γ</a> <a id="27157" href="blog.Sequent.html#22031" class="InductiveConstructor Operator">,</a> <a id="27159" href="blog.Sequent.html#27082" class="Bound">t2</a> <a id="27162" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="27164" class="Symbol">(</a><a id="27165" href="blog.Sequent.html#24671" class="Function">tShift</a> <a id="27172" href="blog.Sequent.html#27085" class="Bound">t3</a><a id="27174" class="Symbol">)</a>
        <a id="27184" class="Symbol">-&gt;</a> <a id="27187" href="blog.Sequent.html#27077" class="Bound">Γ</a> <a id="27189" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="27191" href="blog.Sequent.html#27085" class="Bound">t3</a>


      <a id="SystemF._⊢_.=&gt;-intro"></a><a id="27202" href="blog.Sequent.html#27202" class="InductiveConstructor">=&gt;-intro</a> <a id="27211" class="Symbol">:</a> <a id="27213" class="Symbol">∀{</a><a id="27215" href="blog.Sequent.html#27215" class="Bound">Γ</a> <a id="27217" href="blog.Sequent.html#27217" class="Bound">t1</a> <a id="27220" href="blog.Sequent.html#27220" class="Bound">t2</a><a id="27222" class="Symbol">}</a>
        <a id="27232" class="Symbol">-&gt;</a> <a id="27235" href="blog.Sequent.html#27215" class="Bound">Γ</a> <a id="27237" href="blog.Sequent.html#22031" class="InductiveConstructor Operator">,</a> <a id="27239" href="blog.Sequent.html#27217" class="Bound">t1</a> <a id="27242" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="27244" class="Symbol">(</a><a id="27245" href="blog.Sequent.html#24671" class="Function">tShift</a> <a id="27252" href="blog.Sequent.html#27220" class="Bound">t2</a><a id="27254" class="Symbol">)</a>
        <a id="27264" class="Symbol">-&gt;</a> <a id="27267" href="blog.Sequent.html#27215" class="Bound">Γ</a> <a id="27269" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="27271" href="blog.Sequent.html#27217" class="Bound">t1</a> <a id="27274" href="blog.Sequent.html#22952" class="InductiveConstructor Operator">=&gt;</a> <a id="27277" href="blog.Sequent.html#27220" class="Bound">t2</a>
      <a id="SystemF._⊢_.=&gt;-elim"></a><a id="27286" href="blog.Sequent.html#27286" class="InductiveConstructor">=&gt;-elim</a> <a id="27294" class="Symbol">:</a> <a id="27296" class="Symbol">∀{</a><a id="27298" href="blog.Sequent.html#27298" class="Bound">Γ</a> <a id="27300" href="blog.Sequent.html#27300" class="Bound">t1</a> <a id="27303" href="blog.Sequent.html#27303" class="Bound">t2</a><a id="27305" class="Symbol">}</a>
        <a id="27315" class="Symbol">-&gt;</a> <a id="27318" href="blog.Sequent.html#27298" class="Bound">Γ</a> <a id="27320" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="27322" href="blog.Sequent.html#27300" class="Bound">t1</a> <a id="27325" href="blog.Sequent.html#22952" class="InductiveConstructor Operator">=&gt;</a> <a id="27328" href="blog.Sequent.html#27303" class="Bound">t2</a>
        <a id="27339" class="Symbol">-&gt;</a> <a id="27342" href="blog.Sequent.html#27298" class="Bound">Γ</a> <a id="27344" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="27346" href="blog.Sequent.html#27300" class="Bound">t1</a>
        <a id="27357" class="Symbol">-&gt;</a> <a id="27360" href="blog.Sequent.html#27298" class="Bound">Γ</a> <a id="27362" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="27364" href="blog.Sequent.html#27303" class="Bound">t2</a>
</pre>

<p>
Two new constructors we didn't have before, however, come from the type level
quantification operator for which we add an introduction rule and an elimination
rule. (Respectively denoted by \( \Lambda \alpha. x \) and \( t \cdot \alpha \) in the literature).
</p>

<p>
The \( \forall \)-intro reflects (at the term level) the introduction of a type
variable and \( \forall \)-elim instantiates the polymorphic term with a
specific type.
</p>

<pre class="Agda">
      <a id="SystemF._⊢_.∀-intro"></a><a id="27831" href="blog.Sequent.html#27831" class="InductiveConstructor">∀-intro</a> <a id="27839" class="Symbol">:</a> <a id="27841" class="Symbol">∀{</a><a id="27843" href="blog.Sequent.html#27843" class="Bound">Γ</a> <a id="27845" href="blog.Sequent.html#27845" class="Bound">t</a><a id="27846" class="Symbol">}</a>
        <a id="27856" class="Symbol">-&gt;</a> <a id="27859" href="blog.Sequent.html#27843" class="Bound">Γ</a> <a id="27861" href="blog.Sequent.html#22104" class="InductiveConstructor Operator">,*</a> <a id="27864" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="27866" href="blog.Sequent.html#27845" class="Bound">t</a>
        <a id="27876" class="Symbol">-&gt;</a> <a id="27879" href="blog.Sequent.html#27843" class="Bound">Γ</a> <a id="27881" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="27883" href="blog.Sequent.html#23433" class="InductiveConstructor">∀&#39;</a> <a id="27886" href="blog.Sequent.html#27845" class="Bound">t</a>

      <a id="SystemF._⊢_.∀-elim"></a><a id="27895" href="blog.Sequent.html#27895" class="InductiveConstructor">∀-elim</a> <a id="27902" class="Symbol">:</a> <a id="27904" class="Symbol">∀{</a><a id="27906" href="blog.Sequent.html#27906" class="Bound">Γ</a> <a id="27908" href="blog.Sequent.html#27908" class="Bound">f</a><a id="27909" class="Symbol">}</a>
        <a id="27919" class="Symbol">-&gt;</a> <a id="27922" href="blog.Sequent.html#27906" class="Bound">Γ</a> <a id="27924" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="27926" href="blog.Sequent.html#23433" class="InductiveConstructor">∀&#39;</a> <a id="27929" href="blog.Sequent.html#27908" class="Bound">f</a>
        <a id="27939" class="Symbol">-&gt;</a> <a id="27942" class="Symbol">(</a><a id="27943" href="blog.Sequent.html#27943" class="Bound">x</a> <a id="27945" class="Symbol">:</a> <a id="27947" href="blog.Sequent.html#27906" class="Bound">Γ</a> <a id="27949" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a><a id="27951" class="Symbol">)</a>
        <a id="27961" class="Symbol">-&gt;</a> <a id="27964" href="blog.Sequent.html#27906" class="Bound">Γ</a> <a id="27966" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="27968" class="Symbol">(</a> <a id="27970" href="blog.Sequent.html#27908" class="Bound">f</a> <a id="27972" href="blog.Sequent.html#25825" class="Function Operator">[</a> <a id="27974" href="blog.Sequent.html#27943" class="Bound">x</a> <a id="27976" href="blog.Sequent.html#25825" class="Function Operator">]t</a><a id="27978" class="Symbol">)</a>
</pre>
</div>
</div>

<div id="outline-container-orgbd527aa" class="outline-3">
<h3 id="orgbd527aa"><span class="section-number-3">4.7.</span> Examples</h3>
<div class="outline-text-3" id="text-4-7">
<p>
As promised, we can now represent the polymorphic identity function.
</p>

<pre class="Agda">
  <a id="SystemF.poly-id"></a><a id="28094" href="blog.Sequent.html#28094" class="Function">poly-id</a> <a id="28102" class="Symbol">:</a> <a id="28104" href="blog.Sequent.html#21977" class="InductiveConstructor">●</a> <a id="28106" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="28108" href="blog.Sequent.html#23433" class="InductiveConstructor">∀&#39;</a> <a id="28111" class="Symbol">(</a><a id="28112" href="blog.Sequent.html#23190" class="InductiveConstructor">var</a> <a id="28116" href="blog.Sequent.html#22427" class="InductiveConstructor">here</a> <a id="28121" href="blog.Sequent.html#22952" class="InductiveConstructor Operator">=&gt;</a> <a id="28124" href="blog.Sequent.html#23190" class="InductiveConstructor">var</a> <a id="28128" href="blog.Sequent.html#22427" class="InductiveConstructor">here</a><a id="28132" class="Symbol">)</a>
  <a id="28136" href="blog.Sequent.html#28094" class="Function">poly-id</a> <a id="28144" class="Symbol">=</a> <a id="28146" href="blog.Sequent.html#27831" class="InductiveConstructor">∀-intro</a> <a id="28154" class="Symbol">(</a><a id="28155" href="blog.Sequent.html#27202" class="InductiveConstructor">=&gt;-intro</a> <a id="28164" class="Symbol">(</a><a id="28165" href="blog.Sequent.html#26652" class="InductiveConstructor">var</a> <a id="28169" href="blog.Sequent.html#26243" class="InductiveConstructor">here</a><a id="28173" class="Symbol">))</a>
</pre>


<p>
We can also give a type to church encoded natural numbers.
</p>

<p>
\[ \mathbb{N} \stackrel{\Delta}{=} \forall \alpha. \alpha \Rightarrow (\alpha \Rightarrow \alpha) \Rightarrow \alpha \]
</p>

<p>
Note that I define some special notation for \( \Rightarrow \)-intro/elim and \( \forall
\)-intro/elim to ease readability.
</p>

<pre class="Agda">

  <a id="SystemF.ƛ_"></a><a id="28515" href="blog.Sequent.html#28515" class="Function Operator">ƛ_</a> <a id="28518" class="Symbol">:</a> <a id="28520" class="Symbol">∀{</a><a id="28522" href="blog.Sequent.html#28522" class="Bound">Γ</a> <a id="28524" href="blog.Sequent.html#28524" class="Bound">t1</a> <a id="28527" href="blog.Sequent.html#28527" class="Bound">t2</a><a id="28529" class="Symbol">}</a> <a id="28531" class="Symbol">-&gt;</a> <a id="28534" class="Symbol">_</a>
  <a id="28538" href="blog.Sequent.html#28515" class="Function Operator">ƛ_</a> <a id="28541" class="Symbol">{</a><a id="28542" href="blog.Sequent.html#28542" class="Bound">Γ</a><a id="28543" class="Symbol">}</a> <a id="28545" class="Symbol">{</a><a id="28546" href="blog.Sequent.html#28546" class="Bound">t1</a><a id="28548" class="Symbol">}</a> <a id="28550" class="Symbol">{</a><a id="28551" href="blog.Sequent.html#28551" class="Bound">t2</a><a id="28553" class="Symbol">}</a> <a id="28555" class="Symbol">=</a> <a id="28557" href="blog.Sequent.html#27202" class="InductiveConstructor">=&gt;-intro</a> <a id="28566" class="Symbol">{</a><a id="28567" href="blog.Sequent.html#28542" class="Bound">Γ</a><a id="28568" class="Symbol">}</a> <a id="28570" class="Symbol">{</a><a id="28571" href="blog.Sequent.html#28546" class="Bound">t1</a><a id="28573" class="Symbol">}</a> <a id="28575" class="Symbol">{</a><a id="28576" href="blog.Sequent.html#28551" class="Bound">t2</a><a id="28578" class="Symbol">}</a>

  <a id="SystemF._·_"></a><a id="28583" href="blog.Sequent.html#28583" class="Function Operator">_·_</a> <a id="28587" class="Symbol">:</a> <a id="28589" class="Symbol">∀{</a><a id="28591" href="blog.Sequent.html#28591" class="Bound">Γ</a> <a id="28593" href="blog.Sequent.html#28593" class="Bound">t1</a> <a id="28596" href="blog.Sequent.html#28596" class="Bound">t2</a><a id="28598" class="Symbol">}</a> <a id="28600" class="Symbol">-&gt;</a> <a id="28603" class="Symbol">_</a>
  <a id="28607" href="blog.Sequent.html#28583" class="Function Operator">_·_</a> <a id="28611" class="Symbol">{</a><a id="28612" href="blog.Sequent.html#28612" class="Bound">Γ</a><a id="28613" class="Symbol">}</a> <a id="28615" class="Symbol">{</a><a id="28616" href="blog.Sequent.html#28616" class="Bound">t1</a><a id="28618" class="Symbol">}</a> <a id="28620" class="Symbol">{</a><a id="28621" href="blog.Sequent.html#28621" class="Bound">t2</a><a id="28623" class="Symbol">}</a> <a id="28625" class="Symbol">=</a> <a id="28627" href="blog.Sequent.html#27286" class="InductiveConstructor">=&gt;-elim</a> <a id="28635" class="Symbol">{</a><a id="28636" href="blog.Sequent.html#28612" class="Bound">Γ</a><a id="28637" class="Symbol">}</a> <a id="28639" class="Symbol">{</a><a id="28640" href="blog.Sequent.html#28616" class="Bound">t1</a><a id="28642" class="Symbol">}</a> <a id="28644" class="Symbol">{</a><a id="28645" href="blog.Sequent.html#28621" class="Bound">t2</a><a id="28647" class="Symbol">}</a>

  <a id="SystemF._·ₜ_"></a><a id="28652" href="blog.Sequent.html#28652" class="Function Operator">_·ₜ_</a> <a id="28657" class="Symbol">:</a> <a id="28659" class="Symbol">∀{</a><a id="28661" href="blog.Sequent.html#28661" class="Bound">Γ</a> <a id="28663" href="blog.Sequent.html#28663" class="Bound">f</a><a id="28664" class="Symbol">}</a> <a id="28666" class="Symbol">-&gt;</a> <a id="28669" class="Symbol">_</a>
  <a id="28673" href="blog.Sequent.html#28652" class="Function Operator">_·ₜ_</a> <a id="28678" class="Symbol">{</a><a id="28679" href="blog.Sequent.html#28679" class="Bound">Γ</a><a id="28680" class="Symbol">}</a> <a id="28682" class="Symbol">{</a><a id="28683" href="blog.Sequent.html#28683" class="Bound">f</a><a id="28684" class="Symbol">}</a> <a id="28686" class="Symbol">=</a> <a id="28688" href="blog.Sequent.html#27895" class="InductiveConstructor">∀-elim</a> <a id="28695" class="Symbol">{</a><a id="28696" href="blog.Sequent.html#28679" class="Bound">Γ</a><a id="28697" class="Symbol">}</a> <a id="28699" class="Symbol">{</a><a id="28700" href="blog.Sequent.html#28683" class="Bound">f</a><a id="28701" class="Symbol">}</a>

  <a id="28706" class="Keyword">infixl</a> <a id="28713" class="Number">5</a> <a id="28715" href="blog.Sequent.html#28583" class="Function Operator">_·_</a> <a id="28719" href="blog.Sequent.html#28652" class="Function Operator">_·ₜ_</a>
  <a id="28726" class="Keyword">infix</a> <a id="28732" class="Number">4</a> <a id="28734" href="blog.Sequent.html#28515" class="Function Operator">ƛ_</a>

  <a id="SystemF.church-nat"></a><a id="28740" href="blog.Sequent.html#28740" class="Function">church-nat</a> <a id="28751" class="Symbol">:</a> <a id="28753" class="Symbol">∀{</a><a id="28755" href="blog.Sequent.html#28755" class="Bound">Γ</a><a id="28756" class="Symbol">}</a> <a id="28758" class="Symbol">-&gt;</a> <a id="28761" href="blog.Sequent.html#28755" class="Bound">Γ</a> <a id="28763" href="blog.Sequent.html#21144" class="Datatype Operator">⊢*</a>
  <a id="28768" href="blog.Sequent.html#28740" class="Function">church-nat</a> <a id="28779" class="Symbol">=</a> <a id="28781" href="blog.Sequent.html#23433" class="InductiveConstructor">∀&#39;</a> <a id="28784" class="Symbol">(</a><a id="28785" href="blog.Sequent.html#23190" class="InductiveConstructor">var</a> <a id="28789" href="blog.Sequent.html#22427" class="InductiveConstructor">here</a> <a id="28794" href="blog.Sequent.html#22952" class="InductiveConstructor Operator">=&gt;</a> <a id="28797" class="Symbol">((</a><a id="28799" href="blog.Sequent.html#23190" class="InductiveConstructor">var</a> <a id="28803" href="blog.Sequent.html#22427" class="InductiveConstructor">here</a><a id="28807" class="Symbol">)</a> <a id="28809" href="blog.Sequent.html#22952" class="InductiveConstructor Operator">=&gt;</a> <a id="28812" class="Symbol">(</a><a id="28813" href="blog.Sequent.html#23190" class="InductiveConstructor">var</a> <a id="28817" href="blog.Sequent.html#22427" class="InductiveConstructor">here</a><a id="28821" class="Symbol">))</a> <a id="28824" href="blog.Sequent.html#22952" class="InductiveConstructor Operator">=&gt;</a> <a id="28827" href="blog.Sequent.html#23190" class="InductiveConstructor">var</a> <a id="28831" href="blog.Sequent.html#22427" class="InductiveConstructor">here</a><a id="28835" class="Symbol">)</a>

  <a id="SystemF.two"></a><a id="28840" href="blog.Sequent.html#28840" class="Function">two</a> <a id="28844" class="Symbol">:</a> <a id="28846" class="Symbol">∀{</a><a id="28848" href="blog.Sequent.html#28848" class="Bound">Γ</a><a id="28849" class="Symbol">}</a> <a id="28851" class="Symbol">-&gt;</a> <a id="28854" href="blog.Sequent.html#28848" class="Bound">Γ</a> <a id="28856" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="28858" href="blog.Sequent.html#28740" class="Function">church-nat</a>
  <a id="28871" href="blog.Sequent.html#28840" class="Function">two</a> <a id="28875" class="Symbol">=</a> <a id="28877" href="blog.Sequent.html#27831" class="InductiveConstructor">∀-intro</a>
    <a id="28889" class="Symbol">(</a><a id="28890" href="blog.Sequent.html#28515" class="Function Operator">ƛ</a> <a id="28892" href="blog.Sequent.html#28515" class="Function Operator">ƛ</a> <a id="28894" class="Symbol">(</a><a id="28895" href="blog.Sequent.html#26652" class="InductiveConstructor">var</a> <a id="28899" href="blog.Sequent.html#26243" class="InductiveConstructor">here</a><a id="28903" class="Symbol">)</a> <a id="28905" href="blog.Sequent.html#28583" class="Function Operator">·</a> <a id="28907" class="Symbol">((</a><a id="28909" href="blog.Sequent.html#26652" class="InductiveConstructor">var</a> <a id="28913" href="blog.Sequent.html#26243" class="InductiveConstructor">here</a><a id="28917" class="Symbol">)</a> <a id="28919" href="blog.Sequent.html#28583" class="Function Operator">·</a> <a id="28921" class="Symbol">(</a><a id="28922" href="blog.Sequent.html#26652" class="InductiveConstructor">var</a> <a id="28926" class="Symbol">(</a><a id="28927" href="blog.Sequent.html#26291" class="InductiveConstructor">there</a> <a id="28933" href="blog.Sequent.html#26243" class="InductiveConstructor">here</a><a id="28937" class="Symbol">))))</a>

  <a id="SystemF.plus"></a><a id="28945" href="blog.Sequent.html#28945" class="Function">plus</a> <a id="28950" class="Symbol">:</a> <a id="28952" class="Symbol">∀{</a><a id="28954" href="blog.Sequent.html#28954" class="Bound">Γ</a><a id="28955" class="Symbol">}</a> <a id="28957" class="Symbol">-&gt;</a> <a id="28960" href="blog.Sequent.html#28954" class="Bound">Γ</a> <a id="28962" href="blog.Sequent.html#21297" class="Datatype Operator">⊢</a> <a id="28964" class="Symbol">(</a><a id="28965" href="blog.Sequent.html#28740" class="Function">church-nat</a> <a id="28976" href="blog.Sequent.html#22952" class="InductiveConstructor Operator">=&gt;</a> <a id="28979" href="blog.Sequent.html#28740" class="Function">church-nat</a> <a id="28990" href="blog.Sequent.html#22952" class="InductiveConstructor Operator">=&gt;</a> <a id="28993" href="blog.Sequent.html#28740" class="Function">church-nat</a><a id="29003" class="Symbol">)</a>
  <a id="29007" class="Comment">-- λ a b. ∀ α. λ z s. (a α (b α z s) s)</a>
  <a id="29049" href="blog.Sequent.html#28945" class="Function">plus</a> <a id="29054" class="Symbol">=</a>
    <a id="29060" href="blog.Sequent.html#28515" class="Function Operator">ƛ</a> <a id="29062" href="blog.Sequent.html#28515" class="Function Operator">ƛ</a> <a id="29064" href="blog.Sequent.html#27831" class="InductiveConstructor">∀-intro</a>
          <a id="29082" class="Symbol">(</a><a id="29083" href="blog.Sequent.html#28515" class="Function Operator">ƛ</a> <a id="29085" href="blog.Sequent.html#28515" class="Function Operator">ƛ</a>
            <a id="29099" class="Symbol">(</a><a id="29100" href="blog.Sequent.html#26652" class="InductiveConstructor">var</a> <a id="29104" class="Symbol">(</a><a id="29105" href="blog.Sequent.html#26291" class="InductiveConstructor">there</a> <a id="29111" class="Symbol">(</a><a id="29112" href="blog.Sequent.html#26291" class="InductiveConstructor">there</a> <a id="29118" class="Symbol">(</a><a id="29119" href="blog.Sequent.html#26365" class="InductiveConstructor">skip</a> <a id="29124" href="blog.Sequent.html#26243" class="InductiveConstructor">here</a><a id="29128" class="Symbol">))))</a> <a id="29133" href="blog.Sequent.html#28652" class="Function Operator">·ₜ</a>
              <a id="29150" class="Symbol">(</a><a id="29151" href="blog.Sequent.html#23190" class="InductiveConstructor">var</a> <a id="29155" class="Symbol">(</a><a id="29156" href="blog.Sequent.html#22494" class="InductiveConstructor">skip</a> <a id="29161" class="Symbol">(</a><a id="29162" href="blog.Sequent.html#22494" class="InductiveConstructor">skip</a> <a id="29167" href="blog.Sequent.html#22427" class="InductiveConstructor">here</a><a id="29171" class="Symbol">)))</a> <a id="29175" href="blog.Sequent.html#28583" class="Function Operator">·</a>
              <a id="29191" class="Symbol">(</a><a id="29192" href="blog.Sequent.html#26652" class="InductiveConstructor">var</a> <a id="29196" class="Symbol">(</a><a id="29197" href="blog.Sequent.html#26291" class="InductiveConstructor">there</a> <a id="29203" class="Symbol">(</a><a id="29204" href="blog.Sequent.html#26291" class="InductiveConstructor">there</a> <a id="29210" class="Symbol">(</a><a id="29211" href="blog.Sequent.html#26365" class="InductiveConstructor">skip</a> <a id="29216" href="blog.Sequent.html#26243" class="InductiveConstructor">here</a><a id="29220" class="Symbol">)))</a> <a id="29224" href="blog.Sequent.html#28652" class="Function Operator">·ₜ</a>
                <a id="29243" href="blog.Sequent.html#23190" class="InductiveConstructor">var</a> <a id="29247" class="Symbol">(</a><a id="29248" href="blog.Sequent.html#22494" class="InductiveConstructor">skip</a> <a id="29253" class="Symbol">(</a><a id="29254" href="blog.Sequent.html#22494" class="InductiveConstructor">skip</a> <a id="29259" href="blog.Sequent.html#22427" class="InductiveConstructor">here</a><a id="29263" class="Symbol">))</a> <a id="29266" href="blog.Sequent.html#28583" class="Function Operator">·</a>
                <a id="29284" href="blog.Sequent.html#26652" class="InductiveConstructor">var</a> <a id="29288" class="Symbol">(</a><a id="29289" href="blog.Sequent.html#26291" class="InductiveConstructor">there</a> <a id="29295" href="blog.Sequent.html#26243" class="InductiveConstructor">here</a><a id="29299" class="Symbol">)</a> <a id="29301" href="blog.Sequent.html#28583" class="Function Operator">·</a>
                <a id="29319" href="blog.Sequent.html#26652" class="InductiveConstructor">var</a> <a id="29323" href="blog.Sequent.html#26243" class="InductiveConstructor">here</a><a id="29327" class="Symbol">)</a> <a id="29329" href="blog.Sequent.html#28583" class="Function Operator">·</a>
              <a id="29345" href="blog.Sequent.html#26652" class="InductiveConstructor">var</a> <a id="29349" href="blog.Sequent.html#26243" class="InductiveConstructor">here</a><a id="29353" class="Symbol">)</a>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga681226" class="outline-2">
<h2 id="orga681226"><span class="section-number-2">5.</span> System F<sub>ω</sub></h2>
<div class="outline-text-2" id="text-5">
<pre class="Agda">
<a id="29398" class="Keyword">module</a> <a id="SystemFω"></a><a id="29405" href="blog.Sequent.html#29405" class="Module">SystemFω</a> <a id="29414" class="Keyword">where</a>
  <a id="29422" class="Keyword">infix</a> <a id="29428" class="Number">2</a> <a id="29430" href="blog.Sequent.html#30707" class="Datatype Operator">_⊢_</a> <a id="29434" href="blog.Sequent.html#30649" class="Datatype Operator">_⊢ₖ_</a> <a id="29439" href="blog.Sequent.html#30772" class="Datatype Operator">_∋ₖ_</a> <a id="29444" href="blog.Sequent.html#30836" class="Datatype Operator">_∋_</a>
  <a id="29450" class="Keyword">infixl</a> <a id="29457" class="Number">3</a> <a id="29459" href="blog.Sequent.html#31245" class="InductiveConstructor Operator">_,_</a> <a id="29463" href="blog.Sequent.html#31320" class="InductiveConstructor Operator">_,ₖ_</a>
  <a id="29470" class="Keyword">infixr</a> <a id="29477" class="Number">4</a> <a id="29479" href="blog.Sequent.html#30587" class="InductiveConstructor Operator">_=&gt;_</a>
  <a id="29486" class="Keyword">infixr</a> <a id="29493" class="Number">5</a> <a id="29495" href="blog.Sequent.html#32179" class="InductiveConstructor Operator">_+_</a>
  <a id="29501" class="Keyword">infixr</a> <a id="29508" class="Number">6</a> <a id="29510" href="blog.Sequent.html#32117" class="InductiveConstructor Operator">_×_</a>


</pre>

<p>
With System \( F \), we gained the power to internalise functions that work for
every input type (like the polymorphic identity). However, we would also like to
express type functions. To achieve this, a few modifications must be made to
normal System F.
</p>

<ol class="org-ol">
<li>We introduce the concept of a "kind". A kind is like a type for type level
functions. The kind of the \( T \mapsto T \times \mathbb{N} \), for instance,
would be \( * \Rightarrow * \) where \( * \) is the kind of types.</li>
<li>Because we want to refer to type functions, the context should be able to
contain variables of a kind other than \( * \).</li>
</ol>



<pre class="Agda">
  <a id="30163" class="Keyword">interleaved</a> <a id="30175" class="Keyword">mutual</a>
</pre>

<pre class="Agda">
    <a id="30215" class="Keyword">data</a> <a id="SystemFω.Ctx"></a><a id="30220" href="blog.Sequent.html#30220" class="Datatype">Ctx</a> <a id="30224" class="Symbol">:</a> <a id="30226" href="Agda.Primitive.html#388" class="Primitive">Set</a>
</pre>

<p>
The kinding judgment "in context \( \Gamma \) something of kind \( k \)" is a
straightforward expansion of the old <code>_⊢*</code> "in context \( \Gamma \), something of kind
type" judgment. This time, instead of only supporting the kind \( * \), it
supports a type expression of any kind.
</p>

<pre class="Agda">
    <a id="30544" class="Keyword">data</a> <a id="SystemFω.Kind"></a><a id="30549" href="blog.Sequent.html#30549" class="Datatype">Kind</a> <a id="30554" class="Symbol">:</a> <a id="30556" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="30560" class="Keyword">where</a>
      <a id="SystemFω.Kind.*"></a><a id="30572" href="blog.Sequent.html#30572" class="InductiveConstructor">*</a> <a id="30574" class="Symbol">:</a> <a id="30576" href="blog.Sequent.html#30549" class="Datatype">Kind</a>
      <a id="SystemFω.Kind._=&gt;_"></a><a id="30587" href="blog.Sequent.html#30587" class="InductiveConstructor Operator">_=&gt;_</a> <a id="30592" class="Symbol">:</a> <a id="30594" href="blog.Sequent.html#30549" class="Datatype">Kind</a> <a id="30599" class="Symbol">-&gt;</a> <a id="30602" href="blog.Sequent.html#30549" class="Datatype">Kind</a> <a id="30607" class="Symbol">-&gt;</a> <a id="30610" href="blog.Sequent.html#30549" class="Datatype">Kind</a>

    <a id="30620" class="Comment">-- Kinding judgment</a>
    <a id="30644" class="Keyword">data</a> <a id="SystemFω._⊢ₖ_"></a><a id="30649" href="blog.Sequent.html#30649" class="Datatype Operator">_⊢ₖ_</a> <a id="30654" class="Symbol">:</a> <a id="30656" href="blog.Sequent.html#30220" class="Datatype">Ctx</a> <a id="30660" class="Symbol">-&gt;</a> <a id="30663" href="blog.Sequent.html#30549" class="Datatype">Kind</a> <a id="30668" class="Symbol">-&gt;</a> <a id="30671" href="Agda.Primitive.html#388" class="Primitive">Set</a>
    <a id="30679" class="Comment">-- Typing judgment</a>
    <a id="30702" class="Keyword">data</a> <a id="SystemFω._⊢_"></a><a id="30707" href="blog.Sequent.html#30707" class="Datatype Operator">_⊢_</a> <a id="30711" class="Symbol">:</a> <a id="30713" class="Symbol">(</a><a id="30714" href="blog.Sequent.html#30714" class="Bound">Γ</a> <a id="30716" class="Symbol">:</a> <a id="30718" href="blog.Sequent.html#30220" class="Datatype">Ctx</a><a id="30721" class="Symbol">)</a> <a id="30723" class="Symbol">-&gt;</a> <a id="30726" href="blog.Sequent.html#30714" class="Bound">Γ</a> <a id="30728" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="30731" href="blog.Sequent.html#30572" class="InductiveConstructor">*</a> <a id="30733" class="Symbol">-&gt;</a> <a id="30736" href="Agda.Primitive.html#388" class="Primitive">Set</a>
    <a id="30744" class="Comment">-- Kind references</a>
    <a id="30767" class="Keyword">data</a> <a id="SystemFω._∋ₖ_"></a><a id="30772" href="blog.Sequent.html#30772" class="Datatype Operator">_∋ₖ_</a> <a id="30777" class="Symbol">:</a> <a id="30779" class="Symbol">(</a><a id="30780" href="blog.Sequent.html#30780" class="Bound">Γ</a> <a id="30782" class="Symbol">:</a> <a id="30784" href="blog.Sequent.html#30220" class="Datatype">Ctx</a><a id="30787" class="Symbol">)</a> <a id="30789" class="Symbol">-&gt;</a> <a id="30792" href="blog.Sequent.html#30549" class="Datatype">Kind</a> <a id="30797" class="Symbol">-&gt;</a> <a id="30800" href="Agda.Primitive.html#388" class="Primitive">Set</a>
    <a id="30808" class="Comment">-- Term references</a>
    <a id="30831" class="Keyword">data</a> <a id="SystemFω._∋_"></a><a id="30836" href="blog.Sequent.html#30836" class="Datatype Operator">_∋_</a> <a id="30840" class="Symbol">:</a> <a id="30842" class="Symbol">(</a><a id="30843" href="blog.Sequent.html#30843" class="Bound">Γ</a> <a id="30845" class="Symbol">:</a> <a id="30847" href="blog.Sequent.html#30220" class="Datatype">Ctx</a><a id="30850" class="Symbol">)</a> <a id="30852" class="Symbol">-&gt;</a> <a id="30855" href="blog.Sequent.html#30843" class="Bound">Γ</a> <a id="30857" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="30860" href="blog.Sequent.html#30572" class="InductiveConstructor">*</a> <a id="30862" class="Symbol">-&gt;</a> <a id="30865" href="Agda.Primitive.html#388" class="Primitive">Set</a>
</pre>
</div>

<div id="outline-container-orge53b4b0" class="outline-3">
<h3 id="orge53b4b0"><span class="section-number-3">5.1.</span> Context</h3>
<div class="outline-text-3" id="text-5-1">
<p>
In the STLC, a context was a list of the term variable's types. Now, it will be
containing two things: the (term level) variable's types (in the polymorphic
identity function, we had \( x : \alpha \)) and the type variables themselves (\(
\alpha : * \)).
</p>

<pre class="Agda">
    <a id="31170" class="Keyword">data</a> <a id="31175" href="blog.Sequent.html#30220" class="Datatype">Ctx</a> <a id="31179" class="Keyword">where</a>
      <a id="SystemFω.Ctx.●"></a><a id="31191" href="blog.Sequent.html#31191" class="InductiveConstructor">●</a> <a id="31193" class="Symbol">:</a> <a id="31195" href="blog.Sequent.html#30220" class="Datatype">Ctx</a>
      <a id="31205" class="Comment">-- Term level variables of type t</a>
      <a id="SystemFω.Ctx._,_"></a><a id="31245" href="blog.Sequent.html#31245" class="InductiveConstructor Operator">_,_</a> <a id="31249" class="Symbol">:</a> <a id="31251" class="Symbol">(</a><a id="31252" href="blog.Sequent.html#31252" class="Bound">Γ</a> <a id="31254" class="Symbol">:</a> <a id="31256" href="blog.Sequent.html#30220" class="Datatype">Ctx</a><a id="31259" class="Symbol">)</a> <a id="31261" class="Symbol">-&gt;</a> <a id="31264" class="Symbol">(</a><a id="31265" href="blog.Sequent.html#31265" class="Bound">t</a> <a id="31267" class="Symbol">:</a> <a id="31269" href="blog.Sequent.html#31252" class="Bound">Γ</a> <a id="31271" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="31274" href="blog.Sequent.html#30572" class="InductiveConstructor">*</a><a id="31275" class="Symbol">)</a> <a id="31277" class="Symbol">-&gt;</a> <a id="31280" href="blog.Sequent.html#30220" class="Datatype">Ctx</a>
      <a id="31290" class="Comment">-- Type level variables</a>
      <a id="SystemFω.Ctx._,ₖ_"></a><a id="31320" href="blog.Sequent.html#31320" class="InductiveConstructor Operator">_,ₖ_</a> <a id="31325" class="Symbol">:</a> <a id="31327" class="Symbol">(</a><a id="31328" href="blog.Sequent.html#31328" class="Bound">Γ</a> <a id="31330" class="Symbol">:</a> <a id="31332" href="blog.Sequent.html#30220" class="Datatype">Ctx</a><a id="31335" class="Symbol">)</a> <a id="31337" class="Symbol">-&gt;</a> <a id="31340" href="blog.Sequent.html#30549" class="Datatype">Kind</a> <a id="31345" class="Symbol">-&gt;</a> <a id="31348" href="blog.Sequent.html#30220" class="Datatype">Ctx</a>
</pre>
</div>
</div>

<div id="outline-container-orgd245584" class="outline-3">
<h3 id="orgd245584"><span class="section-number-3">5.2.</span> Type references</h3>
<div class="outline-text-3" id="text-5-2">
<p>
When a type exists in a context, it may refer to type variables in the context.
Since our context now contains to kinds of variables (type variables and term
variables), we have to account for this by adding a constructor <code>skip</code> .
</p>

<pre class="Agda">
    <a id="31637" class="Keyword">data</a> <a id="31642" class="Symbol">_</a> <a id="31644" class="Keyword">where</a>
      <a id="SystemFω._∋ₖ_.here"></a><a id="31656" href="blog.Sequent.html#31656" class="InductiveConstructor">here</a> <a id="31661" class="Symbol">:</a> <a id="31663" class="Symbol">∀{</a><a id="31665" href="blog.Sequent.html#31665" class="Bound">Γ</a> <a id="31667" href="blog.Sequent.html#31667" class="Bound">k</a><a id="31668" class="Symbol">}</a> <a id="31670" class="Symbol">-&gt;</a> <a id="31673" href="blog.Sequent.html#31665" class="Bound">Γ</a> <a id="31675" href="blog.Sequent.html#31320" class="InductiveConstructor Operator">,ₖ</a> <a id="31678" href="blog.Sequent.html#31667" class="Bound">k</a> <a id="31680" href="blog.Sequent.html#30772" class="Datatype Operator">∋ₖ</a> <a id="31683" href="blog.Sequent.html#31667" class="Bound">k</a>
      <a id="SystemFω._∋ₖ_.skipk"></a><a id="31691" href="blog.Sequent.html#31691" class="InductiveConstructor">skipk</a> <a id="31697" class="Symbol">:</a> <a id="31699" class="Symbol">∀{</a><a id="31701" href="blog.Sequent.html#31701" class="Bound">Γ</a> <a id="31703" href="blog.Sequent.html#31703" class="Bound">k</a> <a id="31705" href="blog.Sequent.html#31705" class="Bound">l</a><a id="31706" class="Symbol">}</a>
        <a id="31716" class="Symbol">-&gt;</a> <a id="31719" href="blog.Sequent.html#31701" class="Bound">Γ</a> <a id="31721" href="blog.Sequent.html#30772" class="Datatype Operator">∋ₖ</a> <a id="31724" href="blog.Sequent.html#31703" class="Bound">k</a>
        <a id="31734" class="Symbol">-&gt;</a> <a id="31737" href="blog.Sequent.html#31701" class="Bound">Γ</a> <a id="31739" href="blog.Sequent.html#31320" class="InductiveConstructor Operator">,ₖ</a> <a id="31742" href="blog.Sequent.html#31705" class="Bound">l</a> <a id="31744" href="blog.Sequent.html#30772" class="Datatype Operator">∋ₖ</a> <a id="31747" href="blog.Sequent.html#31703" class="Bound">k</a>
      <a id="SystemFω._∋ₖ_.skipt"></a><a id="31755" href="blog.Sequent.html#31755" class="InductiveConstructor">skipt</a> <a id="31761" class="Symbol">:</a> <a id="31763" class="Symbol">∀{</a><a id="31765" href="blog.Sequent.html#31765" class="Bound">Γ</a> <a id="31767" href="blog.Sequent.html#31767" class="Bound">k</a> <a id="31769" href="blog.Sequent.html#31769" class="Bound">t</a><a id="31770" class="Symbol">}</a>
        <a id="31780" class="Symbol">-&gt;</a> <a id="31783" href="blog.Sequent.html#31765" class="Bound">Γ</a> <a id="31785" href="blog.Sequent.html#30772" class="Datatype Operator">∋ₖ</a> <a id="31788" href="blog.Sequent.html#31767" class="Bound">k</a>
        <a id="31798" class="Symbol">-&gt;</a> <a id="31801" href="blog.Sequent.html#31765" class="Bound">Γ</a> <a id="31803" href="blog.Sequent.html#31245" class="InductiveConstructor Operator">,</a> <a id="31805" href="blog.Sequent.html#31769" class="Bound">t</a> <a id="31807" href="blog.Sequent.html#30772" class="Datatype Operator">∋ₖ</a> <a id="31810" href="blog.Sequent.html#31767" class="Bound">k</a>
</pre>
</div>
</div>

<div id="outline-container-orgb4847eb" class="outline-3">
<h3 id="orgb4847eb"><span class="section-number-3">5.3.</span> Types</h3>
<div class="outline-text-3" id="text-5-3">
<p>
The universe of types is very similar to what we had in the STLC, but this time,
it depends on the context in which the type lives. Most old types that we had in
the STLC, don't change much.
</p>

<pre class="Agda">
    <a id="32047" class="Keyword">data</a> <a id="32052" class="Symbol">_</a> <a id="32054" class="Keyword">where</a>
      <a id="SystemFω._⊢ₖ_.⊤"></a><a id="32066" href="blog.Sequent.html#32066" class="InductiveConstructor">⊤</a> <a id="32068" class="Symbol">:</a> <a id="32070" class="Symbol">∀{</a><a id="32072" href="blog.Sequent.html#32072" class="Bound">Γ</a><a id="32073" class="Symbol">}</a> <a id="32075" class="Symbol">-&gt;</a> <a id="32078" href="blog.Sequent.html#32072" class="Bound">Γ</a> <a id="32080" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="32083" href="blog.Sequent.html#30572" class="InductiveConstructor">*</a>
      <a id="SystemFω._⊢ₖ_.⊥"></a><a id="32091" href="blog.Sequent.html#32091" class="InductiveConstructor">⊥</a> <a id="32093" class="Symbol">:</a> <a id="32095" class="Symbol">∀{</a><a id="32097" href="blog.Sequent.html#32097" class="Bound">Γ</a><a id="32098" class="Symbol">}</a> <a id="32100" class="Symbol">-&gt;</a> <a id="32103" href="blog.Sequent.html#32097" class="Bound">Γ</a> <a id="32105" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="32108" href="blog.Sequent.html#30572" class="InductiveConstructor">*</a>

      <a id="SystemFω._⊢ₖ_._×_"></a><a id="32117" href="blog.Sequent.html#32117" class="InductiveConstructor Operator">_×_</a> <a id="32121" class="Symbol">:</a> <a id="32123" class="Symbol">∀{</a><a id="32125" href="blog.Sequent.html#32125" class="Bound">Γ</a><a id="32126" class="Symbol">}</a> <a id="32128" class="Symbol">(</a><a id="32129" href="blog.Sequent.html#32129" class="Bound">a</a> <a id="32131" class="Symbol">:</a> <a id="32133" href="blog.Sequent.html#32125" class="Bound">Γ</a> <a id="32135" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="32138" href="blog.Sequent.html#30572" class="InductiveConstructor">*</a><a id="32139" class="Symbol">)</a> <a id="32141" class="Symbol">(</a><a id="32142" href="blog.Sequent.html#32142" class="Bound">b</a> <a id="32144" class="Symbol">:</a> <a id="32146" href="blog.Sequent.html#32125" class="Bound">Γ</a> <a id="32148" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="32151" href="blog.Sequent.html#30572" class="InductiveConstructor">*</a><a id="32152" class="Symbol">)</a>
        <a id="32162" class="Symbol">-&gt;</a> <a id="32165" href="blog.Sequent.html#32125" class="Bound">Γ</a> <a id="32167" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="32170" href="blog.Sequent.html#30572" class="InductiveConstructor">*</a>

      <a id="SystemFω._⊢ₖ_._+_"></a><a id="32179" href="blog.Sequent.html#32179" class="InductiveConstructor Operator">_+_</a> <a id="32183" class="Symbol">:</a> <a id="32185" class="Symbol">∀{</a><a id="32187" href="blog.Sequent.html#32187" class="Bound">Γ</a><a id="32188" class="Symbol">}</a> <a id="32190" class="Symbol">(</a><a id="32191" href="blog.Sequent.html#32191" class="Bound">a</a> <a id="32193" class="Symbol">:</a> <a id="32195" href="blog.Sequent.html#32187" class="Bound">Γ</a> <a id="32197" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="32200" href="blog.Sequent.html#30572" class="InductiveConstructor">*</a><a id="32201" class="Symbol">)</a> <a id="32203" class="Symbol">(</a><a id="32204" href="blog.Sequent.html#32204" class="Bound">b</a> <a id="32206" class="Symbol">:</a> <a id="32208" href="blog.Sequent.html#32187" class="Bound">Γ</a> <a id="32210" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="32213" href="blog.Sequent.html#30572" class="InductiveConstructor">*</a><a id="32214" class="Symbol">)</a>
        <a id="32224" class="Symbol">-&gt;</a> <a id="32227" href="blog.Sequent.html#32187" class="Bound">Γ</a> <a id="32229" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="32232" href="blog.Sequent.html#30572" class="InductiveConstructor">*</a>

      <a id="SystemFω._⊢ₖ_._=&gt;_"></a><a id="32241" href="blog.Sequent.html#32241" class="InductiveConstructor Operator">_=&gt;_</a> <a id="32246" class="Symbol">:</a> <a id="32248" class="Symbol">∀{</a><a id="32250" href="blog.Sequent.html#32250" class="Bound">Γ</a><a id="32251" class="Symbol">}</a> <a id="32253" class="Symbol">(</a><a id="32254" href="blog.Sequent.html#32254" class="Bound">a</a> <a id="32256" class="Symbol">:</a> <a id="32258" href="blog.Sequent.html#32250" class="Bound">Γ</a> <a id="32260" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="32263" href="blog.Sequent.html#30572" class="InductiveConstructor">*</a><a id="32264" class="Symbol">)</a> <a id="32266" class="Symbol">(</a><a id="32267" href="blog.Sequent.html#32267" class="Bound">b</a> <a id="32269" class="Symbol">:</a> <a id="32271" href="blog.Sequent.html#32250" class="Bound">Γ</a> <a id="32273" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="32276" href="blog.Sequent.html#30572" class="InductiveConstructor">*</a><a id="32277" class="Symbol">)</a>
        <a id="32287" class="Symbol">-&gt;</a> <a id="32290" href="blog.Sequent.html#32250" class="Bound">Γ</a> <a id="32292" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="32295" href="blog.Sequent.html#30572" class="InductiveConstructor">*</a>

      <a id="SystemFω._⊢ₖ_.var"></a><a id="32304" href="blog.Sequent.html#32304" class="InductiveConstructor">var</a> <a id="32308" class="Symbol">:</a> <a id="32310" class="Symbol">∀{</a><a id="32312" href="blog.Sequent.html#32312" class="Bound">Γ</a> <a id="32314" href="blog.Sequent.html#32314" class="Bound">k</a><a id="32315" class="Symbol">}</a> <a id="32317" class="Symbol">-&gt;</a> <a id="32320" href="blog.Sequent.html#32312" class="Bound">Γ</a> <a id="32322" href="blog.Sequent.html#30772" class="Datatype Operator">∋ₖ</a> <a id="32325" href="blog.Sequent.html#32314" class="Bound">k</a> <a id="32327" class="Symbol">-&gt;</a> <a id="32330" href="blog.Sequent.html#32312" class="Bound">Γ</a> <a id="32332" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="32335" href="blog.Sequent.html#32314" class="Bound">k</a>

      <a id="SystemFω._⊢ₖ_.abs"></a><a id="32344" href="blog.Sequent.html#32344" class="InductiveConstructor">abs</a> <a id="32348" class="Symbol">:</a> <a id="32350" class="Symbol">∀{</a><a id="32352" href="blog.Sequent.html#32352" class="Bound">Γ</a> <a id="32354" href="blog.Sequent.html#32354" class="Bound">k1</a> <a id="32357" href="blog.Sequent.html#32357" class="Bound">k2</a><a id="32359" class="Symbol">}</a>
        <a id="32369" class="Symbol">-&gt;</a> <a id="32372" href="blog.Sequent.html#32352" class="Bound">Γ</a> <a id="32374" href="blog.Sequent.html#31320" class="InductiveConstructor Operator">,ₖ</a> <a id="32377" href="blog.Sequent.html#32354" class="Bound">k1</a> <a id="32380" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="32383" href="blog.Sequent.html#32357" class="Bound">k2</a>
        <a id="32394" class="Symbol">-&gt;</a> <a id="32397" href="blog.Sequent.html#32352" class="Bound">Γ</a> <a id="32399" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="32402" href="blog.Sequent.html#32354" class="Bound">k1</a> <a id="32405" href="blog.Sequent.html#30587" class="InductiveConstructor Operator">=&gt;</a> <a id="32408" href="blog.Sequent.html#32357" class="Bound">k2</a>

      <a id="SystemFω._⊢ₖ_.app"></a><a id="32418" href="blog.Sequent.html#32418" class="InductiveConstructor">app</a> <a id="32422" class="Symbol">:</a> <a id="32424" class="Symbol">∀{</a><a id="32426" href="blog.Sequent.html#32426" class="Bound">Γ</a> <a id="32428" href="blog.Sequent.html#32428" class="Bound">k1</a> <a id="32431" href="blog.Sequent.html#32431" class="Bound">k2</a><a id="32433" class="Symbol">}</a>
        <a id="32443" class="Symbol">-&gt;</a> <a id="32446" href="blog.Sequent.html#32426" class="Bound">Γ</a> <a id="32448" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="32451" href="blog.Sequent.html#32428" class="Bound">k1</a> <a id="32454" href="blog.Sequent.html#30587" class="InductiveConstructor Operator">=&gt;</a> <a id="32457" href="blog.Sequent.html#32431" class="Bound">k2</a>
        <a id="32468" class="Symbol">-&gt;</a> <a id="32471" href="blog.Sequent.html#32426" class="Bound">Γ</a> <a id="32473" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="32476" href="blog.Sequent.html#32428" class="Bound">k1</a>
        <a id="32487" class="Symbol">-&gt;</a> <a id="32490" href="blog.Sequent.html#32426" class="Bound">Γ</a> <a id="32492" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="32495" href="blog.Sequent.html#32431" class="Bound">k2</a>

      <a id="SystemFω._⊢ₖ_.∀&#39;"></a><a id="32505" href="blog.Sequent.html#32505" class="InductiveConstructor">∀&#39;</a> <a id="32508" class="Symbol">:</a> <a id="32510" class="Symbol">∀{</a><a id="32512" href="blog.Sequent.html#32512" class="Bound">Γ</a><a id="32513" class="Symbol">}</a> <a id="32515" class="Symbol">(</a><a id="32516" href="blog.Sequent.html#32516" class="Bound">k</a> <a id="32518" class="Symbol">:</a> <a id="32520" href="blog.Sequent.html#30549" class="Datatype">Kind</a><a id="32524" class="Symbol">)</a>
        <a id="32534" class="Symbol">-&gt;</a> <a id="32537" href="blog.Sequent.html#32512" class="Bound">Γ</a> <a id="32539" href="blog.Sequent.html#31320" class="InductiveConstructor Operator">,ₖ</a> <a id="32542" href="blog.Sequent.html#32516" class="Bound">k</a> <a id="32544" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="32547" href="blog.Sequent.html#30572" class="InductiveConstructor">*</a>
        <a id="32557" class="Symbol">-&gt;</a> <a id="32560" href="blog.Sequent.html#32512" class="Bound">Γ</a> <a id="32562" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="32565" href="blog.Sequent.html#30572" class="InductiveConstructor">*</a>
</pre>

<pre class="Agda">
    <a id="32600" class="Comment">-- Renaming and substitution for types</a>
    <a id="SystemFω.tRenaming"></a><a id="32643" href="blog.Sequent.html#32643" class="Function">tRenaming</a> <a id="32653" class="Symbol">:</a> <a id="32655" href="blog.Sequent.html#30220" class="Datatype">Ctx</a> <a id="32659" class="Symbol">-&gt;</a> <a id="32662" href="blog.Sequent.html#30220" class="Datatype">Ctx</a> <a id="32666" class="Symbol">-&gt;</a> <a id="32669" href="Agda.Primitive.html#388" class="Primitive">Set</a>
    <a id="32677" href="blog.Sequent.html#32643" class="Function">tRenaming</a> <a id="32687" href="blog.Sequent.html#32687" class="Bound">Γ</a> <a id="32689" href="blog.Sequent.html#32689" class="Bound">Δ</a> <a id="32691" class="Symbol">=</a> <a id="32693" class="Symbol">∀{</a><a id="32695" href="blog.Sequent.html#32695" class="Bound">k</a><a id="32696" class="Symbol">}</a> <a id="32698" class="Symbol">-&gt;</a> <a id="32701" href="blog.Sequent.html#32687" class="Bound">Γ</a> <a id="32703" href="blog.Sequent.html#30772" class="Datatype Operator">∋ₖ</a> <a id="32706" href="blog.Sequent.html#32695" class="Bound">k</a> <a id="32708" class="Symbol">-&gt;</a> <a id="32711" href="blog.Sequent.html#32689" class="Bound">Δ</a> <a id="32713" href="blog.Sequent.html#30772" class="Datatype Operator">∋ₖ</a> <a id="32716" href="blog.Sequent.html#32695" class="Bound">k</a>

    <a id="SystemFω.tSubstitution"></a><a id="32723" href="blog.Sequent.html#32723" class="Function">tSubstitution</a> <a id="32737" class="Symbol">:</a> <a id="32739" href="blog.Sequent.html#30220" class="Datatype">Ctx</a> <a id="32743" class="Symbol">-&gt;</a> <a id="32746" href="blog.Sequent.html#30220" class="Datatype">Ctx</a> <a id="32750" class="Symbol">-&gt;</a> <a id="32753" href="Agda.Primitive.html#388" class="Primitive">Set</a>
    <a id="32761" href="blog.Sequent.html#32723" class="Function">tSubstitution</a> <a id="32775" href="blog.Sequent.html#32775" class="Bound">Γ</a> <a id="32777" href="blog.Sequent.html#32777" class="Bound">Δ</a> <a id="32779" class="Symbol">=</a> <a id="32781" class="Symbol">∀{</a><a id="32783" href="blog.Sequent.html#32783" class="Bound">k</a><a id="32784" class="Symbol">}</a> <a id="32786" class="Symbol">-&gt;</a> <a id="32789" href="blog.Sequent.html#32775" class="Bound">Γ</a> <a id="32791" href="blog.Sequent.html#30772" class="Datatype Operator">∋ₖ</a> <a id="32794" href="blog.Sequent.html#32783" class="Bound">k</a> <a id="32796" class="Symbol">-&gt;</a> <a id="32799" href="blog.Sequent.html#32777" class="Bound">Δ</a> <a id="32801" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="32804" href="blog.Sequent.html#32783" class="Bound">k</a>

    <a id="SystemFω.tRename"></a><a id="32811" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="32819" class="Symbol">:</a> <a id="32821" class="Symbol">∀{</a><a id="32823" href="blog.Sequent.html#32823" class="Bound">Γ</a> <a id="32825" href="blog.Sequent.html#32825" class="Bound">Δ</a> <a id="32827" href="blog.Sequent.html#32827" class="Bound">k</a><a id="32828" class="Symbol">}</a> <a id="32830" class="Symbol">-&gt;</a> <a id="32833" href="blog.Sequent.html#32643" class="Function">tRenaming</a> <a id="32843" href="blog.Sequent.html#32823" class="Bound">Γ</a> <a id="32845" href="blog.Sequent.html#32825" class="Bound">Δ</a> <a id="32847" class="Symbol">-&gt;</a> <a id="32850" href="blog.Sequent.html#32823" class="Bound">Γ</a> <a id="32852" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="32855" href="blog.Sequent.html#32827" class="Bound">k</a> <a id="32857" class="Symbol">-&gt;</a> <a id="32860" href="blog.Sequent.html#32825" class="Bound">Δ</a> <a id="32862" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="32865" href="blog.Sequent.html#32827" class="Bound">k</a>
    <a id="32871" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="32879" href="blog.Sequent.html#32879" class="Bound">r</a> <a id="32881" href="blog.Sequent.html#32066" class="InductiveConstructor">⊤</a> <a id="32883" class="Symbol">=</a> <a id="32885" href="blog.Sequent.html#32066" class="InductiveConstructor">⊤</a>
    <a id="32891" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="32899" href="blog.Sequent.html#32899" class="Bound">r</a> <a id="32901" href="blog.Sequent.html#32091" class="InductiveConstructor">⊥</a> <a id="32903" class="Symbol">=</a> <a id="32905" href="blog.Sequent.html#32091" class="InductiveConstructor">⊥</a>
    <a id="32911" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="32919" href="blog.Sequent.html#32919" class="Bound">r</a> <a id="32921" class="Symbol">(</a><a id="32922" href="blog.Sequent.html#32922" class="Bound">t1</a> <a id="32925" href="blog.Sequent.html#32117" class="InductiveConstructor Operator">×</a> <a id="32927" href="blog.Sequent.html#32927" class="Bound">t2</a><a id="32929" class="Symbol">)</a> <a id="32931" class="Symbol">=</a> <a id="32933" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="32941" href="blog.Sequent.html#32919" class="Bound">r</a> <a id="32943" href="blog.Sequent.html#32922" class="Bound">t1</a> <a id="32946" href="blog.Sequent.html#32117" class="InductiveConstructor Operator">×</a> <a id="32948" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="32956" href="blog.Sequent.html#32919" class="Bound">r</a> <a id="32958" href="blog.Sequent.html#32927" class="Bound">t2</a>
    <a id="32965" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="32973" href="blog.Sequent.html#32973" class="Bound">r</a> <a id="32975" class="Symbol">(</a><a id="32976" href="blog.Sequent.html#32976" class="Bound">t1</a> <a id="32979" href="blog.Sequent.html#32179" class="InductiveConstructor Operator">+</a> <a id="32981" href="blog.Sequent.html#32981" class="Bound">t2</a><a id="32983" class="Symbol">)</a> <a id="32985" class="Symbol">=</a> <a id="32987" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="32995" href="blog.Sequent.html#32973" class="Bound">r</a> <a id="32997" href="blog.Sequent.html#32976" class="Bound">t1</a> <a id="33000" href="blog.Sequent.html#32179" class="InductiveConstructor Operator">+</a> <a id="33002" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="33010" href="blog.Sequent.html#32973" class="Bound">r</a> <a id="33012" href="blog.Sequent.html#32981" class="Bound">t2</a>
    <a id="33019" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="33027" href="blog.Sequent.html#33027" class="Bound">r</a> <a id="33029" class="Symbol">(</a><a id="33030" href="blog.Sequent.html#33030" class="Bound">t1</a> <a id="33033" href="blog.Sequent.html#32241" class="InductiveConstructor Operator">=&gt;</a> <a id="33036" href="blog.Sequent.html#33036" class="Bound">t2</a><a id="33038" class="Symbol">)</a> <a id="33040" class="Symbol">=</a> <a id="33042" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="33050" href="blog.Sequent.html#33027" class="Bound">r</a> <a id="33052" href="blog.Sequent.html#33030" class="Bound">t1</a> <a id="33055" href="blog.Sequent.html#32179" class="InductiveConstructor Operator">+</a> <a id="33057" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="33065" href="blog.Sequent.html#33027" class="Bound">r</a> <a id="33067" href="blog.Sequent.html#33036" class="Bound">t2</a>
    <a id="33074" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="33082" href="blog.Sequent.html#33082" class="Bound">r</a> <a id="33084" class="Symbol">(</a><a id="33085" href="blog.Sequent.html#32418" class="InductiveConstructor">app</a> <a id="33089" href="blog.Sequent.html#33089" class="Bound">t1</a> <a id="33092" href="blog.Sequent.html#33092" class="Bound">t2</a><a id="33094" class="Symbol">)</a> <a id="33096" class="Symbol">=</a> <a id="33098" href="blog.Sequent.html#32418" class="InductiveConstructor">app</a> <a id="33102" class="Symbol">(</a><a id="33103" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="33111" href="blog.Sequent.html#33082" class="Bound">r</a> <a id="33113" href="blog.Sequent.html#33089" class="Bound">t1</a><a id="33115" class="Symbol">)</a> <a id="33117" class="Symbol">(</a><a id="33118" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="33126" href="blog.Sequent.html#33082" class="Bound">r</a> <a id="33128" href="blog.Sequent.html#33092" class="Bound">t2</a><a id="33130" class="Symbol">)</a>
    <a id="33136" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="33144" href="blog.Sequent.html#33144" class="Bound">r</a> <a id="33146" class="Symbol">(</a><a id="33147" href="blog.Sequent.html#32304" class="InductiveConstructor">var</a> <a id="33151" href="blog.Sequent.html#33151" class="Bound">x</a><a id="33152" class="Symbol">)</a> <a id="33154" class="Symbol">=</a> <a id="33156" href="blog.Sequent.html#32304" class="InductiveConstructor">var</a> <a id="33160" class="Symbol">(</a><a id="33161" href="blog.Sequent.html#33144" class="Bound">r</a> <a id="33163" href="blog.Sequent.html#33151" class="Bound">x</a><a id="33164" class="Symbol">)</a>
    <a id="33170" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="33178" href="blog.Sequent.html#33178" class="Bound">r</a> <a id="33180" class="Symbol">(</a><a id="33181" href="blog.Sequent.html#32344" class="InductiveConstructor">abs</a> <a id="33185" href="blog.Sequent.html#33185" class="Bound">t</a><a id="33186" class="Symbol">)</a> <a id="33188" class="Symbol">=</a> <a id="33190" href="blog.Sequent.html#32344" class="InductiveConstructor">abs</a> <a id="33194" class="Symbol">(</a><a id="33195" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="33203" class="Symbol">(λ</a> <a id="33206" class="Symbol">{</a> <a id="33208" href="blog.Sequent.html#31656" class="InductiveConstructor">here</a> <a id="33213" class="Symbol">→</a> <a id="33215" href="blog.Sequent.html#31656" class="InductiveConstructor">here</a> <a id="33220" class="Symbol">;</a> <a id="33222" class="Symbol">(</a><a id="33223" href="blog.Sequent.html#31691" class="InductiveConstructor">skipk</a> <a id="33229" href="blog.Sequent.html#33229" class="Bound">x</a><a id="33230" class="Symbol">)</a> <a id="33232" class="Symbol">→</a> <a id="33234" href="blog.Sequent.html#31691" class="InductiveConstructor">skipk</a> <a id="33240" class="Symbol">(</a><a id="33241" href="blog.Sequent.html#33178" class="Bound">r</a> <a id="33243" href="blog.Sequent.html#33229" class="Bound">x</a><a id="33244" class="Symbol">)})</a> <a id="33248" href="blog.Sequent.html#33185" class="Bound">t</a><a id="33249" class="Symbol">)</a>
    <a id="33255" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="33263" href="blog.Sequent.html#33263" class="Bound">r</a> <a id="33265" class="Symbol">(</a><a id="33266" href="blog.Sequent.html#32505" class="InductiveConstructor">∀&#39;</a> <a id="33269" href="blog.Sequent.html#33269" class="Bound">k</a> <a id="33271" href="blog.Sequent.html#33271" class="Bound">x</a><a id="33272" class="Symbol">)</a> <a id="33274" class="Symbol">=</a> <a id="33276" href="blog.Sequent.html#32505" class="InductiveConstructor">∀&#39;</a> <a id="33279" href="blog.Sequent.html#33269" class="Bound">k</a> <a id="33281" class="Symbol">(</a><a id="33282" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="33290" class="Symbol">(λ</a> <a id="33293" class="Symbol">{</a> <a id="33295" href="blog.Sequent.html#31656" class="InductiveConstructor">here</a> <a id="33300" class="Symbol">→</a> <a id="33302" href="blog.Sequent.html#31656" class="InductiveConstructor">here</a> <a id="33307" class="Symbol">;</a> <a id="33309" class="Symbol">(</a><a id="33310" href="blog.Sequent.html#31691" class="InductiveConstructor">skipk</a> <a id="33316" href="blog.Sequent.html#33316" class="Bound">x</a><a id="33317" class="Symbol">)</a> <a id="33319" class="Symbol">→</a> <a id="33321" href="blog.Sequent.html#31691" class="InductiveConstructor">skipk</a> <a id="33327" class="Symbol">(</a><a id="33328" href="blog.Sequent.html#33263" class="Bound">r</a> <a id="33330" href="blog.Sequent.html#33316" class="Bound">x</a><a id="33331" class="Symbol">)})</a> <a id="33335" href="blog.Sequent.html#33271" class="Bound">x</a><a id="33336" class="Symbol">)</a>

    <a id="SystemFω.tSub"></a><a id="33343" href="blog.Sequent.html#33343" class="Function">tSub</a> <a id="33348" class="Symbol">:</a> <a id="33350" class="Symbol">∀{</a><a id="33352" href="blog.Sequent.html#33352" class="Bound">Γ</a> <a id="33354" href="blog.Sequent.html#33354" class="Bound">Δ</a> <a id="33356" href="blog.Sequent.html#33356" class="Bound">k</a><a id="33357" class="Symbol">}</a> <a id="33359" class="Symbol">-&gt;</a> <a id="33362" href="blog.Sequent.html#32723" class="Function">tSubstitution</a> <a id="33376" href="blog.Sequent.html#33352" class="Bound">Γ</a> <a id="33378" href="blog.Sequent.html#33354" class="Bound">Δ</a> <a id="33380" class="Symbol">-&gt;</a> <a id="33383" href="blog.Sequent.html#33352" class="Bound">Γ</a> <a id="33385" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="33388" href="blog.Sequent.html#33356" class="Bound">k</a> <a id="33390" class="Symbol">-&gt;</a> <a id="33393" href="blog.Sequent.html#33354" class="Bound">Δ</a> <a id="33395" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="33398" href="blog.Sequent.html#33356" class="Bound">k</a>
    <a id="33404" href="blog.Sequent.html#33343" class="Function">tSub</a> <a id="33409" href="blog.Sequent.html#33409" class="Bound">σ</a> <a id="33411" href="blog.Sequent.html#32066" class="InductiveConstructor">⊤</a> <a id="33413" class="Symbol">=</a> <a id="33415" href="blog.Sequent.html#32066" class="InductiveConstructor">⊤</a>
    <a id="33421" href="blog.Sequent.html#33343" class="Function">tSub</a> <a id="33426" href="blog.Sequent.html#33426" class="Bound">σ</a> <a id="33428" href="blog.Sequent.html#32091" class="InductiveConstructor">⊥</a> <a id="33430" class="Symbol">=</a> <a id="33432" href="blog.Sequent.html#32091" class="InductiveConstructor">⊥</a>
    <a id="33438" href="blog.Sequent.html#33343" class="Function">tSub</a> <a id="33443" href="blog.Sequent.html#33443" class="Bound">σ</a> <a id="33445" class="Symbol">(</a><a id="33446" href="blog.Sequent.html#33446" class="Bound">t1</a> <a id="33449" href="blog.Sequent.html#32117" class="InductiveConstructor Operator">×</a> <a id="33451" href="blog.Sequent.html#33451" class="Bound">t2</a><a id="33453" class="Symbol">)</a> <a id="33455" class="Symbol">=</a> <a id="33457" href="blog.Sequent.html#33343" class="Function">tSub</a> <a id="33462" href="blog.Sequent.html#33443" class="Bound">σ</a> <a id="33464" href="blog.Sequent.html#33446" class="Bound">t1</a> <a id="33467" href="blog.Sequent.html#32117" class="InductiveConstructor Operator">×</a> <a id="33469" href="blog.Sequent.html#33343" class="Function">tSub</a> <a id="33474" href="blog.Sequent.html#33443" class="Bound">σ</a> <a id="33476" href="blog.Sequent.html#33451" class="Bound">t2</a>
    <a id="33483" href="blog.Sequent.html#33343" class="Function">tSub</a> <a id="33488" href="blog.Sequent.html#33488" class="Bound">σ</a> <a id="33490" class="Symbol">(</a><a id="33491" href="blog.Sequent.html#33491" class="Bound">t1</a> <a id="33494" href="blog.Sequent.html#32179" class="InductiveConstructor Operator">+</a> <a id="33496" href="blog.Sequent.html#33496" class="Bound">t2</a><a id="33498" class="Symbol">)</a> <a id="33500" class="Symbol">=</a> <a id="33502" href="blog.Sequent.html#33343" class="Function">tSub</a> <a id="33507" href="blog.Sequent.html#33488" class="Bound">σ</a> <a id="33509" href="blog.Sequent.html#33491" class="Bound">t1</a> <a id="33512" href="blog.Sequent.html#32179" class="InductiveConstructor Operator">+</a> <a id="33514" href="blog.Sequent.html#33343" class="Function">tSub</a> <a id="33519" href="blog.Sequent.html#33488" class="Bound">σ</a> <a id="33521" href="blog.Sequent.html#33496" class="Bound">t2</a>
    <a id="33528" href="blog.Sequent.html#33343" class="Function">tSub</a> <a id="33533" href="blog.Sequent.html#33533" class="Bound">σ</a> <a id="33535" class="Symbol">(</a><a id="33536" href="blog.Sequent.html#33536" class="Bound">t1</a> <a id="33539" href="blog.Sequent.html#32241" class="InductiveConstructor Operator">=&gt;</a> <a id="33542" href="blog.Sequent.html#33542" class="Bound">t2</a><a id="33544" class="Symbol">)</a> <a id="33546" class="Symbol">=</a> <a id="33548" href="blog.Sequent.html#33343" class="Function">tSub</a> <a id="33553" href="blog.Sequent.html#33533" class="Bound">σ</a> <a id="33555" href="blog.Sequent.html#33536" class="Bound">t1</a> <a id="33558" href="blog.Sequent.html#32241" class="InductiveConstructor Operator">=&gt;</a> <a id="33561" href="blog.Sequent.html#33343" class="Function">tSub</a> <a id="33566" href="blog.Sequent.html#33533" class="Bound">σ</a> <a id="33568" href="blog.Sequent.html#33542" class="Bound">t2</a>
    <a id="33575" href="blog.Sequent.html#33343" class="Function">tSub</a> <a id="33580" href="blog.Sequent.html#33580" class="Bound">σ</a> <a id="33582" class="Symbol">(</a><a id="33583" href="blog.Sequent.html#32418" class="InductiveConstructor">app</a> <a id="33587" href="blog.Sequent.html#33587" class="Bound">t1</a> <a id="33590" href="blog.Sequent.html#33590" class="Bound">t2</a><a id="33592" class="Symbol">)</a> <a id="33594" class="Symbol">=</a> <a id="33596" href="blog.Sequent.html#32418" class="InductiveConstructor">app</a> <a id="33600" class="Symbol">(</a><a id="33601" href="blog.Sequent.html#33343" class="Function">tSub</a> <a id="33606" href="blog.Sequent.html#33580" class="Bound">σ</a> <a id="33608" href="blog.Sequent.html#33587" class="Bound">t1</a><a id="33610" class="Symbol">)</a> <a id="33612" class="Symbol">(</a><a id="33613" href="blog.Sequent.html#33343" class="Function">tSub</a> <a id="33618" href="blog.Sequent.html#33580" class="Bound">σ</a> <a id="33620" href="blog.Sequent.html#33590" class="Bound">t2</a><a id="33622" class="Symbol">)</a>
    <a id="33628" href="blog.Sequent.html#33343" class="Function">tSub</a> <a id="33633" href="blog.Sequent.html#33633" class="Bound">σ</a> <a id="33635" class="Symbol">(</a><a id="33636" href="blog.Sequent.html#32304" class="InductiveConstructor">var</a> <a id="33640" href="blog.Sequent.html#33640" class="Bound">x</a><a id="33641" class="Symbol">)</a> <a id="33643" class="Symbol">=</a> <a id="33645" href="blog.Sequent.html#33633" class="Bound">σ</a> <a id="33647" href="blog.Sequent.html#33640" class="Bound">x</a>
    <a id="33653" href="blog.Sequent.html#33343" class="Function">tSub</a> <a id="33658" href="blog.Sequent.html#33658" class="Bound">σ</a> <a id="33660" class="Symbol">(</a><a id="33661" href="blog.Sequent.html#32344" class="InductiveConstructor">abs</a> <a id="33665" href="blog.Sequent.html#33665" class="Bound">t</a><a id="33666" class="Symbol">)</a> <a id="33668" class="Symbol">=</a> <a id="33670" href="blog.Sequent.html#32344" class="InductiveConstructor">abs</a> <a id="33674" class="Symbol">(</a><a id="33675" href="blog.Sequent.html#33343" class="Function">tSub</a> <a id="33680" class="Symbol">(λ</a> <a id="33683" class="Symbol">{</a> <a id="33685" href="blog.Sequent.html#31656" class="InductiveConstructor">here</a> <a id="33690" class="Symbol">→</a> <a id="33692" href="blog.Sequent.html#32304" class="InductiveConstructor">var</a> <a id="33696" href="blog.Sequent.html#31656" class="InductiveConstructor">here</a> <a id="33701" class="Symbol">;</a> <a id="33703" class="Symbol">(</a><a id="33704" href="blog.Sequent.html#31691" class="InductiveConstructor">skipk</a> <a id="33710" href="blog.Sequent.html#33710" class="Bound">x</a><a id="33711" class="Symbol">)</a> <a id="33713" class="Symbol">→</a> <a id="33715" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="33723" href="blog.Sequent.html#31691" class="InductiveConstructor">skipk</a> <a id="33729" class="Symbol">(</a><a id="33730" href="blog.Sequent.html#33658" class="Bound">σ</a> <a id="33732" href="blog.Sequent.html#33710" class="Bound">x</a><a id="33733" class="Symbol">)})</a> <a id="33737" href="blog.Sequent.html#33665" class="Bound">t</a><a id="33738" class="Symbol">)</a>
    <a id="33744" href="blog.Sequent.html#33343" class="Function">tSub</a> <a id="33749" href="blog.Sequent.html#33749" class="Bound">σ</a> <a id="33751" class="Symbol">(</a><a id="33752" href="blog.Sequent.html#32505" class="InductiveConstructor">∀&#39;</a> <a id="33755" href="blog.Sequent.html#33755" class="Bound">k</a> <a id="33757" href="blog.Sequent.html#33757" class="Bound">t</a><a id="33758" class="Symbol">)</a> <a id="33760" class="Symbol">=</a> <a id="33762" href="blog.Sequent.html#32505" class="InductiveConstructor">∀&#39;</a> <a id="33765" href="blog.Sequent.html#33755" class="Bound">k</a> <a id="33767" class="Symbol">(</a><a id="33768" href="blog.Sequent.html#33343" class="Function">tSub</a> <a id="33773" class="Symbol">(λ</a> <a id="33776" class="Symbol">{</a> <a id="33778" href="blog.Sequent.html#31656" class="InductiveConstructor">here</a> <a id="33783" class="Symbol">→</a> <a id="33785" href="blog.Sequent.html#32304" class="InductiveConstructor">var</a> <a id="33789" href="blog.Sequent.html#31656" class="InductiveConstructor">here</a> <a id="33794" class="Symbol">;</a> <a id="33796" class="Symbol">(</a><a id="33797" href="blog.Sequent.html#31691" class="InductiveConstructor">skipk</a> <a id="33803" href="blog.Sequent.html#33803" class="Bound">x</a><a id="33804" class="Symbol">)</a> <a id="33806" class="Symbol">→</a> <a id="33808" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="33816" href="blog.Sequent.html#31691" class="InductiveConstructor">skipk</a> <a id="33822" class="Symbol">(</a><a id="33823" href="blog.Sequent.html#33749" class="Bound">σ</a> <a id="33825" href="blog.Sequent.html#33803" class="Bound">x</a><a id="33826" class="Symbol">)})</a> <a id="33830" href="blog.Sequent.html#33757" class="Bound">t</a><a id="33831" class="Symbol">)</a>

    <a id="SystemFω._[_]t"></a><a id="33838" href="blog.Sequent.html#33838" class="Function Operator">_[_]t</a> <a id="33844" class="Symbol">:</a> <a id="33846" class="Symbol">∀{</a><a id="33848" href="blog.Sequent.html#33848" class="Bound">Γ</a> <a id="33850" href="blog.Sequent.html#33850" class="Bound">k1</a> <a id="33853" href="blog.Sequent.html#33853" class="Bound">k2</a><a id="33855" class="Symbol">}</a> <a id="33857" class="Symbol">-&gt;</a> <a id="33860" href="blog.Sequent.html#33848" class="Bound">Γ</a> <a id="33862" href="blog.Sequent.html#31320" class="InductiveConstructor Operator">,ₖ</a> <a id="33865" href="blog.Sequent.html#33850" class="Bound">k1</a> <a id="33868" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="33871" href="blog.Sequent.html#33853" class="Bound">k2</a> <a id="33874" class="Symbol">-&gt;</a> <a id="33877" href="blog.Sequent.html#33848" class="Bound">Γ</a> <a id="33879" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="33882" href="blog.Sequent.html#33850" class="Bound">k1</a> <a id="33885" class="Symbol">-&gt;</a> <a id="33888" href="blog.Sequent.html#33848" class="Bound">Γ</a> <a id="33890" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="33893" href="blog.Sequent.html#33853" class="Bound">k2</a>
    <a id="33900" href="blog.Sequent.html#33900" class="Bound">l</a> <a id="33902" href="blog.Sequent.html#33838" class="Function Operator">[</a> <a id="33904" href="blog.Sequent.html#33904" class="Bound">r</a> <a id="33906" href="blog.Sequent.html#33838" class="Function Operator">]t</a> <a id="33909" class="Symbol">=</a> <a id="33911" href="blog.Sequent.html#33343" class="Function">tSub</a> <a id="33916" class="Symbol">(λ</a> <a id="33919" class="Symbol">{</a> <a id="33921" href="blog.Sequent.html#31656" class="InductiveConstructor">here</a> <a id="33926" class="Symbol">→</a> <a id="33928" href="blog.Sequent.html#33904" class="Bound">r</a>
                       <a id="33953" class="Symbol">;</a> <a id="33955" class="Symbol">(</a><a id="33956" href="blog.Sequent.html#31691" class="InductiveConstructor">skipk</a> <a id="33962" href="blog.Sequent.html#33962" class="Bound">x</a><a id="33963" class="Symbol">)</a> <a id="33965" class="Symbol">→</a> <a id="33967" href="blog.Sequent.html#32304" class="InductiveConstructor">var</a> <a id="33971" href="blog.Sequent.html#33962" class="Bound">x</a><a id="33972" class="Symbol">})</a> <a id="33975" href="blog.Sequent.html#33900" class="Bound">l</a>
</pre>
</div>
</div>

<div id="outline-container-orgdf9d60f" class="outline-3">
<h3 id="orgdf9d60f"><span class="section-number-3">5.4.</span> Term references</h3>
<div class="outline-text-3" id="text-5-4">
<p>
Just as we had to add one constructor to type references earlier, we will do the
same for term references. Note that we re used the same names as for type
references, except we switched the meanings of <code>there</code> and <code>skip</code>.
</p>

<pre class="Agda">
    <a id="34253" class="Keyword">data</a> <a id="34258" href="blog.Sequent.html#30836" class="Datatype Operator">_∋_</a> <a id="34262" class="Keyword">where</a>
      <a id="SystemFω._∋_.here"></a><a id="34274" href="blog.Sequent.html#34274" class="InductiveConstructor">here</a> <a id="34279" class="Symbol">:</a> <a id="34281" class="Symbol">∀{</a><a id="34283" href="blog.Sequent.html#34283" class="Bound">Γ</a> <a id="34285" href="blog.Sequent.html#34285" class="Bound">t</a><a id="34286" class="Symbol">}</a>
        <a id="34296" class="Symbol">-&gt;</a> <a id="34299" href="blog.Sequent.html#34283" class="Bound">Γ</a> <a id="34301" href="blog.Sequent.html#31245" class="InductiveConstructor Operator">,</a> <a id="34303" href="blog.Sequent.html#34285" class="Bound">t</a> <a id="34305" href="blog.Sequent.html#30836" class="Datatype Operator">∋</a> <a id="34307" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="34315" href="blog.Sequent.html#31755" class="InductiveConstructor">skipt</a> <a id="34321" href="blog.Sequent.html#34285" class="Bound">t</a>
      <a id="SystemFω._∋_.skipt"></a><a id="34329" href="blog.Sequent.html#34329" class="InductiveConstructor">skipt</a> <a id="34335" class="Symbol">:</a> <a id="34337" class="Symbol">∀{</a><a id="34339" href="blog.Sequent.html#34339" class="Bound">Γ</a> <a id="34341" href="blog.Sequent.html#34341" class="Bound">t1</a> <a id="34344" href="blog.Sequent.html#34344" class="Bound">t2</a><a id="34346" class="Symbol">}</a>
        <a id="34356" class="Symbol">-&gt;</a> <a id="34359" href="blog.Sequent.html#34339" class="Bound">Γ</a> <a id="34361" href="blog.Sequent.html#30836" class="Datatype Operator">∋</a> <a id="34363" href="blog.Sequent.html#34341" class="Bound">t1</a>
        <a id="34374" class="Symbol">-&gt;</a> <a id="34377" href="blog.Sequent.html#34339" class="Bound">Γ</a> <a id="34379" href="blog.Sequent.html#31245" class="InductiveConstructor Operator">,</a> <a id="34381" href="blog.Sequent.html#34344" class="Bound">t2</a> <a id="34384" href="blog.Sequent.html#30836" class="Datatype Operator">∋</a> <a id="34386" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="34394" href="blog.Sequent.html#31755" class="InductiveConstructor">skipt</a> <a id="34400" href="blog.Sequent.html#34341" class="Bound">t1</a>

      <a id="SystemFω._∋_.skipk"></a><a id="34410" href="blog.Sequent.html#34410" class="InductiveConstructor">skipk</a> <a id="34416" class="Symbol">:</a> <a id="34418" class="Symbol">∀{</a><a id="34420" href="blog.Sequent.html#34420" class="Bound">Γ</a> <a id="34422" href="blog.Sequent.html#34422" class="Bound">t</a> <a id="34424" href="blog.Sequent.html#34424" class="Bound">k</a><a id="34425" class="Symbol">}</a>
        <a id="34435" class="Symbol">-&gt;</a> <a id="34438" href="blog.Sequent.html#34420" class="Bound">Γ</a> <a id="34440" href="blog.Sequent.html#30836" class="Datatype Operator">∋</a> <a id="34442" href="blog.Sequent.html#34422" class="Bound">t</a>
        <a id="34452" class="Symbol">-&gt;</a> <a id="34455" href="blog.Sequent.html#34420" class="Bound">Γ</a> <a id="34457" href="blog.Sequent.html#31320" class="InductiveConstructor Operator">,ₖ</a> <a id="34460" href="blog.Sequent.html#34424" class="Bound">k</a> <a id="34462" href="blog.Sequent.html#30836" class="Datatype Operator">∋</a> <a id="34464" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="34472" href="blog.Sequent.html#31691" class="InductiveConstructor">skipk</a> <a id="34478" href="blog.Sequent.html#34422" class="Bound">t</a>
</pre>
</div>
</div>

<div id="outline-container-orgfcf31f1" class="outline-3">
<h3 id="orgfcf31f1"><span class="section-number-3">5.5.</span> Terms</h3>
<div class="outline-text-3" id="text-5-5">
<p>
The definition of old terms are mostly the same as before, except we have to use
a bunch of <code>tShift</code>'s when we want to consider the same type in multple contexts.
</p>

<pre class="Agda">
    <a id="34687" class="Keyword">data</a> <a id="34692" class="Symbol">_</a> <a id="34694" class="Keyword">where</a>
      <a id="SystemFω._⊢_.var"></a><a id="34706" href="blog.Sequent.html#34706" class="InductiveConstructor">var</a> <a id="34710" class="Symbol">:</a> <a id="34712" class="Symbol">∀{</a><a id="34714" href="blog.Sequent.html#34714" class="Bound">Γ</a> <a id="34716" href="blog.Sequent.html#34716" class="Bound">t</a><a id="34717" class="Symbol">}</a>
        <a id="34727" class="Symbol">-&gt;</a> <a id="34730" href="blog.Sequent.html#34714" class="Bound">Γ</a> <a id="34732" href="blog.Sequent.html#30836" class="Datatype Operator">∋</a> <a id="34734" href="blog.Sequent.html#34716" class="Bound">t</a>
        <a id="34744" class="Symbol">-&gt;</a> <a id="34747" href="blog.Sequent.html#34714" class="Bound">Γ</a> <a id="34749" href="blog.Sequent.html#30707" class="Datatype Operator">⊢</a> <a id="34751" href="blog.Sequent.html#34716" class="Bound">t</a>


      <a id="SystemFω._⊢_.×-intro"></a><a id="34761" href="blog.Sequent.html#34761" class="InductiveConstructor">×-intro</a> <a id="34769" class="Symbol">:</a> <a id="34771" class="Symbol">∀{</a><a id="34773" href="blog.Sequent.html#34773" class="Bound">Γ</a> <a id="34775" href="blog.Sequent.html#34775" class="Bound">t1</a> <a id="34778" href="blog.Sequent.html#34778" class="Bound">t2</a><a id="34780" class="Symbol">}</a>
        <a id="34790" class="Symbol">-&gt;</a> <a id="34793" href="blog.Sequent.html#34773" class="Bound">Γ</a> <a id="34795" href="blog.Sequent.html#30707" class="Datatype Operator">⊢</a> <a id="34797" href="blog.Sequent.html#34775" class="Bound">t1</a>
        <a id="34808" class="Symbol">-&gt;</a> <a id="34811" href="blog.Sequent.html#34773" class="Bound">Γ</a> <a id="34813" href="blog.Sequent.html#30707" class="Datatype Operator">⊢</a> <a id="34815" href="blog.Sequent.html#34778" class="Bound">t2</a>
        <a id="34826" class="Symbol">-&gt;</a> <a id="34829" href="blog.Sequent.html#34773" class="Bound">Γ</a> <a id="34831" href="blog.Sequent.html#30707" class="Datatype Operator">⊢</a> <a id="34833" href="blog.Sequent.html#34775" class="Bound">t1</a> <a id="34836" href="blog.Sequent.html#32117" class="InductiveConstructor Operator">×</a> <a id="34838" href="blog.Sequent.html#34778" class="Bound">t2</a>

      <a id="SystemFω._⊢_.×-elim"></a><a id="34848" href="blog.Sequent.html#34848" class="InductiveConstructor">×-elim</a> <a id="34855" class="Symbol">:</a> <a id="34857" class="Symbol">∀{</a><a id="34859" href="blog.Sequent.html#34859" class="Bound">Γ</a> <a id="34861" href="blog.Sequent.html#34861" class="Bound">t1</a> <a id="34864" href="blog.Sequent.html#34864" class="Bound">t2</a> <a id="34867" href="blog.Sequent.html#34867" class="Bound">t3</a><a id="34869" class="Symbol">}</a>
        <a id="34879" class="Symbol">-&gt;</a> <a id="34882" href="blog.Sequent.html#34859" class="Bound">Γ</a> <a id="34884" href="blog.Sequent.html#30707" class="Datatype Operator">⊢</a> <a id="34886" href="blog.Sequent.html#34861" class="Bound">t1</a> <a id="34889" href="blog.Sequent.html#32117" class="InductiveConstructor Operator">×</a> <a id="34891" href="blog.Sequent.html#34864" class="Bound">t2</a>
        <a id="34902" class="Symbol">-&gt;</a> <a id="34905" href="blog.Sequent.html#34859" class="Bound">Γ</a> <a id="34907" href="blog.Sequent.html#31245" class="InductiveConstructor Operator">,</a> <a id="34909" href="blog.Sequent.html#34861" class="Bound">t1</a> <a id="34912" href="blog.Sequent.html#31245" class="InductiveConstructor Operator">,</a> <a id="34914" class="Symbol">(</a><a id="34915" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="34923" href="blog.Sequent.html#31755" class="InductiveConstructor">skipt</a> <a id="34929" href="blog.Sequent.html#34864" class="Bound">t2</a><a id="34931" class="Symbol">)</a> <a id="34933" href="blog.Sequent.html#30707" class="Datatype Operator">⊢</a> <a id="34935" class="Symbol">(</a><a id="34936" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="34944" href="blog.Sequent.html#31755" class="InductiveConstructor">skipt</a> <a id="34950" class="Symbol">(</a><a id="34951" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="34959" href="blog.Sequent.html#31755" class="InductiveConstructor">skipt</a>  <a id="34966" href="blog.Sequent.html#34867" class="Bound">t3</a><a id="34968" class="Symbol">))</a>
        <a id="34979" class="Symbol">-&gt;</a> <a id="34982" href="blog.Sequent.html#34859" class="Bound">Γ</a> <a id="34984" href="blog.Sequent.html#30707" class="Datatype Operator">⊢</a> <a id="34986" href="blog.Sequent.html#34867" class="Bound">t3</a>


      <a id="SystemFω._⊢_.+-intro-left"></a><a id="34997" href="blog.Sequent.html#34997" class="InductiveConstructor">+-intro-left</a> <a id="35010" class="Symbol">:</a> <a id="35012" class="Symbol">∀{</a><a id="35014" href="blog.Sequent.html#35014" class="Bound">Γ</a> <a id="35016" href="blog.Sequent.html#35016" class="Bound">t1</a> <a id="35019" href="blog.Sequent.html#35019" class="Bound">t2</a><a id="35021" class="Symbol">}</a>
        <a id="35031" class="Symbol">-&gt;</a> <a id="35034" href="blog.Sequent.html#35014" class="Bound">Γ</a> <a id="35036" href="blog.Sequent.html#30707" class="Datatype Operator">⊢</a> <a id="35038" href="blog.Sequent.html#35016" class="Bound">t1</a>
        <a id="35049" class="Symbol">-&gt;</a> <a id="35052" href="blog.Sequent.html#35014" class="Bound">Γ</a> <a id="35054" href="blog.Sequent.html#30707" class="Datatype Operator">⊢</a> <a id="35056" href="blog.Sequent.html#35016" class="Bound">t1</a> <a id="35059" href="blog.Sequent.html#32179" class="InductiveConstructor Operator">+</a> <a id="35061" href="blog.Sequent.html#35019" class="Bound">t2</a>

      <a id="SystemFω._⊢_.+-intro-right"></a><a id="35071" href="blog.Sequent.html#35071" class="InductiveConstructor">+-intro-right</a> <a id="35085" class="Symbol">:</a> <a id="35087" class="Symbol">∀{</a><a id="35089" href="blog.Sequent.html#35089" class="Bound">Γ</a> <a id="35091" href="blog.Sequent.html#35091" class="Bound">t1</a> <a id="35094" href="blog.Sequent.html#35094" class="Bound">t2</a><a id="35096" class="Symbol">}</a>
        <a id="35106" class="Symbol">-&gt;</a> <a id="35109" href="blog.Sequent.html#35089" class="Bound">Γ</a> <a id="35111" href="blog.Sequent.html#30707" class="Datatype Operator">⊢</a> <a id="35113" href="blog.Sequent.html#35094" class="Bound">t2</a>
        <a id="35124" class="Symbol">-&gt;</a> <a id="35127" href="blog.Sequent.html#35089" class="Bound">Γ</a> <a id="35129" href="blog.Sequent.html#30707" class="Datatype Operator">⊢</a> <a id="35131" href="blog.Sequent.html#35091" class="Bound">t1</a> <a id="35134" href="blog.Sequent.html#32179" class="InductiveConstructor Operator">+</a> <a id="35136" href="blog.Sequent.html#35094" class="Bound">t2</a>

      <a id="SystemFω._⊢_.+-elim"></a><a id="35146" href="blog.Sequent.html#35146" class="InductiveConstructor">+-elim</a> <a id="35153" class="Symbol">:</a> <a id="35155" class="Symbol">∀{</a><a id="35157" href="blog.Sequent.html#35157" class="Bound">Γ</a> <a id="35159" href="blog.Sequent.html#35159" class="Bound">t1</a> <a id="35162" href="blog.Sequent.html#35162" class="Bound">t2</a> <a id="35165" href="blog.Sequent.html#35165" class="Bound">t3</a><a id="35167" class="Symbol">}</a>
        <a id="35177" class="Symbol">-&gt;</a> <a id="35180" href="blog.Sequent.html#35157" class="Bound">Γ</a> <a id="35182" href="blog.Sequent.html#30707" class="Datatype Operator">⊢</a> <a id="35184" href="blog.Sequent.html#35159" class="Bound">t1</a> <a id="35187" href="blog.Sequent.html#32179" class="InductiveConstructor Operator">+</a> <a id="35189" href="blog.Sequent.html#35162" class="Bound">t2</a>
        <a id="35200" class="Symbol">-&gt;</a> <a id="35203" href="blog.Sequent.html#35157" class="Bound">Γ</a> <a id="35205" href="blog.Sequent.html#31245" class="InductiveConstructor Operator">,</a> <a id="35207" href="blog.Sequent.html#35159" class="Bound">t1</a> <a id="35210" href="blog.Sequent.html#30707" class="Datatype Operator">⊢</a> <a id="35212" class="Symbol">(</a><a id="35213" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="35221" href="blog.Sequent.html#31755" class="InductiveConstructor">skipt</a> <a id="35227" href="blog.Sequent.html#35165" class="Bound">t3</a><a id="35229" class="Symbol">)</a>
        <a id="35239" class="Symbol">-&gt;</a> <a id="35242" href="blog.Sequent.html#35157" class="Bound">Γ</a> <a id="35244" href="blog.Sequent.html#31245" class="InductiveConstructor Operator">,</a> <a id="35246" href="blog.Sequent.html#35162" class="Bound">t2</a> <a id="35249" href="blog.Sequent.html#30707" class="Datatype Operator">⊢</a> <a id="35251" class="Symbol">(</a><a id="35252" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="35260" href="blog.Sequent.html#31755" class="InductiveConstructor">skipt</a> <a id="35266" href="blog.Sequent.html#35165" class="Bound">t3</a><a id="35268" class="Symbol">)</a>
        <a id="35278" class="Symbol">-&gt;</a> <a id="35281" href="blog.Sequent.html#35157" class="Bound">Γ</a> <a id="35283" href="blog.Sequent.html#30707" class="Datatype Operator">⊢</a> <a id="35285" href="blog.Sequent.html#35165" class="Bound">t3</a>


      <a id="SystemFω._⊢_.=&gt;-intro"></a><a id="35296" href="blog.Sequent.html#35296" class="InductiveConstructor">=&gt;-intro</a> <a id="35305" class="Symbol">:</a> <a id="35307" class="Symbol">∀{</a><a id="35309" href="blog.Sequent.html#35309" class="Bound">Γ</a> <a id="35311" href="blog.Sequent.html#35311" class="Bound">t1</a> <a id="35314" href="blog.Sequent.html#35314" class="Bound">t2</a><a id="35316" class="Symbol">}</a>
        <a id="35326" class="Symbol">-&gt;</a> <a id="35329" href="blog.Sequent.html#35309" class="Bound">Γ</a> <a id="35331" href="blog.Sequent.html#31245" class="InductiveConstructor Operator">,</a> <a id="35333" href="blog.Sequent.html#35311" class="Bound">t1</a> <a id="35336" href="blog.Sequent.html#30707" class="Datatype Operator">⊢</a> <a id="35338" class="Symbol">(</a><a id="35339" href="blog.Sequent.html#32811" class="Function">tRename</a> <a id="35347" href="blog.Sequent.html#31755" class="InductiveConstructor">skipt</a> <a id="35353" href="blog.Sequent.html#35314" class="Bound">t2</a><a id="35355" class="Symbol">)</a>
        <a id="35365" class="Symbol">-&gt;</a> <a id="35368" href="blog.Sequent.html#35309" class="Bound">Γ</a> <a id="35370" href="blog.Sequent.html#30707" class="Datatype Operator">⊢</a> <a id="35372" href="blog.Sequent.html#35311" class="Bound">t1</a> <a id="35375" href="blog.Sequent.html#32241" class="InductiveConstructor Operator">=&gt;</a> <a id="35378" href="blog.Sequent.html#35314" class="Bound">t2</a>
      <a id="SystemFω._⊢_.=&gt;-elim"></a><a id="35387" href="blog.Sequent.html#35387" class="InductiveConstructor">=&gt;-elim</a> <a id="35395" class="Symbol">:</a> <a id="35397" class="Symbol">∀{</a><a id="35399" href="blog.Sequent.html#35399" class="Bound">Γ</a> <a id="35401" href="blog.Sequent.html#35401" class="Bound">t1</a> <a id="35404" href="blog.Sequent.html#35404" class="Bound">t2</a><a id="35406" class="Symbol">}</a>
        <a id="35416" class="Symbol">-&gt;</a> <a id="35419" href="blog.Sequent.html#35399" class="Bound">Γ</a> <a id="35421" href="blog.Sequent.html#30707" class="Datatype Operator">⊢</a> <a id="35423" href="blog.Sequent.html#35401" class="Bound">t1</a> <a id="35426" href="blog.Sequent.html#32241" class="InductiveConstructor Operator">=&gt;</a> <a id="35429" href="blog.Sequent.html#35404" class="Bound">t2</a>
        <a id="35440" class="Symbol">-&gt;</a> <a id="35443" href="blog.Sequent.html#35399" class="Bound">Γ</a> <a id="35445" href="blog.Sequent.html#30707" class="Datatype Operator">⊢</a> <a id="35447" href="blog.Sequent.html#35401" class="Bound">t1</a>
        <a id="35458" class="Symbol">-&gt;</a> <a id="35461" href="blog.Sequent.html#35399" class="Bound">Γ</a> <a id="35463" href="blog.Sequent.html#30707" class="Datatype Operator">⊢</a> <a id="35465" href="blog.Sequent.html#35404" class="Bound">t2</a>
</pre>
</div>
</div>


<div id="outline-container-org8a2ede9" class="outline-3">
<h3 id="org8a2ede9"><span class="section-number-3">5.6.</span> Encoding the functor typeclass</h3>
<div class="outline-text-3" id="text-5-6">
<p>
In Haskell, a witness that some type constructor \( f : * \Rightarrow * \) is a functor is
simply some polymorphic <code>fmap</code> implementation.
</p>

<pre class="Agda">
  <a id="SystemFω.functor"></a><a id="35674" href="blog.Sequent.html#35674" class="Function">functor</a> <a id="35682" class="Symbol">:</a> <a id="35684" class="Symbol">∀{</a><a id="35686" href="blog.Sequent.html#35686" class="Bound">Γ</a><a id="35687" class="Symbol">}</a> <a id="35689" class="Symbol">-&gt;</a> <a id="35692" href="blog.Sequent.html#35686" class="Bound">Γ</a> <a id="35694" href="blog.Sequent.html#30649" class="Datatype Operator">⊢ₖ</a> <a id="35697" class="Symbol">(</a><a id="35698" href="blog.Sequent.html#30572" class="InductiveConstructor">*</a> <a id="35700" href="blog.Sequent.html#30587" class="InductiveConstructor Operator">=&gt;</a> <a id="35703" href="blog.Sequent.html#30572" class="InductiveConstructor">*</a><a id="35704" class="Symbol">)</a> <a id="35706" href="blog.Sequent.html#30587" class="InductiveConstructor Operator">=&gt;</a> <a id="35709" href="blog.Sequent.html#30572" class="InductiveConstructor">*</a>
  <a id="35713" class="Comment">-- functor f = ∀(a:*). ∀(b:*) (a =&gt; b) =&gt; f a =&gt; f b</a>
  <a id="35768" href="blog.Sequent.html#35674" class="Function">functor</a> <a id="35776" class="Symbol">=</a>
    <a id="35782" href="blog.Sequent.html#32344" class="InductiveConstructor">abs</a>
      <a id="35792" class="Symbol">(</a><a id="35793" href="blog.Sequent.html#32505" class="InductiveConstructor">∀&#39;</a> <a id="35796" href="blog.Sequent.html#30572" class="InductiveConstructor">*</a>
        <a id="35806" class="Symbol">(</a><a id="35807" href="blog.Sequent.html#32505" class="InductiveConstructor">∀&#39;</a> <a id="35810" href="blog.Sequent.html#30572" class="InductiveConstructor">*</a>
          <a id="35822" class="Symbol">((</a><a id="35824" href="blog.Sequent.html#32304" class="InductiveConstructor">var</a> <a id="35828" class="Symbol">(</a><a id="35829" href="blog.Sequent.html#31691" class="InductiveConstructor">skipk</a> <a id="35835" href="blog.Sequent.html#31656" class="InductiveConstructor">here</a><a id="35839" class="Symbol">)</a> <a id="35841" href="blog.Sequent.html#32241" class="InductiveConstructor Operator">=&gt;</a> <a id="35844" href="blog.Sequent.html#32304" class="InductiveConstructor">var</a> <a id="35848" href="blog.Sequent.html#31656" class="InductiveConstructor">here</a><a id="35852" class="Symbol">)</a>
           <a id="35865" href="blog.Sequent.html#32241" class="InductiveConstructor Operator">=&gt;</a> <a id="35868" href="blog.Sequent.html#32418" class="InductiveConstructor">app</a> <a id="35872" class="Symbol">(</a><a id="35873" href="blog.Sequent.html#32304" class="InductiveConstructor">var</a> <a id="35877" class="Symbol">(</a><a id="35878" href="blog.Sequent.html#31691" class="InductiveConstructor">skipk</a> <a id="35884" class="Symbol">(</a><a id="35885" href="blog.Sequent.html#31691" class="InductiveConstructor">skipk</a> <a id="35891" href="blog.Sequent.html#31656" class="InductiveConstructor">here</a><a id="35895" class="Symbol">)))</a> <a id="35899" class="Symbol">(</a><a id="35900" href="blog.Sequent.html#32304" class="InductiveConstructor">var</a> <a id="35904" class="Symbol">(</a><a id="35905" href="blog.Sequent.html#31691" class="InductiveConstructor">skipk</a> <a id="35911" href="blog.Sequent.html#31656" class="InductiveConstructor">here</a><a id="35915" class="Symbol">))</a>
           <a id="35929" href="blog.Sequent.html#32241" class="InductiveConstructor Operator">=&gt;</a> <a id="35932" href="blog.Sequent.html#32418" class="InductiveConstructor">app</a> <a id="35936" class="Symbol">(</a><a id="35937" href="blog.Sequent.html#32304" class="InductiveConstructor">var</a> <a id="35941" class="Symbol">(</a><a id="35942" href="blog.Sequent.html#31691" class="InductiveConstructor">skipk</a> <a id="35948" class="Symbol">(</a><a id="35949" href="blog.Sequent.html#31691" class="InductiveConstructor">skipk</a> <a id="35955" href="blog.Sequent.html#31656" class="InductiveConstructor">here</a><a id="35959" class="Symbol">)))</a> <a id="35963" class="Symbol">(</a><a id="35964" href="blog.Sequent.html#32304" class="InductiveConstructor">var</a> <a id="35968" href="blog.Sequent.html#31656" class="InductiveConstructor">here</a><a id="35972" class="Symbol">))))</a>
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Justin Veilleux</p>
<p class="date">Created: 2024-09-21 Sat 17:55</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
